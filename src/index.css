@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* Dark theme (default) */
  body {
    @apply bg-dark-900 text-gray-100 antialiased;
  }

  * {
    @apply border-dark-600;
  }

  /* Light theme - Enhanced professional design */
  [data-theme="light"] body {
    background: linear-gradient(135deg, #F0F4F8 0%, #E3EDF7 50%, #D6E4F0 100%);
    color: #1A334D;
  }

  [data-theme="light"] * {
    @apply border-light-300;
  }

  /* Light theme main container background */
  [data-theme="light"] .min-h-screen {
    background: linear-gradient(135deg, #F0F4F8 0%, #E3EDF7 50%, #D6E4F0 100%) !important;
    color: #1A334D !important;
  }

  /* Light theme background overrides */
  [data-theme="light"] .bg-dark-900 {
    background: linear-gradient(135deg, #FFFFFF 0%, #F7FAFB 100%) !important;
  }

  [data-theme="light"] .bg-dark-800 {
    background: #FFFFFF !important;
    border-color: #D0D7DE !important;
  }

  [data-theme="light"] .bg-dark-800\/50,
  [data-theme="light"] .bg-dark-800\/60 {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #D0D7DE !important;
  }

  [data-theme="light"] .bg-dark-700 {
    background: #F7FAFB !important;
    color: #1A334D !important;
  }

  [data-theme="light"] .bg-dark-700\/50 {
    background: rgba(247, 250, 251, 0.8) !important;
  }

  [data-theme="light"] .bg-dark-600 {
    background: #ECECEC !important;
  }

  [data-theme="light"] .bg-dark-900\/50 {
    background: rgba(255, 255, 255, 0.9) !important;
  }

  /* Light theme gradient backgrounds */
  [data-theme="light"] .bg-gradient-to-br {
    background: linear-gradient(to bottom right, #F0F4F8, #E3EDF7, #F0F4F8) !important;
  }

  /* Light theme text color overrides */
  [data-theme="light"] .text-gray-100,
  [data-theme="light"] .text-gray-200 {
    color: #1A334D !important;
  }

  [data-theme="light"] .text-gray-300,
  [data-theme="light"] .text-gray-400 {
    color: #475569 !important;
  }

  [data-theme="light"] .text-gray-500 {
    color: #64748b !important;
  }

  /* Light theme border overrides */
  [data-theme="light"] .border-dark-600 {
    border-color: #D0D7DE !important;
  }

  [data-theme="light"] .border-dark-700 {
    border-color: #C0C7CE !important;
  }

  [data-theme="light"] .border-slate-700\/30 {
    border-color: rgba(192, 199, 206, 0.5) !important;
  }

  /* Light theme hover states */
  [data-theme="light"] .hover\:bg-dark-600:hover {
    background: #E3EDF7 !important;
  }

  [data-theme="light"] .hover\:bg-dark-700:hover {
    background: #F0F4F8 !important;
  }

  [data-theme="light"] .hover\:bg-dark-800\/80:hover {
    background: rgba(255, 255, 255, 0.98) !important;
  }

  [data-theme="light"] .hover\:border-orange-500\/30:hover {
    border-color: rgba(249, 115, 22, 0.4) !important;
  }

  /* Enhanced Focus Indicators for Accessibility */
  /* Remove default focus outline */
  *:focus {
    outline: none;
  }

  /* Custom focus-visible styles - WCAG 2.1 AA Compliant */
  *:focus-visible {
    outline: 2px solid theme('colors.cyber.blue');
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Enhanced focus for interactive elements */
  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    outline: 3px solid theme('colors.cyber.blue');
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(0, 243, 255, 0.2);
  }

  /* Focus for form inputs */
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid theme('colors.cyber.blue');
    outline-offset: 0px;
    box-shadow: 0 0 0 4px rgba(0, 243, 255, 0.15);
  }

  /* Focus-within for cards - highlights parent when child is focused */
  .glass-card:focus-within,
  .glass-panel:focus-within {
    border-color: theme('colors.cyber.blue');
    box-shadow: 0 0 20px rgba(0, 243, 255, 0.3);
  }
}

@layer components {
  .glass-panel {
    @apply bg-dark-800/40 backdrop-blur-md border border-dark-600/50 rounded-lg shadow-lg;
  }

  [data-theme="light"] .glass-panel {
    @apply bg-light-100/90 backdrop-blur-md border border-light-300/60 shadow-sm;
    background: rgba(255, 255, 255, 0.92);
    border: 1.5px solid rgba(208, 215, 222, 0.7);
    box-shadow: 
      0 4px 16px rgba(26, 51, 77, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }

  .neon-border {
    @apply border-2 border-cyber-blue shadow-neon;
  }

  .cyber-button {
    @apply px-4 py-2 bg-dark-700 border border-cyber-blue/50 rounded text-cyber-blue 
           hover:bg-cyber-blue/10 hover:border-cyber-blue transition-all duration-200
           active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed
           disabled:bg-dark-800 disabled:border-dark-600 disabled:text-disabled-dark;
  }

  [data-theme="light"] .cyber-button {
    @apply bg-light-100 border-primary-light/60 text-primary-light hover:bg-primary-light/10 hover:border-primary-light
           disabled:opacity-60 disabled:bg-light-200 disabled:border-light-300 disabled:text-disabled-light;
  }

  /* Enhanced hover state for light theme buttons */
  [data-theme="light"] .cyber-button:hover:not(:disabled) {
    background: linear-gradient(135deg, #1976D2, #1565C0);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);
    transform: translateY(-1px);
  }

  .cyber-input {
    @apply bg-dark-800 border border-dark-600 rounded px-3 py-2 text-gray-100
           focus:border-cyber-blue focus:ring-1 focus:ring-cyber-blue outline-none
           transition-all duration-200
           disabled:text-disabled-dark disabled:cursor-not-allowed;
  }

  [data-theme="light"] .cyber-input {
    @apply bg-white border-light-300 text-light-900 focus:border-primary-light focus:ring-primary-light
           disabled:text-disabled-light disabled:bg-light-200;
    border-width: 2px;
    border-color: #C0C7CE;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
  }

  [data-theme="light"] .cyber-input:focus {
    border-color: #1976D2;
    box-shadow: 
      inset 0 1px 2px rgba(0, 0, 0, 0.05),
      0 0 0 3px rgba(25, 118, 210, 0.15);
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-dark-800 rounded;
  }

  [data-theme="light"] .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-light-200 rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-cyber-blue/30 rounded;
  }

  [data-theme="light"] .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-primary-light/50 rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-cyber-blue/50;
  }

  [data-theme="light"] .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-primary-light/70;
  }
}

@layer utilities {
  .text-glow {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }

  .box-glow {
    box-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor;
  }

  /* Glassmorphism effects */
  .glass-card {
    --card-border-start: rgba(56, 189, 248, 0.75);
    --card-border-end: rgba(129, 140, 248, 0.55);
    --card-border-glow: rgba(56, 189, 248, 0.28);
    position: relative;
    isolation: isolate;
    overflow: hidden;
    border-radius: 1.5rem;
    background: linear-gradient(140deg, rgba(15, 23, 42, 0.94), rgba(9, 14, 26, 0.88));
    border: 1px solid rgba(148, 163, 184, 0.15);
    backdrop-filter: blur(18px);
    box-shadow: 0 24px 64px rgba(2, 6, 23, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.04);
    transition: box-shadow 0.3s ease, border-color 0.3s ease;
  }

  /* Light theme glass card - Enhanced depth and elevation */
  [data-theme="light"] .glass-card {
    background: linear-gradient(140deg, rgba(255, 255, 255, 0.98), rgba(247, 250, 251, 0.95));
    border: 1.5px solid rgba(25, 118, 210, 0.15);
    box-shadow: 
      0 10px 40px rgba(26, 51, 77, 0.10),
      0 2px 8px rgba(26, 51, 77, 0.06),
      inset 0 1px 1px rgba(255, 255, 255, 1);
  }

  /* Light theme gradient border */
  [data-theme="light"] .glass-card {
    --card-border-start: rgba(25, 118, 210, 0.5);
    --card-border-end: rgba(25, 118, 210, 0.3);
    --card-border-glow: rgba(25, 118, 210, 0.15);
  }

  .glass-card::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 2px;
    border-radius: inherit;
    background: linear-gradient(140deg, var(--card-border-start), var(--card-border-end));
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude;
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    pointer-events: none;
    opacity: 0.95;
    transition: opacity 0.3s ease;
    z-index: 0;
  }

  .glass-card::after {
    content: '';
    position: absolute;
    inset: -25%;
    border-radius: 45% 55% 50% 60%;
    background: radial-gradient(70% 60% at 50% 0%, var(--card-border-glow), transparent 75%);
    filter: blur(24px);
    opacity: 0.6;
    pointer-events: none;
    transition: opacity 0.3s ease, filter 0.3s ease;
    z-index: 0;
  }

  .glass-card > * {
    position: relative;
    z-index: 1;
  }

  .glass-card:hover {
    box-shadow: 0 28px 70px rgba(2, 6, 23, 0.55), 0 0 32px var(--card-border-glow);
  }

  /* Light theme hover - Enhanced elevation */
  [data-theme="light"] .glass-card:hover {
    box-shadow: 
      0 14px 48px rgba(26, 51, 77, 0.14),
      0 4px 12px rgba(26, 51, 77, 0.08);
    transform: translateY(-2px);
    border-color: rgba(25, 118, 210, 0.25);
  }

  .glass-card:hover::before {
    opacity: 1;
  }

  .glass-card:hover::after {
    opacity: 0.85;
    filter: blur(30px);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.5s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }

  .animate-pulse-slow {
    animation: pulseSlow 3s ease-in-out infinite;
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradientShift 3s ease infinite;
  }

  /* Byte appearance animation for response visualizer */
  .animate-byte-appear {
    animation: byteAppear 0.3s ease-out forwards;
    opacity: 0;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-500 bg-clip-text text-transparent;
  }

  /* Light theme gradient text - deeper, more saturated colors */
  [data-theme="light"] .gradient-text {
    background: linear-gradient(to right, #0277BD, #1976D2, #5E35B1);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Shadow utilities */
  .shadow-neon-cyan {
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
  }

  .shadow-neon-purple {
    box-shadow: 0 0 20px rgba(168, 85, 247, 0.5);
  }

  .shadow-neon-green {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
  }

  /* Status color utilities - Dark Mode */
  .status-critical {
    @apply text-status-critical-dark;
  }
  
  .status-warning {
    @apply text-status-warning-dark;
  }
  
  .status-success {
    @apply text-status-success-dark;
  }
  
  .status-info {
    @apply text-status-info-dark;
  }

  .bg-status-critical {
    @apply bg-status-critical-dark/20 border-status-critical-dark/50;
  }
  
  .bg-status-warning {
    @apply bg-status-warning-dark/20 border-status-warning-dark/50;
  }
  
  .bg-status-success {
    @apply bg-status-success-dark/20 border-status-success-dark/50;
  }
  
  .bg-status-info {
    @apply bg-status-info-dark/20 border-status-info-dark/50;
  }

  /* Status color utilities - Light Mode */
  [data-theme="light"] .status-critical {
    @apply text-status-critical-light;
  }
  
  [data-theme="light"] .status-warning {
    @apply text-status-warning-light;
  }
  
  [data-theme="light"] .status-success {
    @apply text-status-success-light;
  }
  
  [data-theme="light"] .status-info {
    @apply text-status-info-light;
  }

  [data-theme="light"] .bg-status-critical {
    @apply bg-status-critical-light/10 border-status-critical-light/40;
  }
  
  [data-theme="light"] .bg-status-warning {
    @apply bg-status-warning-light/10 border-status-warning-light/40;
  }
  
  [data-theme="light"] .bg-status-success {
    @apply bg-status-success-light/10 border-status-success-light/40;
  }
  
  [data-theme="light"] .bg-status-info {
    @apply bg-status-info-light/10 border-status-info-light/40;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-1 flex-1 rounded transition-all duration-300;
  }

  /* Micro-interaction hover effects */
  .hover-lift {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .hover-scale {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hover-scale:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 25px rgba(0, 243, 255, 0.3);
  }

  .shimmer-effect {
    background: linear-gradient(
      90deg,
      var(--shimmer-start, transparent) 0%,
      var(--shimmer-middle, rgba(255, 255, 255, 0.3)) 50%,
      var(--shimmer-end, transparent) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  .animate-gradient-shift {
    background-size: 200% 200%;
    animation: gradientShift 3s ease infinite;
  }

  .animate-float {
    animation: float 18s ease-in-out infinite;
  }

  .animate-float-fast {
    animation: float 10s ease-in-out infinite;
  }

  .animate-float-slow {
    animation: float 26s ease-in-out infinite;
  }

  .animate-twinkle {
    animation: twinkle 3.8s ease-in-out infinite;
  }

  .animate-twinkle-slow {
    animation: twinkle 6s ease-in-out infinite;
  }

  .animate-streak {
    animation: streak 14s linear infinite;
    will-change: transform, opacity;
  }

  /* Light theme - Faster particle animations */
  [data-theme="light"] .animate-float {
    animation: float 9s ease-in-out infinite;
  }

  [data-theme="light"] .animate-float-fast {
    animation: float 5s ease-in-out infinite;
  }

  [data-theme="light"] .animate-float-slow {
    animation: float 13s ease-in-out infinite;
  }

  [data-theme="light"] .animate-twinkle {
    animation: twinkle 1.9s ease-in-out infinite;
  }

  [data-theme="light"] .animate-twinkle-slow {
    animation: twinkle 3s ease-in-out infinite;
  }

  [data-theme="light"] .animate-streak {
    animation: streak 7s linear infinite;
  }

  .particle-glow {
    filter: drop-shadow(0 0 6px rgba(0, 255, 255, 0.35));
  }

  .particle-glow-strong {
    filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.35));
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out forwards;
  }

  .bg-size-200 {
    background-size: 200% 100%;
  }

  /* Onboarding Tour Highlight */
  .tour-highlight {
    position: relative;
    z-index: 45;
    animation: tourHighlight 1.5s ease-in-out infinite;
  }

  @keyframes tourHighlight {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(0, 243, 255, 0.7), 0 0 30px rgba(0, 243, 255, 0.3);
    }
    50% {
      box-shadow: 0 0 0 8px rgba(0, 243, 255, 0), 0 0 50px rgba(0, 243, 255, 0.5);
    }
  }

  /* Tooltip animations */
  .tooltip-content {
    animation-duration: 0.2s;
    animation-timing-function: ease-out;
  }

  @keyframes tooltipFadeIn {
    from {
      opacity: 0;
      transform: scale(0.96) translateY(-4px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
}

/* ========================================
   HIGH CONTRAST MODE (WCAG AAA - 7:1)
   ======================================== */
[data-contrast="high"] {
  /* Pure colors - no transparency */
  --bg-pure-black: #000000;
  --text-pure-white: #ffffff;
  --cyber-blue-bright: #00ffff;
  --cyber-green-bright: #00ff00;
  --cyber-pink-bright: #ff00ff;
  --cyber-purple-bright: #9d00ff;
  --border-width: 2px;
}

[data-contrast="high"] body {
  background-color: var(--bg-pure-black) !important;
  color: var(--text-pure-white) !important;
}

/* Remove all transparency/blur effects */
[data-contrast="high"] .glass-panel,
[data-contrast="high"] .glass-card {
  background: var(--bg-pure-black) !important;
  backdrop-filter: none !important;
  border-width: var(--border-width) !important;
  border-color: var(--cyber-blue-bright) !important;
}

[data-contrast="high"] .glass-card::before,
[data-contrast="high"] .glass-card::after {
  display: none !important;
}

/* Boost text contrast */
[data-contrast="high"] .text-gray-100,
[data-contrast="high"] .text-gray-200,
[data-contrast="high"] .text-gray-300 {
  color: var(--text-pure-white) !important;
}

[data-contrast="high"] .text-gray-400,
[data-contrast="high"] .text-gray-500 {
  color: #cccccc !important;
}

/* Enhance cyber colors */
[data-contrast="high"] .text-cyber-blue,
[data-contrast="high"] .border-cyber-blue {
  color: var(--cyber-blue-bright) !important;
  border-color: var(--cyber-blue-bright) !important;
}

[data-contrast="high"] .text-cyber-green,
[data-contrast="high"] .border-cyber-green {
  color: var(--cyber-green-bright) !important;
  border-color: var(--cyber-green-bright) !important;
}

[data-contrast="high"] .text-cyber-pink,
[data-contrast="high"] .border-cyber-pink {
  color: var(--cyber-pink-bright) !important;
  border-color: var(--cyber-pink-bright) !important;
}

[data-contrast="high"] .text-cyber-purple,
[data-contrast="high"] .border-cyber-purple {
  color: var(--cyber-purple-bright) !important;
  border-color: var(--cyber-purple-bright) !important;
}

/* Remove subtle background colors */
[data-contrast="high"] .bg-dark-800,
[data-contrast="high"] .bg-dark-700,
[data-contrast="high"] .bg-dark-900 {
  background-color: var(--bg-pure-black) !important;
}

/* Solid backgrounds for colored elements */
[data-contrast="high"] .bg-cyber-blue\/10,
[data-contrast="high"] .bg-cyber-blue\/20 {
  background-color: rgba(0, 255, 255, 0.3) !important;
}

[data-contrast="high"] .bg-cyber-green\/10,
[data-contrast="high"] .bg-cyber-green\/20 {
  background-color: rgba(0, 255, 0, 0.3) !important;
}

[data-contrast="high"] .bg-cyber-pink\/10,
[data-contrast="high"] .bg-cyber-pink\/20 {
  background-color: rgba(255, 0, 255, 0.3) !important;
}

/* Enhanced borders */
[data-contrast="high"] .border,
[data-contrast="high"] .border-2 {
  border-width: var(--border-width) !important;
}

[data-contrast="high"] .border-dark-600 {
  border-color: var(--cyber-blue-bright) !important;
}

/* Enhanced focus indicators - 4px for WCAG AAA */
[data-contrast="high"] *:focus-visible {
  outline-width: 4px !important;
  outline-offset: 4px !important;
  outline-color: var(--cyber-blue-bright) !important;
}

[data-contrast="high"] button:focus-visible,
[data-contrast="high"] a:focus-visible,
[data-contrast="high"] [role="button"]:focus-visible {
  outline-width: 4px !important;
  outline-offset: 4px !important;
  box-shadow: 0 0 0 6px rgba(0, 255, 255, 0.4) !important;
}

/* Remove gradients */
[data-contrast="high"] .bg-gradient-to-r,
[data-contrast="high"] .bg-gradient-to-br,
[data-contrast="high"] .bg-gradient-to-b {
  background: var(--bg-pure-black) !important;
}

/* Solid button backgrounds */
[data-contrast="high"] .cyber-button {
  background-color: var(--bg-pure-black) !important;
  border-color: var(--cyber-blue-bright) !important;
  border-width: 2px !important;
  color: var(--cyber-blue-bright) !important;
}

[data-contrast="high"] .cyber-button:hover {
  background-color: var(--cyber-blue-bright) !important;
  color: var(--bg-pure-black) !important;
}

/* Input fields */
[data-contrast="high"] .cyber-input {
  background-color: var(--bg-pure-black) !important;
  border-color: var(--cyber-blue-bright) !important;
  border-width: 2px !important;
  color: var(--text-pure-white) !important;
}

/* Remove shadows */
[data-contrast="high"] .shadow-neon,
[data-contrast="high"] .shadow-xl,
[data-contrast="high"] .shadow-2xl {
  box-shadow: none !important;
}

/* Tooltip backgrounds */
[data-contrast="high"] .tooltip-content {
  background-color: var(--bg-pure-black) !important;
  border-color: var(--cyber-blue-bright) !important;
  border-width: 3px !important;
}


/* ========================================
   MOBILE RESPONSIVE STYLES
   Touch-friendly interface (WCAG 2.5.5)
   ======================================== */
@media (max-width: 768px) {
  /* Ensure all touch targets are minimum 44x44px */
  .cyber-button,
  button,
  a[role="button"],
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 16px;
  }

  /* Form inputs - 44px minimum height + 16px font prevents iOS zoom */
  input,
  select,
  textarea,
  .cyber-input {
    min-height: 44px;
    font-size: 16px; /* Prevents automatic zoom on iOS Safari */
    padding: 12px;
  }

  /* Increase tap target spacing */
  .flex.items-center.space-x-2,
  .flex.items-center.space-x-3 {
    gap: 0.75rem; /* 12px */
  }

  /* Make cards more touch-friendly with larger padding */
  .glass-card,
  .glass-panel {
    padding: 1rem; /* 16px minimum */
  }

  /* Ensure readable text on small screens */
  body {
    font-size: 16px;
    line-height: 1.5;
  }

  h1 {
    font-size: 1.25rem; /* 20px */
  }

  h2 {
    font-size: 1.125rem; /* 18px */
  }

  h3 {
    font-size: 1rem; /* 16px */
  }

  /* Increase spacing between sections on mobile */
  .space-y-4 > * + * {
    margin-top: 1rem; /* 16px */
  }

  /* Make scrollbars thicker for touch */
  .custom-scrollbar::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  /* Ensure dropdown menus are touch-friendly */
  select option {
    padding: 12px;
    min-height: 44px;
  }

  /* Prevent text selection on buttons for better touch UX */
  button,
  a[role="button"],
  .cyber-button {
    user-select: none;
    -webkit-user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Modal/overlay adjustments for mobile */
  .modal-content,
  .dialog-content {
    max-width: calc(100vw - 2rem);
    max-height: calc(100vh - 4rem);
    margin: 2rem 1rem;
  }

  /* Increase focus indicator size on mobile for better visibility */
  *:focus-visible {
    outline-width: 3px !important;
    outline-offset: 3px !important;
  }

  /* Better spacing for byte visualizations on small screens */
  .byte-container {
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  /* Ensure tooltips don't overflow on mobile */
  .tooltip-content {
    max-width: calc(100vw - 2rem);
  }
}

/* Extra small devices (phones in portrait, < 375px) */
@media (max-width: 374px) {
  .container {
    padding-left: 0.75rem; /* 12px */
    padding-right: 0.75rem;
  }

  /* Smaller font sizes for very small screens while maintaining readability */
  body {
    font-size: 14px;
  }

  /* Ensure critical text stays readable */
  .font-mono,
  code {
    font-size: 12px;
  }

  /* Compact button text on very small screens */
  .cyber-button {
    font-size: 14px;
    padding: 10px 12px;
  }
}

/* Tablet landscape and small desktop (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  /* Optimize for tablet viewing */
  .grid-cols-1.lg\:grid-cols-2 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  /* Slightly larger touch targets for tablets */
  button,
  .cyber-button {
    min-height: 40px;
    padding: 10px 14px;
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 500px) {
  /* Reduce vertical padding in landscape mode */
  main {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  .glass-panel,
  .glass-card {
    padding: 0.75rem;
  }

  /* Compact header in landscape */
  header {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
}

/* High DPI displays (Retina, etc.) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Sharper borders on high-DPI screens */
  .glass-card,
  .glass-panel,
  .cyber-button {
    border-width: 1.5px;
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Disable pulse/glow animations */
  .animate-pulse-slow,
  .animate-glow,
  .animate-gradient,
  .animate-gradient-shift,
  .animate-float,
  .animate-float-fast,
  .animate-float-slow,
  .animate-twinkle,
  .animate-twinkle-slow,
  .animate-streak {
    animation: none !important;
  }

  /* Keep fade-in but make it instant */
  .animate-fade-in {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* Screen reader only utility class */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}


/* Keyframe Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulseSlow {
  0%, 100% {
    opacity: 0.1;
  }
  50% {
    opacity: 0.2;
  }
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.1;
    transform: scale(1) translate3d(0, 0, 0);
  }
  40% {
    opacity: 0.35;
    transform: scale(1.15) translate3d(1px, -1px, 0);
  }
  70% {
    opacity: 0.2;
    transform: scale(0.9) translate3d(-1px, 1px, 0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
    opacity: 0.3;
  }
  25% {
    transform: translateY(-10px) translateX(5px);
    opacity: 0.5;
  }
  50% {
    transform: translateY(-20px) translateX(10px);
    opacity: 0.6;
  }
  75% {
    transform: translateY(-10px) translateX(5px);
    opacity: 0.5;
  }
}

@keyframes streak {
  0% {
    opacity: 0;
    transform: translate3d(0, 20px, 0) scale3d(0.6, 0.6, 1);
  }
  20% {
    opacity: 0.35;
  }
  50% {
    opacity: 0.25;
    transform: translate3d(20px, -30px, 0) scale3d(1, 1, 1);
  }
  100% {
    opacity: 0;
    transform: translate3d(40px, -70px, 0) scale3d(1.2, 1.2, 1);
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes byteAppear {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.8);
  }
  60% {
    transform: translateY(-2px) scale(1.05);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Packet Flow Animations */
@keyframes packet-request {
  0% {
    left: 0%;
    opacity: 0;
    transform: translateY(-50%) scale(0.8);
  }
  15% {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
  85% {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
  100% {
    left: 100%;
    opacity: 0;
    transform: translateY(-50%) scale(0.8);
  }
}

@keyframes packet-response {
  0% {
    right: 0%;
    opacity: 0;
    transform: translateY(-50%) scale(0.8);
  }
  15% {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
  85% {
    opacity: 1;
    transform: translateY(-50%) scale(1);
  }
  100% {
    right: 100%;
    opacity: 0;
    transform: translateY(-50%) scale(0.8);
  }
}

@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}
