# SID 0x85: Control DTC Setting

**Document Version**:  2.0  
**Last Updated**: December 11, 2025  
**Format**: Visual Diagrams (No Code)  
**ISO Reference**: ISO 14229-1:2020 Section 9.7

---

## Table of Contents

1. [Service Overview](#service-overview)
2. [Message Structure](#message-structure)
3. [Sub-function Types](#sub-function-types)
4. [Positive Response](#positive-response)
5. [Negative Response Codes (NRCs)](#negative-response-codes-nrcs)
6. [DTC Setting Behavior](#dtc-setting-behavior)
7. [Common Use Cases](#common-use-cases)
8. [ISO 14229-1 Reference](#iso-14229-1-reference)

---

## Service Overview

### What is Control DTC Setting?

**Purpose**: Enable or disable the recording and updating of Diagnostic Trouble Codes (DTCs) in the ECU

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               SID 0x85 - CONTROL DTC SETTING                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Allows tester to:                                           â”‚
â”‚  â€¢ Stop DTC recording during testing/maintenance            â”‚
â”‚  â€¢ Resume DTC recording after operations complete           â”‚
â”‚  â€¢ Prevent false fault codes during diagnostics             â”‚
â”‚  â€¢ Control DTC behavior for specific DTCSettingType         â”‚
â”‚                                                             â”‚
â”‚  Prevents:                                                  â”‚
â”‚  â€¢ False DTCs during component replacement                  â”‚
â”‚  â€¢ Unwanted codes during ECU programming                    â”‚
â”‚  â€¢ Test-induced faults from being stored                    â”‚
â”‚  â€¢ Clutter in diagnostic memory                             â”‚
â”‚                                                             â”‚
â”‚  Critical:  MUST re-enable after maintenance!                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Characteristics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Characteristic       â”‚ Value                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Service ID (SID)     â”‚ 0x85                               â”‚
â”‚ Response SID         â”‚ 0xC5                               â”‚
â”‚ Subfunction?          â”‚ YES (0x01 = ON, 0x02 = OFF)        â”‚
â”‚ Request Length       â”‚ 2-3 bytes (SID + Sub-fn + Type)    â”‚
â”‚ Response Length      â”‚ 2 bytes (SID + Sub-fn)             â”‚
â”‚ Session Required     â”‚ EXTENDED or PROGRAMMING            â”‚
â”‚ Security Required    â”‚ Sometimes (ECU-dependent)          â”‚
â”‚ Priority             â”‚ HIGH (affects fault recording)     â”‚
â”‚ Auto-Reset           â”‚ YES (on session change/power cycle)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Message Structure

### Request Message Format

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REQUEST MESSAGE STRUCTURE                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Byte 0:       SID = 0x85                                    â”‚
â”‚  Byte 1:      Sub-function                                  â”‚
â”‚               â€¢ 0x01 = ON (Enable DTC recording)            â”‚
â”‚               â€¢ 0x02 = OFF (Disable DTC recording)          â”‚
â”‚                                                             â”‚
â”‚  Byte 2:      DTCSettingType (Optional)                     â”‚
â”‚               â€¢ 0x00 = All DTCs                             â”‚
â”‚               â€¢ 0x01 = Emissions-related DTCs               â”‚
â”‚               â€¢ 0x02 = Safety-related DTCs                  â”‚
â”‚               â€¢ Manufacturer-specific values                â”‚
â”‚                                                             â”‚
â”‚  Note: Some ECUs only support global control (no Byte 2)    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Enable DTC Setting Request

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enable All DTC Recording                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Request Bytes:                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x01 â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚    SID   Sub-fn                           â”‚
â”‚          (ON)                             â”‚
â”‚                                            â”‚
â”‚  Length: 2 bytes                           â”‚
â”‚                                            â”‚
â”‚  Meaning:                                   â”‚
â”‚  "Resume normal DTC recording"            â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Disable DTC Setting Request

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Disable All DTC Recording                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Request Bytes:                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚    SID   Sub-fn                           â”‚
â”‚          (OFF)                            â”‚
â”‚                                            â”‚
â”‚  Length: 2 bytes                           â”‚
â”‚                                            â”‚
â”‚  Meaning:                                  â”‚
â”‚  "Stop recording DTCs temporarily"        â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Selective DTC Control (With DTCSettingType)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Disable Emissions-Related DTCs Only       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  Request Bytes:                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚ 0x01 â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚    SID   Sub-fn Type                      â”‚
â”‚          (OFF) (Emissions)                â”‚
â”‚                                            â”‚
â”‚  Length: 3 bytes                           â”‚
â”‚                                            â”‚
â”‚  Meaning:                                  â”‚
â”‚  "Disable only emissions DTCs"            â”‚
â”‚  "Keep other DTCs active"                 â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Sub-function Types

### Sub-function 0x01: ON (Enable DTC Setting)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SUB-FUNCTION 0x01 - ON                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Purpose: Enable/resume DTC recording                       â”‚
â”‚                                                             â”‚
â”‚  Request:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 0x85 â”‚ 0x01 â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                             â”‚
â”‚  ECU Action:                                                â”‚
â”‚  â€¢ Resume monitoring for faults                             â”‚
â”‚  â€¢ Record new DTCs when faults detected                     â”‚
â”‚  â€¢ Update existing DTC status (confirmed, pending, etc.)    â”‚
â”‚  â€¢ Normal diagnostic operation                              â”‚
â”‚                                                             â”‚
â”‚  State Change:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ DTC Recording  â”‚         â”‚ DTC Recording  â”‚             â”‚
â”‚  â”‚   DISABLED     â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚   ENABLED      â”‚             â”‚
â”‚  â”‚   (OFF)        â”‚         â”‚   (ON)         â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚  Use Case:                                                  â”‚
â”‚  â€¢ After completing maintenance                             â”‚
â”‚  â€¢ After test procedures                                    â”‚
â”‚  â€¢ Before returning vehicle to customer                     â”‚
â”‚  â€¢ After ECU programming complete                           â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ CRITICAL: Always re-enable before normal operation!     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Sub-function 0x02: OFF (Disable DTC Setting)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               SUB-FUNCTION 0x02 - OFF                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Purpose:  Disable/suspend DTC recording                     â”‚
â”‚                                                             â”‚
â”‚  Request:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                             â”‚
â”‚  ECU Action:                                                 â”‚
â”‚  â€¢ Stop recording new DTCs                                  â”‚
â”‚  â€¢ Do NOT update existing DTC status                        â”‚
â”‚  â€¢ Faults still detected but NOT stored                     â”‚
â”‚  â€¢ Existing DTCs remain in memory (not cleared)             â”‚
â”‚                                                             â”‚
â”‚  State Change:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ DTC Recording  â”‚         â”‚ DTC Recording  â”‚             â”‚
â”‚  â”‚   ENABLED      â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚   DISABLED     â”‚             â”‚
â”‚  â”‚   (ON)         â”‚         â”‚   (OFF)        â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                             â”‚
â”‚  What Still Works:                                          â”‚
â”‚  â€¢ Reading existing DTCs (SID 0x19)                         â”‚
â”‚  â€¢ Clearing DTCs (SID 0x14)                                 â”‚
â”‚  â€¢ Other diagnostic services                                â”‚
â”‚                                                             â”‚
â”‚  What Doesn't Work:                                         â”‚
â”‚  â€¢ New fault detection â†’ DTC storage                        â”‚
â”‚  â€¢ DTC status updates (confirmed, pending, etc.)            â”‚
â”‚                                                             â”‚
â”‚  Use Case:                                                  â”‚
â”‚  â€¢ During sensor replacement                                â”‚
â”‚  â€¢ During actuator testing                                  â”‚
â”‚  â€¢ During ECU programming                                   â”‚
â”‚  â€¢ During component calibration                             â”‚
â”‚                                                             â”‚
â”‚  Duration:  Temporary - MUST re-enable when done!            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DTCSettingType Parameter (Optional Byte 2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DTCSettingType VALUES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Purpose: Control specific categories of DTCs               â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Value    â”‚ DTC Category                         â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ 0x00     â”‚ All DTCs (global control)            â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ 0x01     â”‚ Emissions-related DTCs (OBD-II)      â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ 0x02     â”‚ Safety-related DTCs                  â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ 0x03-0x7Fâ”‚ Manufacturer-specific categories     â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ 0x80-0xFFâ”‚ Reserved / ECU-specific              â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  Example Usage:                                             â”‚
â”‚                                                             â”‚
â”‚  Scenario 1: Disable only emissions DTCs during test        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚ 0x01 â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚  â€¢ Emissions DTCs:  DISABLED                                 â”‚
â”‚  â€¢ Safety DTCs: Still ENABLED                               â”‚
â”‚  â€¢ Other DTCs: Still ENABLED                                â”‚
â”‚                                                             â”‚
â”‚  Scenario 2: Re-enable emissions DTCs                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ 0x85 â”‚ 0x01 â”‚ 0x01 â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚  â€¢ Emissions DTCs: ENABLED                                  â”‚
â”‚                                                             â”‚
â”‚  Note: Not all ECUs support selective control               â”‚
â”‚        Many only support 0x00 (all DTCs)                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Positive Response

### Response Message Format

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  POSITIVE RESPONSE STRUCTURE                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Byte 0:      Response SID = 0xC5 (0x85 + 0x40)            â”‚
â”‚  Byte 1:      Sub-function echo                             â”‚
â”‚                                                             â”‚
â”‚  Total Length: 2 bytes                                      â”‚
â”‚                                                             â”‚
â”‚  Note: DTCSettingType NOT echoed in response                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Response Examples

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Enable DTC Setting Response                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Request:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x01 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                            â”‚
â”‚  Response:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0xC5 â”‚ 0x01 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚   Resp  Echo                                              â”‚
â”‚   SID   Sub-fn                                            â”‚
â”‚                                                            â”‚
â”‚  Meaning:  "DTC recording now ENABLED"                     â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Disable DTC Setting Response                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Request:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                            â”‚
â”‚  Response:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0xC5 â”‚ 0x02 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚   Resp  Echo                                              â”‚
â”‚   SID   Sub-fn                                            â”‚
â”‚                                                            â”‚
â”‚  Meaning: "DTC recording now DISABLED"                    â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Negative Response Codes (NRCs)

### NRC Message Format

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              NEGATIVE RESPONSE MESSAGE FORMAT               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Byte 0:  0x7F (Negative Response SID)                     â”‚
â”‚  Byte 1:  0x85 (Requested Service ID - Echo)               â”‚
â”‚  Byte 2:  NRC Code (Reason for rejection)                  â”‚
â”‚                                                             â”‚
â”‚  Total Length: Always 3 bytes                              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Common NRCs for SID 0x85

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NRC  â”‚ Name                        â”‚ When It Occurs        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x12 â”‚ Sub-function Not Supported  â”‚ Invalid sub-function  â”‚
â”‚      â”‚                             â”‚ (not 0x01 or 0x02)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x13 â”‚ Incorrect Message Length    â”‚ Wrong message length  â”‚
â”‚      â”‚ Or Invalid Format           â”‚                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x22 â”‚ Conditions Not Correct      â”‚ Vehicle conditions    â”‚
â”‚      â”‚                             â”‚ prevent operation     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x31 â”‚ Request Out Of Range        â”‚ Invalid DTCSettingTypeâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x33 â”‚ Security Access Denied      â”‚ Security unlock       â”‚
â”‚      â”‚                             â”‚ required              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0x7F â”‚ Service Not Supported In    â”‚ Wrong diagnostic      â”‚
â”‚      â”‚ Active Session              â”‚ session (need EXTENDEDâ”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NRC 0x7F:  Service Not Supported In Active Session

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ WRONG:  Trying to control DTCs in DEFAULT session        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Current Session: DEFAULT (0x01)                           â”‚
â”‚                                                            â”‚
â”‚  Tester sends:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚  (Disable DTCs)                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                            â”‚
â”‚  ECU responds:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ 0x7F â”‚ 0x85 â”‚ 0x7F â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                            â”‚
â”‚  Reason: SID 0x85 not allowed in DEFAULT session          â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… CORRECT: Enter EXTENDED session first                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Step 1: Enter EXTENDED session                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x10 â”‚ 0x03 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚  Response:  50 03                                           â”‚
â”‚                                                            â”‚
â”‚  Step 2: Now control DTCs                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚  Response: C5 02 âœ“                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NRC 0x33: Security Access Denied

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ PROBLEM: Security not unlocked                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Some ECUs require security unlock for DTC control         â”‚
â”‚                                                            â”‚
â”‚  Current State:                                             â”‚
â”‚  â€¢ Session:  EXTENDED âœ“                                     â”‚
â”‚  â€¢ Security: LOCKED ğŸ”’                                     â”‚
â”‚                                                            â”‚
â”‚  Tester sends:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                            â”‚
â”‚  ECU responds:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ 0x7F â”‚ 0x85 â”‚ 0x33 â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… SOLUTION: Unlock security first                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Step 1: Request seed                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x27 â”‚ 0x01 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚  Response: 67 01 [seed]                                    â”‚
â”‚                                                            â”‚
â”‚  Step 2: Send key                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚  â”‚ 0x27 â”‚ 0x02 â”‚ [key]    â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚  Response: 67 02 ğŸ”“                                        â”‚
â”‚                                                            â”‚
â”‚  Step 3: Now control DTCs                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚  â”‚ 0x85 â”‚ 0x02 â”‚                                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚  Response: C5 02 âœ“                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## DTC Setting Behavior

### DTC Recording State Machine

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DTC RECORDING STATE MACHINE                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Power-On / Default State:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚  DTC RECORDING ENABLED (ON)    â”‚                        â”‚
â”‚  â”‚                                â”‚                        â”‚
â”‚  â”‚  â€¢ Monitoring faults           â”‚                        â”‚
â”‚  â”‚  â€¢ Recording new DTCs          â”‚                        â”‚
â”‚  â”‚  â€¢ Updating DTC status         â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚               â”‚                                             â”‚
â”‚               â”‚ SID 0x85 0x02 (Disable)                     â”‚
â”‚               â”‚                                             â”‚
â”‚               â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ DTC RECORDING DISABLED (OFF)   â”‚                        â”‚
â”‚  â”‚                                â”‚                        â”‚
â”‚  â”‚  â€¢ Still monitoring faults     â”‚                        â”‚
â”‚  â”‚  â€¢ NOT recording new DTCs      â”‚                        â”‚
â”‚  â”‚  â€¢ NOT updating DTC status     â”‚                        â”‚
â”‚  â”‚  â€¢ Existing DTCs preserved     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚               â”‚                                             â”‚
â”‚               â”‚ SID 0x85 0x01 (Enable)                      â”‚
â”‚               â”‚                                             â”‚
â”‚               â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚  DTC RECORDING ENABLED (ON)    â”‚                        â”‚
â”‚  â”‚                                â”‚                        â”‚
â”‚  â”‚  â€¢ Resume normal operation     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                             â”‚
â”‚  Auto-Reset Conditions:                                     â”‚
â”‚  â€¢ ECU power cycle â†’ ENABLED                                â”‚
â”‚  â€¢ Session timeout â†’ ENABLED                                â”‚
â”‚  â€¢ Return to DEFAULT session â†’ ENABLED                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### What Happens to DTCs When Disabled

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          DTC BEHAVIOR WHEN RECORDING DISABLED               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Existing DTCs (Already Stored):                            â”‚
â”‚  âœ“ Remain in memory                                         â”‚
â”‚  âœ“ Can still be read (SID 0x19)                             â”‚
â”‚  âœ“ Can still be cleared (SID 0x14)                          â”‚
â”‚  âœ— Status NOT updated (stays as-is)                         â”‚
â”‚                                                             â”‚
â”‚  New Faults Detected:                                       â”‚
â”‚  âœ“ ECU still monitors sensors/systems                       â”‚
â”‚  âœ“ Faults detected internally                               â”‚
â”‚  âœ— NOT stored as DTCs                                       â”‚
â”‚  âœ— NOT visible to diagnostic tools                          â”‚
â”‚  âœ— NOT trigger MIL/warning lights (for new faults)          â”‚
â”‚                                                             â”‚
â”‚  Example Scenario:                                          â”‚
â”‚                                                             â”‚
â”‚  Time    Action                   DTC Memory                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  T=0     Normal operation         DTC P0420 (old fault)    â”‚
â”‚          DTC enabled              stored                   â”‚
â”‚                                                             â”‚
â”‚  T=1     Disable DTC (85 02)      DTC P0420 still there    â”‚
â”‚                                                             â”‚
â”‚  T=2     Unplug O2 sensor         Fault detected           â”‚
â”‚          (would cause P0135)      but NOT stored!           â”‚
â”‚                                                             â”‚
â”‚  T=3     Read DTCs (19 02 FF)     Shows:  P0420 only        â”‚
â”‚                                   P0135 NOT present!       â”‚
â”‚                                                             â”‚
â”‚  T=4     Reconnect O2 sensor      Fault cleared            â”‚
â”‚                                   (never was stored)       â”‚
â”‚                                                             â”‚
â”‚  T=5     Enable DTC (85 01)       DTC P0420 still there    â”‚
â”‚                                   Resume recording         â”‚
â”‚                                                             â”‚
â”‚  T=6     Normal operation         New faults now stored    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Auto-Reset Behavior

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AUTO-RESET OF DTC SETTING                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Critical Safety Feature:                                   â”‚
â”‚  DTC recording automatically re-enables under certain       â”‚
â”‚  conditions to prevent permanently disabled diagnostics     â”‚
â”‚                                                             â”‚
â”‚  Reset Trigger 1: Power Cycle                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ DTC recording:  DISABLED             â”‚                   â”‚
â”‚  â”‚ ECU powered OFF                     â”‚                   â”‚
â”‚  â”‚ ECU powered ON                      â”‚                   â”‚
â”‚  â”‚ DTC recording: AUTO-ENABLED âœ“       â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                             â”‚
â”‚  Reset Trigger 2: Session Timeout                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Session: EXTENDED                   â”‚                   â”‚
â”‚  â”‚ DTC recording: DISABLED             â”‚                   â”‚
â”‚  â”‚ [5 seconds pass, no activity]       â”‚                   â”‚
â”‚  â”‚ Session: â†’ DEFAULT (timeout)        â”‚                   â”‚
â”‚  â”‚ DTC recording: AUTO-ENABLED âœ“       â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                             â”‚
â”‚  Reset Trigger 3: Manual Session Exit                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Session: EXTENDED                   â”‚                   â”‚
â”‚  â”‚ DTC recording: DISABLED             â”‚                   â”‚
â”‚  â”‚ Request:  10 01 (return to DEFAULT)  â”‚                   â”‚
â”‚  â”‚ Session: â†’ DEFAULT                  â”‚                   â”‚
â”‚  â”‚ DTC recording: AUTO-ENABLED âœ“       â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                             â”‚
â”‚  Why This Matters:                                          â”‚
â”‚  â€¢ Prevents accidentally leaving DTCs disabled permanently  â”‚
â”‚  â€¢ Ensures vehicle returns to safe diagnostic state         â”‚
â”‚  â€¢ Meets regulatory requirements (emissions, safety)        â”‚
â”‚  â€¢ Protects against technician error                        â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ Always manually re-enable before session exit!           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Common Use Cases

### Use Case 1: Sensor Replacement

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCENARIO: Replace oxygen sensor                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Problem: Disconnecting sensor triggers DTCs                â”‚
â”‚  Solution: Disable DTC recording during replacement         â”‚
â”‚                                                             â”‚
â”‚  Step 1: Enter EXTENDED session                             â”‚
â”‚  Request: 10 03                                             â”‚
â”‚  Response: 50 03                                            â”‚
â”‚                                                             â”‚
â”‚  Step 2: Disable DTC recording                              â”‚
â”‚  Request: 85 02                                             â”‚
â”‚  Response: C5 02                                            â”‚
â”‚  âœ“ DTCs now suspended                                       â”‚
â”‚                                                             â”‚
â”‚  Step 3: Disconnect old sensor                              â”‚
â”‚  [Technician unplugs sensor]                                â”‚
â”‚  ECU detects:  "O2 sensor circuit open"                      â”‚
â”‚  ECU action: Fault detected but NOT stored âœ“                â”‚
â”‚                                                             â”‚
â”‚  Step 4: Install new sensor                                 â”‚
â”‚  [Technician installs and connects new sensor]              â”‚
â”‚  ECU detects: "O2 sensor OK"                                â”‚
â”‚                                                             â”‚
â”‚  Step 5: Re-enable DTC recording                            â”‚
â”‚  Request: 85 01                                             â”‚
â”‚  Response: C5 01                                            â”‚
â”‚  âœ“ Normal DTC operation resumed                             â”‚
â”‚                                                             â”‚
â”‚  Step 6: Exit session                                       â”‚
â”‚  Request: 10 01                                             â”‚
â”‚  Response: 50 01                                            â”‚
â”‚                                                             â”‚
â”‚  Result:                                                      â”‚
â”‚  â€¢ No false DTCs created during replacement                 â”‚
â”‚  â€¢ Clean diagnostic memory                                  â”‚
â”‚  â€¢ Customer doesn't see warning lights                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case 2: ECU Programming/Flashing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCENARIO: Flash ECU firmware                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Problem: Programming causes temporary faults               â”‚
â”‚  Solution: Disable DTCs before flashing                     â”‚
â”‚                                                             â”‚
â”‚  Step 1: Enter PROGRAMMING session                          â”‚
â”‚  Request: 10 02                                             â”‚
â”‚  Response: 50 02                                            â”‚
â”‚                                                             â”‚
â”‚  Step 2: Disable DTC recording                              â”‚
â”‚  Request: 85 02                                             â”‚
â”‚  Response: C5 02                                            â”‚
â”‚                                                             â”‚
â”‚  Step 3: Unlock security                                    â”‚
â”‚  Request: 27 01 â†’ 27 02 [key]                               â”‚
â”‚  Response: 67 02                                            â”‚
â”‚                                                             â”‚
â”‚  Step 4: Flash ECU                                          â”‚
â”‚  [During flash:  Many systems offline/abnormal]              â”‚
â”‚  [Would normally trigger multiple DTCs]                     â”‚
â”‚  [But DTCs disabled â†’ nothing stored âœ“]                     â”‚
â”‚                                                             â”‚
â”‚  Step 5: Flash complete, ECU resets                         â”‚
â”‚  [Auto-reset:  DTC recording re-enabled on power-up]         â”‚
â”‚                                                             â”‚
â”‚  Step 6: Verify                                             â”‚
â”‚  Request: 19 02 FF (Read DTCs)                              â”‚
â”‚  Response: 59 02 00 (No DTCs) âœ“                             â”‚
â”‚                                                             â”‚
â”‚  Result:                                                     â”‚
â”‚  â€¢ Clean flash without false DTCs                           â”‚
â”‚  â€¢ ECU ready for normal operation                           â”‚
â”‚  â€¢ No manual DTC clearing needed                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case 3: Actuator Testing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCENARIO: Test fuel injectors individually                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Problem:  Testing triggers misfire DTCs                     â”‚
â”‚  Solution: Disable emissions DTCs during test               â”‚
â”‚                                                             â”‚
â”‚  Step 1: Enter EXTENDED session                             â”‚
â”‚  Request: 10 03                                             â”‚
â”‚  Response: 50 03                                            â”‚
â”‚                                                             â”‚
â”‚  Step 2: Disable emissions DTCs only                        â”‚
â”‚  Request:  85 02 01                                          â”‚
â”‚          (OFF, Emissions-type)                              â”‚
â”‚  Response:  C5 02                                            â”‚
â”‚  âœ“ Emissions DTCs disabled                                  â”‚
â”‚  âœ“ Other DTCs still active                                  â”‚
â”‚                                                             â”‚
â”‚  Step 3: Test injectors                                     â”‚
â”‚  [Routine:  Activate cylinder 1 only]                        â”‚
â”‚  Request: 31 01 F001 01                                     â”‚
â”‚  Response:  71 01 F001 01                                    â”‚
â”‚                                                             â”‚
â”‚  [Engine runs rough - would trigger misfire DTC]            â”‚
â”‚  ECU detects: "Cylinder 2,3,4 misfire"                      â”‚
â”‚  ECU action:  Fault detected but NOT stored âœ“                â”‚
â”‚                                                             â”‚
â”‚  Step 4: Continue testing all cylinders                     â”‚
â”‚  [Repeat for cylinders 2,3,4]                               â”‚
â”‚  [No misfire DTCs stored]                                   â”‚
â”‚                                                             â”‚
â”‚  Step 5: Re-enable emissions DTCs                           â”‚
â”‚  Request: 85 01 01                                          â”‚
â”‚  Response: C5 01                                            â”‚
â”‚  âœ“ Emissions DTCs now active                                â”‚
â”‚                                                             â”‚
â”‚  Step 6: Exit session                                       â”‚
â”‚  Request: 10 01                                             â”‚
â”‚  Response: 50 01                                            â”‚
â”‚                                                             â”‚
â”‚  Result:                                                     â”‚
â”‚  â€¢ Test completed without false misfires                    â”‚
â”‚  â€¢ Safety DTCs remained active throughout                   â”‚
â”‚  â€¢ Clean diagnostic memory                                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Case 4: Component Calibration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCENARIO: Calibrate throttle position sensor              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Problem: Calibration moves throttle outside normal range   â”‚
â”‚  Solution: Disable DTCs during calibration procedure        â”‚
â”‚                                                             â”‚
â”‚  Step 1: Setup                                              â”‚
â”‚  Request: 10 03 (EXTENDED session)                          â”‚
â”‚  Response: 50 03                                            â”‚
â”‚                                                             â”‚
â”‚  Step 2: Disable all DTCs                                   â”‚
â”‚  Request: 85 02                                             â”‚
â”‚  Response:  C5 02                                            â”‚
â”‚                                                             â”‚
â”‚  Step 3: Start calibration routine                          â”‚
â”‚  Request: 31 01 F020                                        â”‚
â”‚         (Start TPS calibration)                             â”‚
â”‚  Response: 71 01 F020                                       â”‚
â”‚                                                             â”‚
â”‚  [Routine moves throttle to min position]                   â”‚
â”‚  ECU detects: "Throttle stuck closed"                       â”‚
â”‚  ECU action: Detected but NOT stored âœ“                      â”‚
â”‚                                                             â”‚
â”‚  [Routine moves throttle to max position]                   â”‚
â”‚  ECU detects: "Throttle stuck open"                         â”‚
â”‚  ECU action: Detected but NOT stored âœ“                      â”‚
â”‚                                                             â”‚
â”‚  [Calibration learns new min/max values]                    â”‚
â”‚                                                             â”‚
â”‚  Step 4: Verify calibration                                 â”‚
â”‚  Request:  22 F0A0 (Read TPS calibration)                    â”‚
â”‚  Response: 62 F0A0 [new values] âœ“                           â”‚
â”‚                                                             â”‚
â”‚  Step 5: Re-enable DTCs                                     â”‚
â”‚  Request: 85 01                                             â”‚
â”‚  Response: C5 01                                            â”‚
â”‚                                                             â”‚
â”‚  Step 6: Test throttle                                      â”‚
â”‚  [Move throttle through range]                              â”‚
â”‚  [No DTCs triggered - calibration correct âœ“]                â”‚
â”‚                                                             â”‚
â”‚  Step 7: Exit session                                       â”‚
â”‚  Request: 10 01                                             â”‚
â”‚  Response: 50 01                                            â”‚
â”‚                                                             â”‚
â”‚  Result:                                                     â”‚
â”‚  â€¢ Successful calibration                                   â”‚
â”‚  â€¢ No false DTCs                                            â”‚
â”‚  â€¢ Throttle working correctly                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ISO 14229-1 Reference

### Standard Specification

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ISO 14229-1:2020 REFERENCE                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Document:  ISO 14229-1:2020                                 â”‚
â”‚  Section: 9.7 - ControlDTCSetting (0x85) service           â”‚
â”‚                                                             â”‚
â”‚  Key Topics Covered:                                        â”‚
â”‚  â€¢ Service description and purpose                          â”‚
â”‚  â€¢ Request message format                                   â”‚
â”‚  â€¢ Response message format                                  â”‚
â”‚  â€¢ Sub-function definitions (0x01 ON, 0x02 OFF)             â”‚
â”‚  â€¢ DTCSettingType parameter                                 â”‚
â”‚  â€¢ Negative response codes                                  â”‚
â”‚  â€¢ Session and security requirements                        â”‚
â”‚  â€¢ Auto-reset behavior                                      â”‚
â”‚  â€¢ Safety considerations                                    â”‚
â”‚                                                             â”‚
â”‚  Related Sections:                                          â”‚
â”‚  â€¢ Section 8.2:  Diagnostic Session Control (SID 0x10)       â”‚
â”‚  â€¢ Section 8.6: Security Access (SID 0x27)                  â”‚
â”‚  â€¢ Section 9.5: Clear Diagnostic Information (SID 0x14)     â”‚
â”‚  â€¢ Section 9.6: Read DTC Information (SID 0x19)             â”‚
â”‚  â€¢ Annex C: Negative Response Code Definitions              â”‚
â”‚  â€¢ Annex D: DTC-related services                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Safety and Regulatory Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SAFETY AND REGULATORY REQUIREMENTS               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Emissions Compliance (OBD-II/EOBD):                        â”‚
â”‚  â€¢ Emissions-related DTCs MUST be enabled during normal     â”‚
â”‚    vehicle operation                                        â”‚
â”‚  â€¢ Disabling emissions DTCs only allowed for maintenance    â”‚
â”‚  â€¢ Must auto-reset to enabled state                         â”‚
â”‚  â€¢ Regulatory bodies may audit DTC disable history          â”‚
â”‚                                                             â”‚
â”‚  Safety-Critical Systems:                                   â”‚
â”‚  â€¢ Some ECUs prohibit disabling safety DTCs                 â”‚
â”‚  â€¢ ABS, airbag, steering DTCs may not be controllable      â”‚
â”‚  â€¢ Security access may be required                          â”‚
â”‚  â€¢ Audit logging may be mandatory                           â”‚
â”‚                                                             â”‚
â”‚  Best Practices:                                            â”‚
â”‚  â€¢ Minimize time with DTCs disabled                         â”‚
â”‚  â€¢ Always re-enable before returning vehicle                â”‚
â”‚  â€¢ Document why DTCs were disabled                          â”‚
â”‚  â€¢ Use selective control when possible (DTCSettingType)     â”‚
â”‚  â€¢ Never leave DTCs disabled permanently                    â”‚
â”‚                                                             â”‚
â”‚  Legal Implications:                                        â”‚
â”‚  â€¢ Tampering with emissions systems is illegal              â”‚
â”‚  â€¢ Warranty may be voided if misused                        â”‚
â”‚  â€¢ Technicians must be trained and authorized               â”‚
â”‚  â€¢ Service records should document DTC control              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SID 0x85 QUICK REFERENCE                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Purpose: Enable/disable DTC recording                      â”‚
â”‚                                                             â”‚
â”‚  Sub-functions:                                             â”‚
â”‚  â€¢ 0x01: ON (Enable DTC recording)                          â”‚
â”‚  â€¢ 0x02: OFF (Disable DTC recording)                        â”‚
â”‚                                                             â”‚
â”‚  Optional Parameter:                                         â”‚
â”‚  â€¢ DTCSettingType (Byte 2)                                  â”‚
â”‚    - 0x00: All DTCs                                         â”‚
â”‚    - 0x01: Emissions-related                                â”‚
â”‚    - 0x02: Safety-related                                   â”‚
â”‚    - 0x03+: Manufacturer-specific                           â”‚
â”‚                                                             â”‚
â”‚  Request Format:                                            â”‚
â”‚  [0x85] [0x01 or 0x02] [Optional:  DTCSettingType]           â”‚
â”‚                                                             â”‚
â”‚  Response Format:                                           â”‚
â”‚  [0xC5] [Echo sub-function]                                 â”‚
â”‚                                                             â”‚
â”‚  Common NRCs:                                               â”‚
â”‚  â€¢ 0x12 - Sub-function not supported                        â”‚
â”‚  â€¢ 0x13 - Incorrect message length                          â”‚
â”‚  â€¢ 0x22 - Conditions not correct                            â”‚
â”‚  â€¢ 0x31 - Invalid DTCSettingType                            â”‚
â”‚  â€¢ 0x33 - Security access denied                            â”‚
â”‚  â€¢ 0x7F - Wrong session (need EXTENDED)                     â”‚
â”‚                                                             â”‚
â”‚  Session Requirement:                                       â”‚
â”‚  â€¢ DEFAULT:  NOT supported                                   â”‚
â”‚  â€¢ EXTENDED: Usually supported                              â”‚
â”‚  â€¢ PROGRAMMING:  Usually supported                           â”‚
â”‚                                                             â”‚
â”‚  Security Requirement:                                      â”‚
â”‚  â€¢ May be required (ECU-dependent)                          â”‚
â”‚  â€¢ Typically for safety-critical systems                    â”‚
â”‚                                                             â”‚
â”‚  Auto-Reset Triggers:                                       â”‚
â”‚  â€¢ ECU power cycle                                          â”‚
â”‚  â€¢ Session timeout                                          â”‚
â”‚  â€¢ Return to DEFAULT session                                â”‚
â”‚                                                             â”‚
â”‚  Critical Use Cases:                                        â”‚
â”‚  â€¢ Sensor/actuator replacement                              â”‚
â”‚  â€¢ ECU programming/flashing                                 â”‚
â”‚  â€¢ Component testing                                        â”‚
â”‚  â€¢ Calibration procedures                                   â”‚
â”‚  â€¢ Preventing false DTCs during maintenance                 â”‚
â”‚                                                             â”‚
â”‚  Best Practices:                                            â”‚
â”‚  â€¢ Always re-enable before completing service               â”‚
â”‚  â€¢ Minimize disabled time                                   â”‚
â”‚  â€¢ Use selective control when available                     â”‚
â”‚  â€¢ Document DTC control in service records                  â”‚
â”‚  â€¢ Verify auto-reset behavior                               â”‚
â”‚  â€¢ Never permanently disable DTCs                           â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ CRITICAL SAFETY REMINDER:                                â”‚
â”‚  DTCs protect vehicle safety and emissions compliance.       â”‚
â”‚  Always ensure DTC recording is re-enabled before           â”‚
â”‚  returning vehicle to customer or normal operation.         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**End of SID 0x85 Theoretical Guide**

For practical implementation details, see:  `SID_85_PRACTICAL_IMPLEMENTATION.md`  
For service interaction workflows, see: `SID_85_SERVICE_INTERACTIONS.md`