{
    "id": "sid85-control-dtc-setting-test-suite",
    "name": "SID 0x85 Control DTC Setting Test Suite - Production Ready",
    "description": "Comprehensive foolproof test suite for UDS Service ID 0x85 (ControlDTCSetting) based on ISO 14229-1:2020 Section 9.7. Simulates real automotive ECU testing with full coverage of positive/negative responses, error recovery, idempotent operations, and service interactions.",
    "requests": [
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510000000,
            "description": "[SETUP] Reset to Default Session"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510001000,
            "description": "TC-01: Enable DTC in DEFAULT Session - Expect NRC 0x7F (Service Not Supported In Active Session)"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510002000,
            "description": "[SETUP] Switch to EXTENDED Session"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510003000,
            "description": "TC-02: Enable DTC Recording (0x01) - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510004000,
            "description": "TC-03: Disable DTC Recording (0x02) - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510005000,
            "description": "TC-04: Re-enable DTC Recording (0x01) - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 133,
            "subFunction": 0,
            "data": [],
            "timestamp": 1734510006000,
            "description": "TC-05: Invalid Sub-function (0x00) - Expect NRC 0x12 (Sub-function Not Supported)"
        },
        {
            "sid": 133,
            "subFunction": 5,
            "data": [],
            "timestamp": 1734510007000,
            "description": "TC-06: Invalid Sub-function (0x05) - Expect NRC 0x12 (Sub-function Not Supported)"
        },
        {
            "sid": 133,
            "subFunction": 130,
            "data": [],
            "timestamp": 1734510008000,
            "description": "TC-07: Suppress Positive Response (0x82 = 0x02 + 0x80) - Expect Suppressed Response"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                0
            ],
            "timestamp": 1734510009000,
            "description": "TC-08: Disable All DTCs with DTCSettingType 0x00 - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                1
            ],
            "timestamp": 1734510010000,
            "description": "TC-09: Disable Emissions DTCs with DTCSettingType 0x01 - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                2
            ],
            "timestamp": 1734510011000,
            "description": "TC-10: Disable Safety DTCs with DTCSettingType 0x02 - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510012000,
            "description": "TC-11: Invalid DTCSettingType (0xFF) - Expect NRC 0x31 (Request Out Of Range)"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                10
            ],
            "timestamp": 1734510013000,
            "description": "TC-12: Unsupported DTCSettingType (0x0A) - Expect NRC 0x31 (Request Out Of Range)"
        },
        {
            "sid": 16,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510014000,
            "description": "[SETUP] Switch to PROGRAMMING Session"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510015000,
            "description": "TC-13: Disable DTC in PROGRAMMING Session - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510016000,
            "description": "[FINAL] Reset to Default Session (DTC recording auto-resets to ON)"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510017000,
            "description": "[SERVICE INTERACTION] TC-14: Setup - Enter EXTENDED Session for auto-reset test"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510018000,
            "description": "TC-14a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510019000,
            "description": "TC-14b: Return to DEFAULT Session - DTC recording should auto-reset to ON"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510020000,
            "description": "[SERVICE INTERACTION] TC-15: Setup - Enter EXTENDED Session for Read DTC test"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510021000,
            "description": "TC-15a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510022000,
            "description": "TC-15b: Read DTCs (0x19 0x02 0xFF) while recording disabled - Should still return existing DTCs"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510023000,
            "description": "TC-15c: Re-enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510024000,
            "description": "[SERVICE INTERACTION] TC-16: Setup - Enter EXTENDED Session for Clear DTC test"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510025000,
            "description": "TC-16a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 20,
            "subFunction": 0,
            "data": [
                255,
                255,
                255
            ],
            "timestamp": 1734510026000,
            "description": "TC-16b: Clear DTCs (0x14 0xFF 0xFF 0xFF) while recording disabled - Should succeed"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510027000,
            "description": "TC-16c: Re-enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510028000,
            "description": "[SERVICE INTERACTION] TC-17: Setup - Enter EXTENDED Session for Routine Control test"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510029000,
            "description": "TC-17a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 49,
            "subFunction": 1,
            "data": [
                2,
                3
            ],
            "timestamp": 1734510030000,
            "description": "TC-17b: Start Routine (0x31 0x01 0x0203) with DTC disabled - Should succeed"
        },
        {
            "sid": 49,
            "subFunction": 3,
            "data": [
                2,
                3
            ],
            "timestamp": 1734510031000,
            "description": "TC-17c: Get Routine Results (0x31 0x03 0x0203) - Should return results"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510032000,
            "description": "TC-17d: Re-enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510033000,
            "description": "[SERVICE INTERACTION] TC-18: Setup - Enter EXTENDED Session for Security test"
        },
        {
            "sid": 39,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510034000,
            "description": "TC-18a: Request Security Seed (0x27 0x01) - Expect seed response"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510035000,
            "description": "TC-18b: Disable DTC Recording after security request - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510036000,
            "description": "TC-18c: Re-enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510037000,
            "description": "[SERVICE INTERACTION] TC-19: Setup - Enter EXTENDED Session for Tester Present test"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510038000,
            "description": "TC-19a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 62,
            "subFunction": 128,
            "data": [],
            "timestamp": 1734510039000,
            "description": "TC-19b: Tester Present with suppress (0x3E 0x80) - Keeps session alive, suppressed response"
        },
        {
            "sid": 62,
            "subFunction": 0,
            "data": [],
            "timestamp": 1734510040000,
            "description": "TC-19c: Tester Present (0x3E 0x00) - Expect Positive Response 0x7E 0x00"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510041000,
            "description": "TC-19d: Re-enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510043000,
            "description": "[IDEMPOTENT] TC-20: Setup - Enter EXTENDED Session for idempotent tests"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510044000,
            "description": "TC-20a: Enable DTC (first call) - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510045000,
            "description": "TC-20b: Enable DTC (second call - idempotent) - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510046000,
            "description": "TC-20c: Enable DTC (third call - idempotent) - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510047000,
            "description": "TC-20d: Disable DTC (first call) - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510048000,
            "description": "TC-20e: Disable DTC (second call - idempotent) - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510049000,
            "description": "TC-20f: Disable DTC (third call - idempotent) - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510050000,
            "description": "TC-20g: Re-enable DTC - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510051000,
            "description": "[BOUNDARY] TC-21: Setup - Enter EXTENDED Session for boundary tests"
        },
        {
            "sid": 133,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510052000,
            "description": "TC-21a: Sub-function 0x03 (boundary) - Expect NRC 0x12 (Sub-function Not Supported)"
        },
        {
            "sid": 133,
            "subFunction": 4,
            "data": [],
            "timestamp": 1734510053000,
            "description": "TC-21b: Sub-function 0x04 (boundary) - Expect NRC 0x12 (Sub-function Not Supported)"
        },
        {
            "sid": 133,
            "subFunction": 127,
            "data": [],
            "timestamp": 1734510054000,
            "description": "TC-21c: Sub-function 0x7F (max without suppress) - Expect NRC 0x12 (Sub-function Not Supported)"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                3
            ],
            "timestamp": 1734510055000,
            "description": "TC-21d: DTCSettingType 0x03 (manufacturer range start) - Expect NRC 0x31 or Success (ECU dependent)"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                127
            ],
            "timestamp": 1734510056000,
            "description": "TC-21e: DTCSettingType 0x7F (manufacturer range end) - Expect NRC 0x31 or Success"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [
                128
            ],
            "timestamp": 1734510057000,
            "description": "TC-21f: DTCSettingType 0x80 (reserved boundary) - Expect NRC 0x31 (Request Out Of Range)"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510058000,
            "description": "TC-21g: Re-enable DTC - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510059000,
            "description": "[ERROR RECOVERY] TC-22: Setup - Reset to DEFAULT Session"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510060000,
            "description": "TC-22a: Try Disable in DEFAULT - Expect NRC 0x7F (simulates error condition)"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510061000,
            "description": "TC-22b: Error Recovery - Enter EXTENDED Session"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510062000,
            "description": "TC-22c: Retry Disable DTC - Expect Positive Response 0xC5 0x02 (error recovery success)"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510063000,
            "description": "TC-22d: Verify State - Read DTCs to confirm DTC operations work"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510064000,
            "description": "TC-22e: Complete Recovery - Re-enable DTC"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510065000,
            "description": "[SUPPRESS EXTENDED] TC-23: Setup - Enter EXTENDED Session"
        },
        {
            "sid": 133,
            "subFunction": 129,
            "data": [],
            "timestamp": 1734510066000,
            "description": "TC-23a: Enable with suppress (0x81 = 0x01 + 0x80) - Expect Suppressed Response"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510067000,
            "description": "TC-23b: Verify DTC state - Read DTCs confirms recording is enabled"
        },
        {
            "sid": 133,
            "subFunction": 130,
            "data": [],
            "timestamp": 1734510068000,
            "description": "TC-23c: Disable with suppress (0x82 = 0x02 + 0x80) - Expect Suppressed Response"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510069000,
            "description": "TC-23d: Verify DTC state - Read DTCs confirms operation worked"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510070000,
            "description": "TC-23e: Re-enable DTC - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510071000,
            "description": "[PROGRAMMING WORKFLOW] TC-24: Enter PROGRAMMING Session"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510072000,
            "description": "TC-24a: Disable DTC in PROGRAMMING - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 39,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510073000,
            "description": "TC-24b: Request Security Seed (0x27 0x01) - Part of programming workflow"
        },
        {
            "sid": 62,
            "subFunction": 0,
            "data": [],
            "timestamp": 1734510074000,
            "description": "TC-24c: Tester Present - Maintain session during programming"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510075000,
            "description": "TC-24d: Re-enable DTC before exit - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510076000,
            "description": "TC-24e: Exit to DEFAULT - DTC auto-reset verification"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510077000,
            "description": "[STATE VERIFY] TC-25: Enter EXTENDED Session for state verification"
        },
        {
            "sid": 133,
            "subFunction": 2,
            "data": [],
            "timestamp": 1734510078000,
            "description": "TC-25a: Disable DTC Recording - Expect Positive Response 0xC5 0x02"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510079000,
            "description": "TC-25b: Read DTCs - Verify reading works while disabled"
        },
        {
            "sid": 20,
            "subFunction": 0,
            "data": [
                255,
                255,
                255
            ],
            "timestamp": 1734510080000,
            "description": "TC-25c: Clear DTCs - Verify clearing works while disabled"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510081000,
            "description": "TC-25d: Enable DTC Recording - Expect Positive Response 0xC5 0x01"
        },
        {
            "sid": 25,
            "subFunction": 2,
            "data": [
                255
            ],
            "timestamp": 1734510082000,
            "description": "TC-25e: Read DTCs - Verify reading works when enabled"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510083000,
            "description": "TC-25f: Return to DEFAULT - Auto-reset final verification"
        },
        {
            "sid": 16,
            "subFunction": 3,
            "data": [],
            "timestamp": 1734510084000,
            "description": "TC-25g: Re-enter EXTENDED - Verify DTC state was reset to enabled"
        },
        {
            "sid": 133,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510085000,
            "description": "TC-25h: Enable DTC (should already be enabled after auto-reset) - Idempotent verification"
        },
        {
            "sid": 16,
            "subFunction": 1,
            "data": [],
            "timestamp": 1734510086000,
            "description": "[CLEANUP] Final reset to Default Session"
        }
    ],
    "createdAt": 1734510000000,
    "version": "3.0.0",
    "metadata": {
        "author": "UDS Simulator",
        "description": "ISO 14229-1:2020 Section 9.7 compliant production-ready test suite for SID 0x85 (ControlDTCSetting). Includes comprehensive coverage of positive/negative responses, error recovery, idempotent operations, boundary conditions, and multi-service interactions.",
        "tags": [
            "SID85",
            "Control DTC Setting",
            "ControlDTCSetting",
            "ISO 14229",
            "Production Ready",
            "Foolproof Testing",
            "ECU Simulation",
            "Automotive Testing",
            "Error Recovery",
            "Idempotent Operations"
        ],
        "duration": 86000,
        "totalRequests": 87,
        "categories": {
            "core": "TC-01 to TC-13 (Basic SID 0x85 functionality)",
            "serviceInteraction": "TC-14 to TC-19 (Multi-service workflows)",
            "idempotent": "TC-20 (Repeated enable/disable operations)",
            "boundary": "TC-21 (Sub-function and DTCSettingType boundaries)",
            "errorRecovery": "TC-22 (Retry after NRC workflow)",
            "suppressExtended": "TC-23 (Suppress positive response variants)",
            "programmingWorkflow": "TC-24 (Complete PROGRAMMING session workflow)",
            "stateVerification": "TC-25 (DTC state persistence verification)"
        }
    },
    "notes": "Test Suite v3.0.0 - Production Ready: Comprehensive foolproof test suite simulating real automotive ECU testing. Core tests (TC-01-13), Service interactions (TC-14-19), Idempotent behavior (TC-20), Boundary conditions (TC-21), Error recovery (TC-22), Extended suppress response (TC-23), Full programming workflow (TC-24), State verification (TC-25). Total 87 requests covering all ISO 14229-1:2020 requirements for SID 0x85."
}