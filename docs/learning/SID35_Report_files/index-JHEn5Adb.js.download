function kR(t,e){for(var s=0;s<e.length;s++){const a=e[s];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const l=Object.getOwnPropertyDescriptor(a,r);l&&Object.defineProperty(t,r,l.get?l:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function jS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fh={exports:{}},cl={};var wb;function DR(){if(wb)return cl;wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var f in r)f!=="key"&&(l[f]=r[f])}else l=r;return r=l.ref,{$$typeof:t,type:a,key:c,ref:r!==void 0?r:null,props:l}}return cl.Fragment=e,cl.jsx=s,cl.jsxs=s,cl}var Eb;function jR(){return Eb||(Eb=1,Fh.exports=DR()),Fh.exports}var u=jR(),Vh={exports:{}},ke={};var Nb;function _R(){if(Nb)return ke;Nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function R(U,$,te){this.props=U,this.context=$,this.refs=N,this.updater=te||C}R.prototype.isReactComponent={},R.prototype.setState=function(U,$){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,$,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=R.prototype;function j(U,$,te){this.props=U,this.context=$,this.refs=N,this.updater=te||C}var O=j.prototype=new D;O.constructor=j,E(O,R.prototype),O.isPureReactComponent=!0;var k=Array.isArray;function V(){}var M={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function W(U,$,te){var ae=te.ref;return{$$typeof:t,type:U,key:$,ref:ae!==void 0?ae:null,props:te}}function X(U,$){return W(U.type,$,U.props)}function ce(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var $={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return $[te]})}var Z=/\/+/g;function se(U,$){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):$.toString(36)}function oe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function($){U.status==="pending"&&(U.status="fulfilled",U.value=$)},function($){U.status==="pending"&&(U.status="rejected",U.reason=$)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function z(U,$,te,ae,Ce){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(Ne){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case t:case e:pe=!0;break;case g:return pe=U._init,z(pe(U._payload),$,te,ae,Ce)}}if(pe)return Ce=Ce(U),pe=ae===""?"."+se(U,0):ae,k(Ce)?(te="",pe!=null&&(te=pe.replace(Z,"$&/")+"/"),z(Ce,$,te,"",function(Ht){return Ht})):Ce!=null&&(ce(Ce)&&(Ce=X(Ce,te+(Ce.key==null||U&&U.key===Ce.key?"":(""+Ce.key).replace(Z,"$&/")+"/")+pe)),$.push(Ce)),1;pe=0;var Oe=ae===""?".":ae+":";if(k(U))for(var Ae=0;Ae<U.length;Ae++)ae=U[Ae],Ne=Oe+se(ae,Ae),pe+=z(ae,$,te,Ne,Ce);else if(Ae=v(U),typeof Ae=="function")for(U=Ae.call(U),Ae=0;!(ae=U.next()).done;)ae=ae.value,Ne=Oe+se(ae,Ae++),pe+=z(ae,$,te,Ne,Ce);else if(Ne==="object"){if(typeof U.then=="function")return z(oe(U),$,te,ae,Ce);throw $=String(U),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(U,$,te){if(U==null)return U;var ae=[],Ce=0;return z(U,ae,"","",function(Ne){return $.call(te,Ne,Ce++)}),ae}function I(U){if(U._status===-1){var $=U._result;$=$(),$.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=$)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ve={map:G,forEach:function(U,$,te){G(U,function(){$.apply(this,arguments)},te)},count:function(U){var $=0;return G(U,function(){$++}),$},toArray:function(U){return G(U,function($){return $})||[]},only:function(U){if(!ce(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ke.Activity=x,ke.Children=ve,ke.Component=R,ke.Fragment=s,ke.Profiler=r,ke.PureComponent=j,ke.StrictMode=a,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return M.H.useMemoCache(U)}},ke.cache=function(U){return function(){return U.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(U,$,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ae=E({},U.props),Ce=U.key;if($!=null)for(Ne in $.key!==void 0&&(Ce=""+$.key),$)!_.call($,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&$.ref===void 0||(ae[Ne]=$[Ne]);var Ne=arguments.length-2;if(Ne===1)ae.children=te;else if(1<Ne){for(var pe=Array(Ne),Oe=0;Oe<Ne;Oe++)pe[Oe]=arguments[Oe+2];ae.children=pe}return W(U.type,Ce,ae)},ke.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},ke.createElement=function(U,$,te){var ae,Ce={},Ne=null;if($!=null)for(ae in $.key!==void 0&&(Ne=""+$.key),$)_.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ce[ae]=$[ae]);var pe=arguments.length-2;if(pe===1)Ce.children=te;else if(1<pe){for(var Oe=Array(pe),Ae=0;Ae<pe;Ae++)Oe[Ae]=arguments[Ae+2];Ce.children=Oe}if(U&&U.defaultProps)for(ae in pe=U.defaultProps,pe)Ce[ae]===void 0&&(Ce[ae]=pe[ae]);return W(U,Ne,Ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:f,render:U}},ke.isValidElement=ce,ke.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:I}},ke.memo=function(U,$){return{$$typeof:m,type:U,compare:$===void 0?null:$}},ke.startTransition=function(U){var $=M.T,te={};M.T=te;try{var ae=U(),Ce=M.S;Ce!==null&&Ce(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(V,ue)}catch(Ne){ue(Ne)}finally{$!==null&&te.types!==null&&($.types=te.types),M.T=$}},ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ke.use=function(U){return M.H.use(U)},ke.useActionState=function(U,$,te){return M.H.useActionState(U,$,te)},ke.useCallback=function(U,$){return M.H.useCallback(U,$)},ke.useContext=function(U){return M.H.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U,$){return M.H.useDeferredValue(U,$)},ke.useEffect=function(U,$){return M.H.useEffect(U,$)},ke.useEffectEvent=function(U){return M.H.useEffectEvent(U)},ke.useId=function(){return M.H.useId()},ke.useImperativeHandle=function(U,$,te){return M.H.useImperativeHandle(U,$,te)},ke.useInsertionEffect=function(U,$){return M.H.useInsertionEffect(U,$)},ke.useLayoutEffect=function(U,$){return M.H.useLayoutEffect(U,$)},ke.useMemo=function(U,$){return M.H.useMemo(U,$)},ke.useOptimistic=function(U,$){return M.H.useOptimistic(U,$)},ke.useReducer=function(U,$,te){return M.H.useReducer(U,$,te)},ke.useRef=function(U){return M.H.useRef(U)},ke.useState=function(U){return M.H.useState(U)},ke.useSyncExternalStore=function(U,$,te){return M.H.useSyncExternalStore(U,$,te)},ke.useTransition=function(){return M.H.useTransition()},ke.version="19.2.1",ke}var Rb;function Np(){return Rb||(Rb=1,Vh.exports=_R()),Vh.exports}var w=Np();const rt=jS(w),OR=kR({__proto__:null,default:rt},[w]);var Hh={exports:{}},ul={},qh={exports:{}},Gh={};var Tb;function AR(){return Tb||(Tb=1,(function(t){function e(z,G){var I=z.length;z.push(G);e:for(;0<I;){var ue=I-1>>>1,ve=z[ue];if(0<r(ve,G))z[ue]=G,z[I]=ve,I=ue;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var G=z[0],I=z.pop();if(I!==G){z[0]=I;e:for(var ue=0,ve=z.length,U=ve>>>1;ue<U;){var $=2*(ue+1)-1,te=z[$],ae=$+1,Ce=z[ae];if(0>r(te,I))ae<ve&&0>r(Ce,te)?(z[ue]=Ce,z[ae]=I,ue=ae):(z[ue]=te,z[$]=I,ue=$);else if(ae<ve&&0>r(Ce,I))z[ue]=Ce,z[ae]=I,ue=ae;else break e}}return G}function r(z,G){var I=z.sortIndex-G.sortIndex;return I!==0?I:z.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,x=null,b=3,v=!1,C=!1,E=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function O(z){for(var G=s(m);G!==null;){if(G.callback===null)a(m);else if(G.startTime<=z)a(m),G.sortIndex=G.expirationTime,e(h,G);else break;G=s(m)}}function k(z){if(E=!1,O(z),!C)if(s(h)!==null)C=!0,V||(V=!0,F());else{var G=s(m);G!==null&&oe(k,G.startTime-z)}}var V=!1,M=-1,_=5,W=-1;function X(){return N?!0:!(t.unstable_now()-W<_)}function ce(){if(N=!1,V){var z=t.unstable_now();W=z;var G=!0;try{e:{C=!1,E&&(E=!1,D(M),M=-1),v=!0;var I=b;try{t:{for(O(z),x=s(h);x!==null&&!(x.expirationTime>z&&X());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,b=x.priorityLevel;var ve=ue(x.expirationTime<=z);if(z=t.unstable_now(),typeof ve=="function"){x.callback=ve,O(z),G=!0;break t}x===s(h)&&a(h),O(z)}else a(h);x=s(h)}if(x!==null)G=!0;else{var U=s(m);U!==null&&oe(k,U.startTime-z),G=!1}}break e}finally{x=null,b=I,v=!1}G=void 0}}finally{G?F():V=!1}}}var F;if(typeof j=="function")F=function(){j(ce)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=ce,F=function(){se.postMessage(null)}}else F=function(){R(ce,0)};function oe(z,G){M=R(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(z){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var I=b;b=G;try{return z()}finally{b=I}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=b;b=z;try{return G()}finally{b=I}},t.unstable_scheduleCallback=function(z,G,I){var ue=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ue+I:ue):I=ue,z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=I+ve,z={id:g++,callback:G,priorityLevel:z,startTime:I,expirationTime:ve,sortIndex:-1},I>ue?(z.sortIndex=I,e(m,z),s(h)===null&&z===s(m)&&(E?(D(M),M=-1):E=!0,oe(k,I-ue))):(z.sortIndex=ve,e(h,z),C||v||(C=!0,V||(V=!0,F()))),z},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(z){var G=b;return function(){var I=b;b=G;try{return z.apply(this,arguments)}finally{b=I}}}})(Gh)),Gh}var kb;function MR(){return kb||(kb=1,qh.exports=AR()),qh.exports}var $h={exports:{}},$t={};var Db;function LR(){if(Db)return $t;Db=1;var t=Np();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,g)},$t.flushSync=function(h){var m=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=g,a.d.f()}},$t.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},$t.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},$t.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):g==="script"&&a.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},$t.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},$t.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=f(g,m.crossOrigin);a.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},$t.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},$t.requestFormReset=function(h){a.d.r(h)},$t.unstable_batchedUpdates=function(h,m){return h(m)},$t.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},$t.useFormStatus=function(){return c.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var jb;function _S(){if(jb)return $h.exports;jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$h.exports=LR(),$h.exports}var _b;function UR(){if(_b)return ul;_b=1;var t=MR(),e=Np(),s=_S();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,d=i;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return h(p),n;if(y===d)return h(p),i;y=y.sibling}throw Error(a(188))}if(o.return!==d.return)o=p,d=y;else{for(var S=!1,T=p.child;T;){if(T===o){S=!0,o=p,d=y;break}if(T===d){S=!0,d=p,o=y;break}T=T.sibling}if(!S){for(T=y.child;T;){if(T===o){S=!0,o=y,d=p;break}if(T===d){S=!0,d=y,o=p;break}T=T.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==d)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case R:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case j:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case O:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:se(n.type)||"Memo";case _:i=n._payload,n=n._init;try{return se(n(i))}catch{}}return null}var oe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function U(n){return{current:n}}function $(n){0>ve||(n.current=ue[ve],ue[ve]=null,ve--)}function te(n,i){ve++,ue[ve]=n.current,n.current=i}var ae=U(null),Ce=U(null),Ne=U(null),pe=U(null);function Oe(n,i){switch(te(Ne,i),te(Ce,n),te(ae,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?$x(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=$x(i),n=Yx(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(ae),te(ae,n)}function Ae(){$(ae),$(Ce),$(Ne)}function Ht(n){n.memoizedState!==null&&te(pe,n);var i=ae.current,o=Yx(i,n.type);i!==o&&(te(Ce,n),te(ae,o))}function cn(n){Ce.current===n&&($(ae),$(Ce)),pe.current===n&&($(pe),al._currentValue=I)}var tn,ge;function Ye(n){if(tn===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);tn=i&&i[1]||"",ge=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tn+n+ge}var Ze=!1;function nn(n,i){if(!n||Ze)return"";Ze=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var Y=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){Y=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],T=y[1];if(S&&T){var L=S.split(`
`),q=T.split(`
`);for(p=d=0;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;for(;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;if(d===L.length||p===q.length)for(d=L.length-1,p=q.length-1;1<=d&&0<=p&&L[d]!==q[p];)p--;for(;1<=d&&0<=p;d--,p--)if(L[d]!==q[p]){if(d!==1||p!==1)do if(d--,p--,0>p||L[d]!==q[p]){var J=`
`+L[d].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=d&&0<=p);break}}}finally{Ze=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ye(o):""}function qt(n,i){switch(n.tag){case 26:case 27:case 5:return Ye(n.type);case 16:return Ye("Lazy");case 13:return n.child!==i&&i!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return nn(n.type,!1);case 11:return nn(n.type.render,!1);case 1:return nn(n.type,!0);case 31:return Ye("Activity");default:return""}}function Zn(n){try{var i="",o=null;do i+=qt(n,o),o=n,n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Jn=Object.prototype.hasOwnProperty,go=t.unstable_scheduleCallback,yo=t.unstable_cancelCallback,Qi=t.unstable_shouldYield,wd=t.unstable_requestPaint,Ot=t.unstable_now,Ed=t.unstable_getCurrentPriorityLevel,$l=t.unstable_ImmediatePriority,Yl=t.unstable_UserBlockingPriority,Fa=t.unstable_NormalPriority,Nd=t.unstable_LowPriority,Ql=t.unstable_IdlePriority,Rd=t.log,Td=t.unstable_setDisableYieldValue,_s=null,sn=null;function ps(n){if(typeof Rd=="function"&&Td(n),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(_s,n)}catch{}}var At=Math.clz32?Math.clz32:Dd,xo=Math.log,kd=Math.LN2;function Dd(n){return n>>>=0,n===0?32:31-(xo(n)/kd|0)|0}var Va=256,Ha=262144,qa=4194304;function Os(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ga(n,i,o){var d=n.pendingLanes;if(d===0)return 0;var p=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var T=d&134217727;return T!==0?(d=T&~y,d!==0?p=Os(d):(S&=T,S!==0?p=Os(S):o||(o=T&~n,o!==0&&(p=Os(o))))):(T=d&~y,T!==0?p=Os(T):S!==0?p=Os(S):o||(o=d&~n,o!==0&&(p=Os(o)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:p}function Wi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function jd(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var n=qa;return qa<<=1,(qa&62914560)===0&&(qa=4194304),n}function bo(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Xi(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function K(n,i,o,d,p,y){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,L=n.expirationTimes,q=n.hiddenUpdates;for(o=S&~o;0<o;){var J=31-At(o),ne=1<<J;T[J]=0,L[J]=-1;var Y=q[J];if(Y!==null)for(q[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}o&=~ne}d!==0&&re(n,d,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~i))}function re(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-At(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|o&261930}function le(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var d=31-At(o),p=1<<d;p&i|n[d]&i&&(n[d]|=i),o&=~p}}function he(n,i){var o=i&-i;return o=(o&42)!==0?1:fe(o),(o&(n.suspendedLanes|i))!==0?0:o}function fe(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _e(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mt(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:gb(n.type))}function wt(n,i){var o=G.p;try{return G.p=n,i()}finally{G.p=o}}var Gt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Gt,un="__reactProps$"+Gt,$a="__reactContainer$"+Gt,_d="__reactEvents$"+Gt,yE="__reactListeners$"+Gt,xE="__reactHandles$"+Gt,A0="__reactResources$"+Gt,vo="__reactMarker$"+Gt;function Od(n){delete n[Lt],delete n[un],delete n[_d],delete n[yE],delete n[xE]}function Ya(n){var i=n[Lt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[$a]||o[Lt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=eb(n);n!==null;){if(o=n[Lt])return o;n=eb(n)}return i}n=o,o=n.parentNode}return null}function Qa(n){if(n=n[Lt]||n[$a]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function So(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Wa(n){var i=n[A0];return i||(i=n[A0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(n){n[vo]=!0}var M0=new Set,L0={};function Ki(n,i){Xa(n,i),Xa(n+"Capture",i)}function Xa(n,i){for(L0[n]=i,n=0;n<i.length;n++)M0.add(i[n])}var bE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),U0={},P0={};function vE(n){return Jn.call(P0,n)?!0:Jn.call(U0,n)?!1:bE.test(n)?P0[n]=!0:(U0[n]=!0,!1)}function Xl(n,i,o){if(vE(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Kl(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function As(n,i,o,d){if(d===null)n.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+d)}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function z0(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function SE(n,i,o){var d=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,y=d.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){o=""+S,y.call(this,S)}}),Object.defineProperty(n,i,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ad(n){if(!n._valueTracker){var i=z0(n)?"checked":"value";n._valueTracker=SE(n,i,""+n[i])}}function I0(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return n&&(d=z0(n)?n.checked?"true":"false":n.value),n=d,n!==o?(i.setValue(n),!0):!1}function Zl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var CE=/[\n"\\]/g;function Ln(n){return n.replace(CE,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Md(n,i,o,d,p,y,S,T){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),i!=null?S==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Mn(i)):n.value!==""+Mn(i)&&(n.value=""+Mn(i)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),i!=null?Ld(n,S,Mn(i)):o!=null?Ld(n,S,Mn(o)):d!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Mn(T):n.removeAttribute("name")}function B0(n,i,o,d,p,y,S,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Ad(n);return}o=o!=null?""+Mn(o):"",i=i!=null?""+Mn(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=T?n.checked:!!d,n.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),Ad(n)}function Ld(n,i,o){i==="number"&&Zl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ka(n,i,o,d){if(n=n.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=i.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&d&&(n[o].defaultSelected=!0)}else{for(o=""+Mn(o),i=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function F0(n,i,o){if(i!=null&&(i=""+Mn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Mn(o):""}function V0(n,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(a(92));if(oe(d)){if(1<d.length)throw Error(a(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Mn(i),n.defaultValue=o,d=n.textContent,d===o&&d!==""&&d!==null&&(n.value=d),Ad(n)}function Za(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var wE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H0(n,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":d?n.setProperty(i,o):typeof o!="number"||o===0||wE.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function q0(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&o[p]!==d&&H0(n,p,d)}else for(var y in i)i.hasOwnProperty(y)&&H0(n,y,i[y])}function Ud(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(n){return NE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ms(){}var Pd=null;function zd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ja=null,er=null;function G0(n){var i=Qa(n);if(i&&(n=i.stateNode)){var o=n[un]||null;e:switch(n=i.stateNode,i.type){case"input":if(Md(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ln(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==n&&d.form===n.form){var p=d[un]||null;if(!p)throw Error(a(90));Md(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===n.form&&I0(d)}break e;case"textarea":F0(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ka(n,!!o.multiple,i,!1)}}}var Id=!1;function $0(n,i,o){if(Id)return n(i,o);Id=!0;try{var d=n(i);return d}finally{if(Id=!1,(Ja!==null||er!==null)&&(Bc(),Ja&&(i=Ja,n=er,er=Ja=null,G0(i),n)))for(i=0;i<n.length;i++)G0(n[i])}}function Co(n,i){var o=n.stateNode;if(o===null)return null;var d=o[un]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=!1;if(Ls)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Bd=!1}var ci=null,Fd=null,ec=null;function Y0(){if(ec)return ec;var n,i=Fd,o=i.length,d,p="value"in ci?ci.value:ci.textContent,y=p.length;for(n=0;n<o&&i[n]===p[n];n++);var S=o-n;for(d=1;d<=S&&i[o-d]===p[y-d];d++);return ec=p.slice(n,1<d?1-d:void 0)}function tc(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function nc(){return!0}function Q0(){return!1}function dn(n){function i(o,d,p,y,S){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?nc:Q0,this.isPropagationStopped=Q0,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),i}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=dn(Zi),Eo=x({},Zi,{view:0,detail:0}),RE=dn(Eo),Vd,Hd,No,ic=x({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==No&&(No&&n.type==="mousemove"?(Vd=n.screenX-No.screenX,Hd=n.screenY-No.screenY):Hd=Vd=0,No=n),Vd)},movementY:function(n){return"movementY"in n?n.movementY:Hd}}),W0=dn(ic),TE=x({},ic,{dataTransfer:0}),kE=dn(TE),DE=x({},Eo,{relatedTarget:0}),qd=dn(DE),jE=x({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),_E=dn(jE),OE=x({},Zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AE=dn(OE),ME=x({},Zi,{data:0}),X0=dn(ME),LE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zE(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=PE[n])?!!i[n]:!1}function Gd(){return zE}var IE=x({},Eo,{key:function(n){if(n.key){var i=LE[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=tc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?UE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(n){return n.type==="keypress"?tc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),BE=dn(IE),FE=x({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=dn(FE),VE=x({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),HE=dn(VE),qE=x({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),GE=dn(qE),$E=x({},ic,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=dn($E),QE=x({},Zi,{newState:0,oldState:0}),WE=dn(QE),XE=[9,13,27,32],$d=Ls&&"CompositionEvent"in window,Ro=null;Ls&&"documentMode"in document&&(Ro=document.documentMode);var KE=Ls&&"TextEvent"in window&&!Ro,Z0=Ls&&(!$d||Ro&&8<Ro&&11>=Ro),J0=" ",eg=!1;function tg(n,i){switch(n){case"keyup":return XE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var tr=!1;function ZE(n,i){switch(n){case"compositionend":return ng(i);case"keypress":return i.which!==32?null:(eg=!0,J0);case"textInput":return n=i.data,n===J0&&eg?null:n;default:return null}}function JE(n,i){if(tr)return n==="compositionend"||!$d&&tg(n,i)?(n=Y0(),ec=Fd=ci=null,tr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Z0&&i.locale!=="ko"?null:i.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!eN[n.type]:i==="textarea"}function ig(n,i,o,d){Ja?er?er.push(d):er=[d]:Ja=d,i=Yc(i,"onChange"),0<i.length&&(o=new sc("onChange","change",null,o,d),n.push({event:o,listeners:i}))}var To=null,ko=null;function tN(n){Bx(n,0)}function ac(n){var i=So(n);if(I0(i))return n}function ag(n,i){if(n==="change")return i}var rg=!1;if(Ls){var Yd;if(Ls){var Qd="oninput"in document;if(!Qd){var og=document.createElement("div");og.setAttribute("oninput","return;"),Qd=typeof og.oninput=="function"}Yd=Qd}else Yd=!1;rg=Yd&&(!document.documentMode||9<document.documentMode)}function lg(){To&&(To.detachEvent("onpropertychange",cg),ko=To=null)}function cg(n){if(n.propertyName==="value"&&ac(ko)){var i=[];ig(i,ko,n,zd(n)),$0(tN,i)}}function nN(n,i,o){n==="focusin"?(lg(),To=i,ko=o,To.attachEvent("onpropertychange",cg)):n==="focusout"&&lg()}function sN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ac(ko)}function iN(n,i){if(n==="click")return ac(i)}function aN(n,i){if(n==="input"||n==="change")return ac(i)}function rN(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:rN;function Do(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!Jn.call(i,p)||!vn(n[p],i[p]))return!1}return!0}function ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dg(n,i){var o=ug(n);n=0;for(var d;o;){if(o.nodeType===3){if(d=n+o.textContent.length,n<=i&&d>=i)return{node:o,offset:i-n};n=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ug(o)}}function fg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?fg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Zl(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Zl(n.document)}return i}function Wd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var oN=Ls&&"documentMode"in document&&11>=document.documentMode,nr=null,Xd=null,jo=null,Kd=!1;function mg(n,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Kd||nr==null||nr!==Zl(d)||(d=nr,"selectionStart"in d&&Wd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jo&&Do(jo,d)||(jo=d,d=Yc(Xd,"onSelect"),0<d.length&&(i=new sc("onSelect","select",null,i,o),n.push({event:i,listeners:d}),i.target=nr)))}function Ji(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var sr={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Zd={},pg={};Ls&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function ea(n){if(Zd[n])return Zd[n];if(!sr[n])return n;var i=sr[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in pg)return Zd[n]=i[o];return n}var gg=ea("animationend"),yg=ea("animationiteration"),xg=ea("animationstart"),lN=ea("transitionrun"),cN=ea("transitionstart"),uN=ea("transitioncancel"),bg=ea("transitionend"),vg=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function es(n,i){vg.set(n,i),Ki(i,[n])}var rc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],ir=0,ef=0;function oc(){for(var n=ir,i=ef=ir=0;i<n;){var o=Un[i];Un[i++]=null;var d=Un[i];Un[i++]=null;var p=Un[i];Un[i++]=null;var y=Un[i];if(Un[i++]=null,d!==null&&p!==null){var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}y!==0&&Sg(o,p,y)}}function lc(n,i,o,d){Un[ir++]=n,Un[ir++]=i,Un[ir++]=o,Un[ir++]=d,ef|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function tf(n,i,o,d){return lc(n,i,o,d),cc(n)}function ta(n,i){return lc(n,null,null,i),cc(n)}function Sg(n,i,o){n.lanes|=o;var d=n.alternate;d!==null&&(d.lanes|=o);for(var p=!1,y=n.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,p&&i!==null&&(p=31-At(o),n=y.hiddenUpdates,d=n[p],d===null?n[p]=[i]:d.push(i),i.lane=o|536870912),y):null}function cc(n){if(50<Zo)throw Zo=0,dh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ar={};function dN(n,i,o,d){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,i,o,d){return new dN(n,i,o,d)}function nf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Us(n,i){var o=n.alternate;return o===null?(o=Sn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Cg(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function uc(n,i,o,d,p,y){var S=0;if(d=n,typeof n=="function")nf(n)&&(S=1);else if(typeof n=="string")S=gR(n,o,ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=Sn(31,o,i,p),n.elementType=W,n.lanes=y,n;case E:return na(o.children,p,y,i);case N:S=8,p|=24;break;case R:return n=Sn(12,o,i,p|2),n.elementType=R,n.lanes=y,n;case k:return n=Sn(13,o,i,p),n.elementType=k,n.lanes=y,n;case V:return n=Sn(19,o,i,p),n.elementType=V,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:S=10;break e;case D:S=9;break e;case O:S=11;break e;case M:S=14;break e;case _:S=16,d=null;break e}S=29,o=Error(a(130,n===null?"null":typeof n,"")),d=null}return i=Sn(S,o,i,p),i.elementType=n,i.type=d,i.lanes=y,i}function na(n,i,o,d){return n=Sn(7,n,d,i),n.lanes=o,n}function sf(n,i,o){return n=Sn(6,n,null,i),n.lanes=o,n}function wg(n){var i=Sn(18,null,null,0);return i.stateNode=n,i}function af(n,i,o){return i=Sn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Eg=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var o=Eg.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Zn(i)},Eg.set(n,i),i)}return{value:n,source:i,stack:Zn(i)}}var rr=[],or=0,dc=null,_o=0,zn=[],In=0,ui=null,gs=1,ys="";function Ps(n,i){rr[or++]=_o,rr[or++]=dc,dc=n,_o=i}function Ng(n,i,o){zn[In++]=gs,zn[In++]=ys,zn[In++]=ui,ui=n;var d=gs;n=ys;var p=32-At(d)-1;d&=~(1<<p),o+=1;var y=32-At(i)+p;if(30<y){var S=p-p%5;y=(d&(1<<S)-1).toString(32),d>>=S,p-=S,gs=1<<32-At(i)+p|o<<p|d,ys=y+n}else gs=1<<y|o<<p|d,ys=n}function rf(n){n.return!==null&&(Ps(n,1),Ng(n,1,0))}function of(n){for(;n===dc;)dc=rr[--or],rr[or]=null,_o=rr[--or],rr[or]=null;for(;n===ui;)ui=zn[--In],zn[In]=null,ys=zn[--In],zn[In]=null,gs=zn[--In],zn[In]=null}function Rg(n,i){zn[In++]=gs,zn[In++]=ys,zn[In++]=ui,gs=i.id,ys=i.overflow,ui=n}var Ut=null,tt=null,Be=!1,di=null,Bn=!1,lf=Error(a(519));function fi(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(Pn(i,n)),lf}function Tg(n){var i=n.stateNode,o=n.type,d=n.memoizedProps;switch(i[Lt]=n,i[un]=d,o){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(o=0;o<el.length;o++)Ue(el[o],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),B0(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),V0(i,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||qx(i.textContent,o)?(d.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),d.onScroll!=null&&Ue("scroll",i),d.onScrollEnd!=null&&Ue("scrollend",i),d.onClick!=null&&(i.onclick=Ms),i=!0):i=!1,i||fi(n,!0)}function kg(n){for(Ut=n.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ut=Ut.return}}function lr(n){if(n!==Ut)return!1;if(!Be)return kg(n),Be=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Rh(n.type,n.memoizedProps)),o=!o),o&&tt&&fi(n),kg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=Jx(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=Jx(n)}else i===27?(i=tt,Ri(n.type)?(n=_h,_h=null,tt=n):tt=i):tt=Ut?Vn(n.stateNode.nextSibling):null;return!0}function sa(){tt=Ut=null,Be=!1}function cf(){var n=di;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),di=null),n}function Oo(n){di===null?di=[n]:di.push(n)}var uf=U(null),ia=null,zs=null;function hi(n,i,o){te(uf,i._currentValue),i._currentValue=o}function Is(n){n._currentValue=uf.current,$(uf)}function df(n,i,o){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===o)break;n=n.return}}function ff(n,i,o,d){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var S=p.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=p;for(var L=0;L<i.length;L++)if(T.context===i[L]){y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),df(y.return,o,n),d||(S=null);break e}y=T.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(a(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),df(S,o,n),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===n){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function cr(n,i,o,d){n=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var T=p.type;vn(p.pendingProps.value,S.value)||(n!==null?n.push(T):n=[T])}}else if(p===pe.current){if(S=p.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(al):n=[al])}p=p.return}n!==null&&ff(i,n,o,d),i.flags|=262144}function fc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function aa(n){ia=n,zs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Pt(n){return Dg(ia,n)}function hc(n,i){return ia===null&&aa(n),Dg(n,i)}function Dg(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},zs===null){if(n===null)throw Error(a(308));zs=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else zs=zs.next=i;return o}var fN=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},hN=t.unstable_scheduleCallback,mN=t.unstable_NormalPriority,gt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new fN,data:new Map,refCount:0}}function Ao(n){n.refCount--,n.refCount===0&&hN(mN,function(){n.controller.abort()})}var Mo=null,mf=0,ur=0,dr=null;function pN(n,i){if(Mo===null){var o=Mo=[];mf=0,ur=yh(),dr={status:"pending",value:void 0,then:function(d){o.push(d)}}}return mf++,i.then(jg,jg),i}function jg(){if(--mf===0&&Mo!==null){dr!==null&&(dr.status="fulfilled");var n=Mo;Mo=null,ur=0,dr=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function gN(n,i){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var _g=z.S;z.S=function(n,i){mx=Ot(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&pN(n,i),_g!==null&&_g(n,i)};var ra=U(null);function pf(){var n=ra.current;return n!==null?n:Je.pooledCache}function mc(n,i){i===null?te(ra,ra.current):te(ra,i.pool)}function Og(){var n=pf();return n===null?null:{parent:gt._currentValue,pool:n}}var fr=Error(a(460)),gf=Error(a(474)),pc=Error(a(542)),gc={then:function(){}};function Ag(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mg(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Ms,Ms),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ug(n),n;default:if(typeof i.status=="string")i.then(Ms,Ms);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Ug(n),n}throw la=i,fr}}function oa(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,fr):o}}var la=null;function Lg(){if(la===null)throw Error(a(459));var n=la;return la=null,n}function Ug(n){if(n===fr||n===pc)throw Error(a(483))}var hr=null,Lo=0;function yc(n){var i=Lo;return Lo+=1,hr===null&&(hr=[]),Mg(hr,n,i)}function Uo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function xc(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Pg(n){function i(B,P){if(n){var H=B.deletions;H===null?(B.deletions=[P],B.flags|=16):H.push(P)}}function o(B,P){if(!n)return null;for(;P!==null;)i(B,P),P=P.sibling;return null}function d(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function p(B,P){return B=Us(B,P),B.index=0,B.sibling=null,B}function y(B,P,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<P?(B.flags|=67108866,P):H):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function S(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function T(B,P,H,ee){return P===null||P.tag!==6?(P=sf(H,B.mode,ee),P.return=B,P):(P=p(P,H),P.return=B,P)}function L(B,P,H,ee){var we=H.type;return we===E?J(B,P,H.props.children,ee,H.key):P!==null&&(P.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_&&oa(we)===P.type)?(P=p(P,H.props),Uo(P,H),P.return=B,P):(P=uc(H.type,H.key,H.props,null,B.mode,ee),Uo(P,H),P.return=B,P)}function q(B,P,H,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=af(H,B.mode,ee),P.return=B,P):(P=p(P,H.children||[]),P.return=B,P)}function J(B,P,H,ee,we){return P===null||P.tag!==7?(P=na(H,B.mode,ee,we),P.return=B,P):(P=p(P,H),P.return=B,P)}function ne(B,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=sf(""+P,B.mode,H),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return H=uc(P.type,P.key,P.props,null,B.mode,H),Uo(H,P),H.return=B,H;case C:return P=af(P,B.mode,H),P.return=B,P;case _:return P=oa(P),ne(B,P,H)}if(oe(P)||F(P))return P=na(P,B.mode,H,null),P.return=B,P;if(typeof P.then=="function")return ne(B,yc(P),H);if(P.$$typeof===j)return ne(B,hc(B,P),H);xc(B,P)}return null}function Y(B,P,H,ee){var we=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:T(B,P,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return H.key===we?L(B,P,H,ee):null;case C:return H.key===we?q(B,P,H,ee):null;case _:return H=oa(H),Y(B,P,H,ee)}if(oe(H)||F(H))return we!==null?null:J(B,P,H,ee,null);if(typeof H.then=="function")return Y(B,P,yc(H),ee);if(H.$$typeof===j)return Y(B,P,hc(B,H),ee);xc(B,H)}return null}function Q(B,P,H,ee,we){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(H)||null,T(P,B,""+ee,we);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return B=B.get(ee.key===null?H:ee.key)||null,L(P,B,ee,we);case C:return B=B.get(ee.key===null?H:ee.key)||null,q(P,B,ee,we);case _:return ee=oa(ee),Q(B,P,H,ee,we)}if(oe(ee)||F(ee))return B=B.get(H)||null,J(P,B,ee,we,null);if(typeof ee.then=="function")return Q(B,P,H,yc(ee),we);if(ee.$$typeof===j)return Q(B,P,H,hc(P,ee),we);xc(P,ee)}return null}function ye(B,P,H,ee){for(var we=null,Fe=null,Se=P,je=P=0,ze=null;Se!==null&&je<H.length;je++){Se.index>je?(ze=Se,Se=null):ze=Se.sibling;var Ve=Y(B,Se,H[je],ee);if(Ve===null){Se===null&&(Se=ze);break}n&&Se&&Ve.alternate===null&&i(B,Se),P=y(Ve,P,je),Fe===null?we=Ve:Fe.sibling=Ve,Fe=Ve,Se=ze}if(je===H.length)return o(B,Se),Be&&Ps(B,je),we;if(Se===null){for(;je<H.length;je++)Se=ne(B,H[je],ee),Se!==null&&(P=y(Se,P,je),Fe===null?we=Se:Fe.sibling=Se,Fe=Se);return Be&&Ps(B,je),we}for(Se=d(Se);je<H.length;je++)ze=Q(Se,B,je,H[je],ee),ze!==null&&(n&&ze.alternate!==null&&Se.delete(ze.key===null?je:ze.key),P=y(ze,P,je),Fe===null?we=ze:Fe.sibling=ze,Fe=ze);return n&&Se.forEach(function(_i){return i(B,_i)}),Be&&Ps(B,je),we}function Re(B,P,H,ee){if(H==null)throw Error(a(151));for(var we=null,Fe=null,Se=P,je=P=0,ze=null,Ve=H.next();Se!==null&&!Ve.done;je++,Ve=H.next()){Se.index>je?(ze=Se,Se=null):ze=Se.sibling;var _i=Y(B,Se,Ve.value,ee);if(_i===null){Se===null&&(Se=ze);break}n&&Se&&_i.alternate===null&&i(B,Se),P=y(_i,P,je),Fe===null?we=_i:Fe.sibling=_i,Fe=_i,Se=ze}if(Ve.done)return o(B,Se),Be&&Ps(B,je),we;if(Se===null){for(;!Ve.done;je++,Ve=H.next())Ve=ne(B,Ve.value,ee),Ve!==null&&(P=y(Ve,P,je),Fe===null?we=Ve:Fe.sibling=Ve,Fe=Ve);return Be&&Ps(B,je),we}for(Se=d(Se);!Ve.done;je++,Ve=H.next())Ve=Q(Se,B,je,Ve.value,ee),Ve!==null&&(n&&Ve.alternate!==null&&Se.delete(Ve.key===null?je:Ve.key),P=y(Ve,P,je),Fe===null?we=Ve:Fe.sibling=Ve,Fe=Ve);return n&&Se.forEach(function(TR){return i(B,TR)}),Be&&Ps(B,je),we}function Xe(B,P,H,ee){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case v:e:{for(var we=H.key;P!==null;){if(P.key===we){if(we=H.type,we===E){if(P.tag===7){o(B,P.sibling),ee=p(P,H.props.children),ee.return=B,B=ee;break e}}else if(P.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===_&&oa(we)===P.type){o(B,P.sibling),ee=p(P,H.props),Uo(ee,H),ee.return=B,B=ee;break e}o(B,P);break}else i(B,P);P=P.sibling}H.type===E?(ee=na(H.props.children,B.mode,ee,H.key),ee.return=B,B=ee):(ee=uc(H.type,H.key,H.props,null,B.mode,ee),Uo(ee,H),ee.return=B,B=ee)}return S(B);case C:e:{for(we=H.key;P!==null;){if(P.key===we)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(B,P.sibling),ee=p(P,H.children||[]),ee.return=B,B=ee;break e}else{o(B,P);break}else i(B,P);P=P.sibling}ee=af(H,B.mode,ee),ee.return=B,B=ee}return S(B);case _:return H=oa(H),Xe(B,P,H,ee)}if(oe(H))return ye(B,P,H,ee);if(F(H)){if(we=F(H),typeof we!="function")throw Error(a(150));return H=we.call(H),Re(B,P,H,ee)}if(typeof H.then=="function")return Xe(B,P,yc(H),ee);if(H.$$typeof===j)return Xe(B,P,hc(B,H),ee);xc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(B,P.sibling),ee=p(P,H),ee.return=B,B=ee):(o(B,P),ee=sf(H,B.mode,ee),ee.return=B,B=ee),S(B)):o(B,P)}return function(B,P,H,ee){try{Lo=0;var we=Xe(B,P,H,ee);return hr=null,we}catch(Se){if(Se===fr||Se===pc)throw Se;var Fe=Sn(29,Se,null,B.mode);return Fe.lanes=ee,Fe.return=B,Fe}finally{}}}var ca=Pg(!0),zg=Pg(!1),mi=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gi(n,i,o){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=cc(n),Sg(n,null,o),i}return lc(n,d,i,o),cc(n)}function Po(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,le(n,o)}}function bf(n,i){var o=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?p=y=i:y=y.next=i}else p=y=i;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var vf=!1;function zo(){if(vf){var n=dr;if(n!==null)throw n}}function Io(n,i,o,d){vf=!1;var p=n.updateQueue;mi=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var L=T,q=L.next;L.next=null,S===null?y=q:S.next=q,S=L;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==S&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=L))}if(y!==null){var ne=p.baseState;S=0,J=q=L=null,T=y;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(Pe&Y)===Y:(d&Y)===Y){Y!==0&&Y===ur&&(vf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=n,Re=T;Y=i;var Xe=o;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ne=ye.call(Xe,ne,Y);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,Y=typeof ye=="function"?ye.call(Xe,ne,Y):ye,Y==null)break e;ne=x({},ne,Y);break e;case 2:mi=!0}}Y=T.callback,Y!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=Q,L=ne):J=J.next=Q,S|=Y;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);J===null&&(L=ne),p.baseState=L,p.firstBaseUpdate=q,p.lastBaseUpdate=J,y===null&&(p.shared.lanes=0),Si|=S,n.lanes=S,n.memoizedState=ne}}function Ig(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Bg(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Ig(o[n],i)}var mr=U(null),bc=U(0);function Fg(n,i){n=Qs,te(bc,n),te(mr,i),Qs=n|i.baseLanes}function Sf(){te(bc,Qs),te(mr,mr.current)}function Cf(){Qs=bc.current,$(mr),$(bc)}var Cn=U(null),Fn=null;function yi(n){var i=n.alternate;te(ht,ht.current&1),te(Cn,n),Fn===null&&(i===null||mr.current!==null||i.memoizedState!==null)&&(Fn=n)}function wf(n){te(ht,ht.current),te(Cn,n),Fn===null&&(Fn=n)}function Vg(n){n.tag===22?(te(ht,ht.current),te(Cn,n),Fn===null&&(Fn=n)):xi()}function xi(){te(ht,ht.current),te(Cn,Cn.current)}function wn(n){$(Cn),Fn===n&&(Fn=null),$(ht)}var ht=U(0);function vc(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Dh(o)||jh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bs=0,De=null,Qe=null,yt=null,Sc=!1,pr=!1,ua=!1,Cc=0,Bo=0,gr=null,yN=0;function ct(){throw Error(a(321))}function Ef(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!vn(n[o],i[o]))return!1;return!0}function Nf(n,i,o,d,p,y){return Bs=y,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=n===null||n.memoizedState===null?Ny:Bf,ua=!1,y=o(d,p),ua=!1,pr&&(y=qg(i,o,d,p)),Hg(n),y}function Hg(n){z.H=Ho;var i=Qe!==null&&Qe.next!==null;if(Bs=0,yt=Qe=De=null,Sc=!1,Bo=0,gr=null,i)throw Error(a(300));n===null||xt||(n=n.dependencies,n!==null&&fc(n)&&(xt=!0))}function qg(n,i,o,d){De=n;var p=0;do{if(pr&&(gr=null),Bo=0,pr=!1,25<=p)throw Error(a(301));if(p+=1,yt=Qe=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=Ry,y=i(o,d)}while(pr);return y}function xN(){var n=z.H,i=n.useState()[0];return i=typeof i.then=="function"?Fo(i):i,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(De.flags|=1024),i}function Rf(){var n=Cc!==0;return Cc=0,n}function Tf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function kf(n){if(Sc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sc=!1}Bs=0,yt=Qe=De=null,pr=!1,Bo=Cc=0,gr=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=n:yt=yt.next=n,yt}function mt(){if(Qe===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var i=yt===null?De.memoizedState:yt.next;if(i!==null)yt=i,Qe=n;else{if(n===null)throw De.alternate===null?Error(a(467)):Error(a(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?De.memoizedState=yt=n:yt=yt.next=n}return yt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(n){var i=Bo;return Bo+=1,gr===null&&(gr=[]),n=Mg(gr,n,i),i=De,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Ny:Bf),n}function Ec(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Fo(n);if(n.$$typeof===j)return Pt(n)}throw Error(a(438,String(n)))}function Df(n){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=De.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wc(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),d=0;d<n;d++)o[d]=X;return i.index++,o}function Fs(n,i){return typeof i=="function"?i(n):i}function Nc(n){var i=mt();return jf(i,Qe,n)}function jf(n,i,o){var d=n.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=o;var p=n.baseQueue,y=d.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}i.baseQueue=p=y,d.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{i=p.next;var T=S=null,L=null,q=i,J=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Pe&ne)===ne:(Bs&ne)===ne){var Y=q.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===ur&&(J=!0);else if((Bs&Y)===Y){q=q.next,Y===ur&&(J=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(T=L=ne,S=y):L=L.next=ne,De.lanes|=Y,Si|=Y;ne=q.action,ua&&o(y,ne),y=q.hasEagerState?q.eagerState:o(y,ne)}else Y={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(T=L=Y,S=y):L=L.next=Y,De.lanes|=ne,Si|=ne;q=q.next}while(q!==null&&q!==i);if(L===null?S=y:L.next=T,!vn(y,n.memoizedState)&&(xt=!0,J&&(o=dr,o!==null)))throw o;n.memoizedState=y,n.baseState=S,n.baseQueue=L,d.lastRenderedState=y}return p===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function _f(n){var i=mt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var d=o.dispatch,p=o.pending,y=i.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do y=n(y,S.action),S=S.next;while(S!==p);vn(y,i.memoizedState)||(xt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,d]}function Gg(n,i,o){var d=De,p=mt(),y=Be;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=i();var S=!vn((Qe||p).memoizedState,o);if(S&&(p.memoizedState=o,xt=!0),p=p.queue,Mf(Qg.bind(null,d,p,n),[n]),p.getSnapshot!==i||S||yt!==null&&yt.memoizedState.tag&1){if(d.flags|=2048,yr(9,{destroy:void 0},Yg.bind(null,d,p,o,i),null),Je===null)throw Error(a(349));y||(Bs&127)!==0||$g(d,i,o)}return o}function $g(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=wc(),De.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Yg(n,i,o,d){i.value=o,i.getSnapshot=d,Wg(i)&&Xg(n)}function Qg(n,i,o){return o(function(){Wg(i)&&Xg(n)})}function Wg(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!vn(n,o)}catch{return!0}}function Xg(n){var i=ta(n,2);i!==null&&gn(i,n,2)}function Of(n){var i=an();if(typeof n=="function"){var o=n;if(n=o(),ua){ps(!0);try{o()}finally{ps(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:n},i}function Kg(n,i,o,d){return n.baseState=o,jf(n,Qe,typeof d=="function"?d:Fs)}function bN(n,i,o,d,p){if(kc(n))throw Error(a(485));if(n=i.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};z.T!==null?o(!0):y.isTransition=!1,d(y),o=i.pending,o===null?(y.next=i.pending=y,Zg(i,y)):(y.next=o.next,i.pending=o.next=y)}}function Zg(n,i){var o=i.action,d=i.payload,p=n.state;if(i.isTransition){var y=z.T,S={};z.T=S;try{var T=o(p,d),L=z.S;L!==null&&L(S,T),Jg(n,i,T)}catch(q){Af(n,i,q)}finally{y!==null&&S.types!==null&&(y.types=S.types),z.T=y}}else try{y=o(p,d),Jg(n,i,y)}catch(q){Af(n,i,q)}}function Jg(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){ey(n,i,d)},function(d){return Af(n,i,d)}):ey(n,i,o)}function ey(n,i,o){i.status="fulfilled",i.value=o,ty(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Zg(n,o)))}function Af(n,i,o){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,ty(i),i=i.next;while(i!==d)}n.action=null}function ty(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ny(n,i){return i}function sy(n,i){if(Be){var o=Je.formState;if(o!==null){e:{var d=De;if(Be){if(tt){t:{for(var p=tt,y=Bn;p.nodeType!==8;){if(!y){p=null;break t}if(p=Vn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){tt=Vn(p.nextSibling),d=p.data==="F!";break e}}fi(d)}d=!1}d&&(i=o[0])}}return o=an(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},o.queue=d,o=Cy.bind(null,De,d),d.dispatch=o,d=Of(!1),y=If.bind(null,De,!1,d.queue),d=an(),p={state:i,dispatch:null,action:n,pending:null},d.queue=p,o=bN.bind(null,De,p,y,o),p.dispatch=o,d.memoizedState=n,[i,o,!1]}function iy(n){var i=mt();return ay(i,Qe,n)}function ay(n,i,o){if(i=jf(n,i,ny)[0],n=Nc(Fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Fo(i)}catch(S){throw S===fr?pc:S}else d=i;i=mt();var p=i.queue,y=p.dispatch;return o!==i.memoizedState&&(De.flags|=2048,yr(9,{destroy:void 0},vN.bind(null,p,o),null)),[d,y,n]}function vN(n,i){n.action=i}function ry(n){var i=mt(),o=Qe;if(o!==null)return ay(i,o,n);mt(),i=i.memoizedState,o=mt();var d=o.queue.dispatch;return o.memoizedState=n,[i,d,!1]}function yr(n,i,o,d){return n={tag:n,create:o,deps:d,inst:i,next:null},i=De.updateQueue,i===null&&(i=wc(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(d=o.next,o.next=n,n.next=d,i.lastEffect=n),n}function oy(){return mt().memoizedState}function Rc(n,i,o,d){var p=an();De.flags|=n,p.memoizedState=yr(1|i,{destroy:void 0},o,d===void 0?null:d)}function Tc(n,i,o,d){var p=mt();d=d===void 0?null:d;var y=p.memoizedState.inst;Qe!==null&&d!==null&&Ef(d,Qe.memoizedState.deps)?p.memoizedState=yr(i,y,o,d):(De.flags|=n,p.memoizedState=yr(1|i,y,o,d))}function ly(n,i){Rc(8390656,8,n,i)}function Mf(n,i){Tc(2048,8,n,i)}function SN(n){De.flags|=4;var i=De.updateQueue;if(i===null)i=wc(),De.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function cy(n){var i=mt().memoizedState;return SN({ref:i,nextImpl:n}),function(){if((qe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function uy(n,i){return Tc(4,2,n,i)}function dy(n,i){return Tc(4,4,n,i)}function fy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function hy(n,i,o){o=o!=null?o.concat([n]):null,Tc(4,4,fy.bind(null,i,n),o)}function Lf(){}function my(n,i){var o=mt();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&Ef(i,d[1])?d[0]:(o.memoizedState=[n,i],n)}function py(n,i){var o=mt();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&Ef(i,d[1]))return d[0];if(d=n(),ua){ps(!0);try{n()}finally{ps(!1)}}return o.memoizedState=[d,i],d}function Uf(n,i,o){return o===void 0||(Bs&1073741824)!==0&&(Pe&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=gx(),De.lanes|=n,Si|=n,o)}function gy(n,i,o,d){return vn(o,i)?o:mr.current!==null?(n=Uf(n,o,d),vn(n,i)||(xt=!0),n):(Bs&42)===0||(Bs&1073741824)!==0&&(Pe&261930)===0?(xt=!0,n.memoizedState=o):(n=gx(),De.lanes|=n,Si|=n,i)}function yy(n,i,o,d,p){var y=G.p;G.p=y!==0&&8>y?y:8;var S=z.T,T={};z.T=T,If(n,!1,i,o);try{var L=p(),q=z.S;if(q!==null&&q(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var J=gN(L,d);Vo(n,i,J,Rn(n))}else Vo(n,i,d,Rn(n))}catch(ne){Vo(n,i,{then:function(){},status:"rejected",reason:ne},Rn())}finally{G.p=y,S!==null&&T.types!==null&&(S.types=T.types),z.T=S}}function CN(){}function Pf(n,i,o,d){if(n.tag!==5)throw Error(a(476));var p=xy(n).queue;yy(n,p,i,I,o===null?CN:function(){return by(n),o(d)})}function xy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:I},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function by(n){var i=xy(n);i.next===null&&(i=n.alternate.memoizedState),Vo(n,i.next.queue,{},Rn())}function zf(){return Pt(al)}function vy(){return mt().memoizedState}function Sy(){return mt().memoizedState}function wN(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Rn();n=pi(o);var d=gi(i,n,o);d!==null&&(gn(d,i,o),Po(d,i,o)),i={cache:hf()},n.payload=i;return}i=i.return}}function EN(n,i,o){var d=Rn();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(n)?wy(i,o):(o=tf(n,i,o,d),o!==null&&(gn(o,n,d),Ey(o,i,d)))}function Cy(n,i,o){var d=Rn();Vo(n,i,o,d)}function Vo(n,i,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(n))wy(i,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var S=i.lastRenderedState,T=y(S,o);if(p.hasEagerState=!0,p.eagerState=T,vn(T,S))return lc(n,i,p,0),Je===null&&oc(),!1}catch{}finally{}if(o=tf(n,i,p,d),o!==null)return gn(o,n,d),Ey(o,i,d),!0}return!1}function If(n,i,o,d){if(d={lane:2,revertLane:yh(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},kc(n)){if(i)throw Error(a(479))}else i=tf(n,o,d,2),i!==null&&gn(i,n,2)}function kc(n){var i=n.alternate;return n===De||i!==null&&i===De}function wy(n,i){pr=Sc=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Ey(n,i,o){if((o&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,o|=d,i.lanes=o,le(n,o)}}var Ho={readContext:Pt,use:Ec,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Ho.useEffectEvent=ct;var Ny={readContext:Pt,use:Ec,useCallback:function(n,i){return an().memoizedState=[n,i===void 0?null:i],n},useContext:Pt,useEffect:ly,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Rc(4194308,4,fy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Rc(4194308,4,n,i)},useInsertionEffect:function(n,i){Rc(4,2,n,i)},useMemo:function(n,i){var o=an();i=i===void 0?null:i;var d=n();if(ua){ps(!0);try{n()}finally{ps(!1)}}return o.memoizedState=[d,i],d},useReducer:function(n,i,o){var d=an();if(o!==void 0){var p=o(i);if(ua){ps(!0);try{o(i)}finally{ps(!1)}}}else p=i;return d.memoizedState=d.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},d.queue=n,n=n.dispatch=EN.bind(null,De,n),[d.memoizedState,n]},useRef:function(n){var i=an();return n={current:n},i.memoizedState=n},useState:function(n){n=Of(n);var i=n.queue,o=Cy.bind(null,De,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Lf,useDeferredValue:function(n,i){var o=an();return Uf(o,n,i)},useTransition:function(){var n=Of(!1);return n=yy.bind(null,De,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var d=De,p=an();if(Be){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Je===null)throw Error(a(349));(Pe&127)!==0||$g(d,i,o)}p.memoizedState=o;var y={value:o,getSnapshot:i};return p.queue=y,ly(Qg.bind(null,d,y,n),[n]),d.flags|=2048,yr(9,{destroy:void 0},Yg.bind(null,d,y,o,i),null),o},useId:function(){var n=an(),i=Je.identifierPrefix;if(Be){var o=ys,d=gs;o=(d&~(1<<32-At(d)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Cc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=yN++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:zf,useFormState:sy,useActionState:sy,useOptimistic:function(n){var i=an();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=If.bind(null,De,!0,o),o.dispatch=i,[n,i]},useMemoCache:Df,useCacheRefresh:function(){return an().memoizedState=wN.bind(null,De)},useEffectEvent:function(n){var i=an(),o={impl:n};return i.memoizedState=o,function(){if((qe&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Bf={readContext:Pt,use:Ec,useCallback:my,useContext:Pt,useEffect:Mf,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:py,useReducer:Nc,useRef:oy,useState:function(){return Nc(Fs)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=mt();return gy(o,Qe.memoizedState,n,i)},useTransition:function(){var n=Nc(Fs)[0],i=mt().memoizedState;return[typeof n=="boolean"?n:Fo(n),i]},useSyncExternalStore:Gg,useId:vy,useHostTransitionStatus:zf,useFormState:iy,useActionState:iy,useOptimistic:function(n,i){var o=mt();return Kg(o,Qe,n,i)},useMemoCache:Df,useCacheRefresh:Sy};Bf.useEffectEvent=cy;var Ry={readContext:Pt,use:Ec,useCallback:my,useContext:Pt,useEffect:Mf,useImperativeHandle:hy,useInsertionEffect:uy,useLayoutEffect:dy,useMemo:py,useReducer:_f,useRef:oy,useState:function(){return _f(Fs)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=mt();return Qe===null?Uf(o,n,i):gy(o,Qe.memoizedState,n,i)},useTransition:function(){var n=_f(Fs)[0],i=mt().memoizedState;return[typeof n=="boolean"?n:Fo(n),i]},useSyncExternalStore:Gg,useId:vy,useHostTransitionStatus:zf,useFormState:ry,useActionState:ry,useOptimistic:function(n,i){var o=mt();return Qe!==null?Kg(o,Qe,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Df,useCacheRefresh:Sy};Ry.useEffectEvent=cy;function Ff(n,i,o,d){i=n.memoizedState,o=o(d,i),o=o==null?i:x({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Vf={enqueueSetState:function(n,i,o){n=n._reactInternals;var d=Rn(),p=pi(d);p.payload=i,o!=null&&(p.callback=o),i=gi(n,p,d),i!==null&&(gn(i,n,d),Po(i,n,d))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var d=Rn(),p=pi(d);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=gi(n,p,d),i!==null&&(gn(i,n,d),Po(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Rn(),d=pi(o);d.tag=2,i!=null&&(d.callback=i),i=gi(n,d,o),i!==null&&(gn(i,n,o),Po(i,n,o))}};function Ty(n,i,o,d,p,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,y,S):i.prototype&&i.prototype.isPureReactComponent?!Do(o,d)||!Do(p,y):!0}function ky(n,i,o,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==n&&Vf.enqueueReplaceState(i,i.state,null)}function da(n,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(n=n.defaultProps){o===i&&(o=x({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Dy(n){rc(n)}function jy(n){console.error(n)}function _y(n){rc(n)}function Dc(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Oy(n,i,o){try{var d=n.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Hf(n,i,o){return o=pi(o),o.tag=3,o.payload={element:null},o.callback=function(){Dc(n,i)},o}function Ay(n){return n=pi(n),n.tag=3,n}function My(n,i,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;n.payload=function(){return p(y)},n.callback=function(){Oy(i,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Oy(i,o,d),typeof p!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var T=d.stack;this.componentDidCatch(d.value,{componentStack:T!==null?T:""})})}function NN(n,i,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&cr(i,o,p,!0),o=Cn.current,o!==null){switch(o.tag){case 31:case 13:return Fn===null?Fc():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===gc?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),mh(n,d,p)),!1;case 22:return o.flags|=65536,d===gc?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),mh(n,d,p)),!1}throw Error(a(435,o.tag))}return mh(n,d,p),Fc(),!1}if(Be)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==lf&&(n=Error(a(422),{cause:d}),Oo(Pn(n,o)))):(d!==lf&&(i=Error(a(423),{cause:d}),Oo(Pn(i,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,d=Pn(d,o),p=Hf(n.stateNode,d,p),bf(n,p),ut!==4&&(ut=2)),!1;var y=Error(a(520),{cause:d});if(y=Pn(y,o),Ko===null?Ko=[y]:Ko.push(y),ut!==4&&(ut=2),i===null)return!0;d=Pn(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Hf(o.stateNode,d,n),bf(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ci===null||!Ci.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ay(p),My(p,n,o,d),bf(o,p),!1}o=o.return}while(o!==null);return!1}var qf=Error(a(461)),xt=!1;function zt(n,i,o,d){i.child=n===null?zg(i,null,o,d):ca(i,n.child,o,d)}function Ly(n,i,o,d,p){o=o.render;var y=i.ref;if("ref"in d){var S={};for(var T in d)T!=="ref"&&(S[T]=d[T])}else S=d;return aa(i),d=Nf(n,i,o,S,y,p),T=Rf(),n!==null&&!xt?(Tf(n,i,p),Vs(n,i,p)):(Be&&T&&rf(i),i.flags|=1,zt(n,i,d,p),i.child)}function Uy(n,i,o,d,p){if(n===null){var y=o.type;return typeof y=="function"&&!nf(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Py(n,i,y,d,p)):(n=uc(o.type,null,d,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Zf(n,p)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:Do,o(S,d)&&n.ref===i.ref)return Vs(n,i,p)}return i.flags|=1,n=Us(y,d),n.ref=i.ref,n.return=i,i.child=n}function Py(n,i,o,d,p){if(n!==null){var y=n.memoizedProps;if(Do(y,d)&&n.ref===i.ref)if(xt=!1,i.pendingProps=d=y,Zf(n,p))(n.flags&131072)!==0&&(xt=!0);else return i.lanes=n.lanes,Vs(n,i,p)}return Gf(n,i,o,d,p)}function zy(n,i,o,d){var p=d.children,y=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~y}else d=0,i.child=null;return Iy(n,i,y,o,d)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(i,y!==null?y.cachePool:null),y!==null?Fg(i,y):Sf(),Vg(i);else return d=i.lanes=536870912,Iy(n,i,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(mc(i,y.cachePool),Fg(i,y),xi(),i.memoizedState=null):(n!==null&&mc(i,null),Sf(),xi());return zt(n,i,p,o),i.child}function qo(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Iy(n,i,o,d,p){var y=pf();return y=y===null?null:{parent:gt._currentValue,pool:y},i.memoizedState={baseLanes:o,cachePool:y},n!==null&&mc(i,null),Sf(),Vg(i),n!==null&&cr(n,i,d,!0),i.childLanes=p,null}function jc(n,i){return i=Oc({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function By(n,i,o){return ca(i,n.child,null,o),n=jc(i,i.pendingProps),n.flags|=2,wn(i),i.memoizedState=null,n}function RN(n,i,o){var d=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Be){if(d.mode==="hidden")return n=jc(i,d),i.lanes=536870912,qo(null,n);if(wf(i),(n=tt)?(n=Zx(n,Bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ui!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=wg(n),o.return=i,i.child=o,Ut=i,tt=null)):n=null,n===null)throw fi(i);return i.lanes=536870912,null}return jc(i,d)}var y=n.memoizedState;if(y!==null){var S=y.dehydrated;if(wf(i),p)if(i.flags&256)i.flags&=-257,i=By(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(xt||cr(n,i,o,!1),p=(o&n.childLanes)!==0,xt||p){if(d=Je,d!==null&&(S=he(d,o),S!==0&&S!==y.retryLane))throw y.retryLane=S,ta(n,S),gn(d,n,S),qf;Fc(),i=By(n,i,o)}else n=y.treeContext,tt=Vn(S.nextSibling),Ut=i,Be=!0,di=null,Bn=!1,n!==null&&Rg(i,n),i=jc(i,d),i.flags|=4096;return i}return n=Us(n.child,{mode:d.mode,children:d.children}),n.ref=i.ref,i.child=n,n.return=i,n}function _c(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Gf(n,i,o,d,p){return aa(i),o=Nf(n,i,o,d,void 0,p),d=Rf(),n!==null&&!xt?(Tf(n,i,p),Vs(n,i,p)):(Be&&d&&rf(i),i.flags|=1,zt(n,i,o,p),i.child)}function Fy(n,i,o,d,p,y){return aa(i),i.updateQueue=null,o=qg(i,d,o,p),Hg(n),d=Rf(),n!==null&&!xt?(Tf(n,i,y),Vs(n,i,y)):(Be&&d&&rf(i),i.flags|=1,zt(n,i,o,y),i.child)}function Vy(n,i,o,d,p){if(aa(i),i.stateNode===null){var y=ar,S=o.contextType;typeof S=="object"&&S!==null&&(y=Pt(S)),y=new o(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vf,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},yf(i),S=o.contextType,y.context=typeof S=="object"&&S!==null?Pt(S):ar,y.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ff(i,o,S,d),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Vf.enqueueReplaceState(y,y.state,null),Io(i,d,y,p),zo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){y=i.stateNode;var T=i.memoizedProps,L=da(o,T);y.props=L;var q=y.context,J=o.contextType;S=ar,typeof J=="object"&&J!==null&&(S=Pt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||q!==S)&&ky(i,y,d,S),mi=!1;var Y=i.memoizedState;y.state=Y,Io(i,d,y,p),zo(),q=i.memoizedState,T||Y!==q||mi?(typeof ne=="function"&&(Ff(i,o,ne,d),q=i.memoizedState),(L=mi||Ty(i,o,L,d,Y,q,S))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=q),y.props=d,y.state=q,y.context=S,d=L):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,xf(n,i),S=i.memoizedProps,J=da(o,S),y.props=J,ne=i.pendingProps,Y=y.context,q=o.contextType,L=ar,typeof q=="object"&&q!==null&&(L=Pt(q)),T=o.getDerivedStateFromProps,(q=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==ne||Y!==L)&&ky(i,y,d,L),mi=!1,Y=i.memoizedState,y.state=Y,Io(i,d,y,p),zo();var Q=i.memoizedState;S!==ne||Y!==Q||mi||n!==null&&n.dependencies!==null&&fc(n.dependencies)?(typeof T=="function"&&(Ff(i,o,T,d),Q=i.memoizedState),(J=mi||Ty(i,o,J,d,Y,Q,L)||n!==null&&n.dependencies!==null&&fc(n.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,Q,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,Q,L)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Q),y.props=d,y.state=Q,y.context=L,d=J):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),d=!1)}return y=d,_c(n,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&d?(i.child=ca(i,n.child,null,p),i.child=ca(i,null,o,p)):zt(n,i,o,p),i.memoizedState=y.state,n=i.child):n=Vs(n,i,p),n}function Hy(n,i,o,d){return sa(),i.flags|=256,zt(n,i,o,d),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(n){return{baseLanes:n,cachePool:Og()}}function Qf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Nn),n}function qy(n,i,o){var d=i.pendingProps,p=!1,y=(i.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(ht.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,n===null){if(Be){if(p?yi(i):xi(),(n=tt)?(n=Zx(n,Bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:ui!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},o=wg(n),o.return=i,i.child=o,Ut=i,tt=null)):n=null,n===null)throw fi(i);return jh(n)?i.lanes=32:i.lanes=536870912,null}var T=d.children;return d=d.fallback,p?(xi(),p=i.mode,T=Oc({mode:"hidden",children:T},p),d=na(d,p,o,null),T.return=i,d.return=i,T.sibling=d,i.child=T,d=i.child,d.memoizedState=Yf(o),d.childLanes=Qf(n,S,o),i.memoizedState=$f,qo(null,d)):(yi(i),Wf(i,T))}var L=n.memoizedState;if(L!==null&&(T=L.dehydrated,T!==null)){if(y)i.flags&256?(yi(i),i.flags&=-257,i=Xf(n,i,o)):i.memoizedState!==null?(xi(),i.child=n.child,i.flags|=128,i=null):(xi(),T=d.fallback,p=i.mode,d=Oc({mode:"visible",children:d.children},p),T=na(T,p,o,null),T.flags|=2,d.return=i,T.return=i,d.sibling=T,i.child=d,ca(i,n.child,null,o),d=i.child,d.memoizedState=Yf(o),d.childLanes=Qf(n,S,o),i.memoizedState=$f,i=qo(null,d));else if(yi(i),jh(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var q=S.dgst;S=q,d=Error(a(419)),d.stack="",d.digest=S,Oo({value:d,source:null,stack:null}),i=Xf(n,i,o)}else if(xt||cr(n,i,o,!1),S=(o&n.childLanes)!==0,xt||S){if(S=Je,S!==null&&(d=he(S,o),d!==0&&d!==L.retryLane))throw L.retryLane=d,ta(n,d),gn(S,n,d),qf;Dh(T)||Fc(),i=Xf(n,i,o)}else Dh(T)?(i.flags|=192,i.child=n.child,i=null):(n=L.treeContext,tt=Vn(T.nextSibling),Ut=i,Be=!0,di=null,Bn=!1,n!==null&&Rg(i,n),i=Wf(i,d.children),i.flags|=4096);return i}return p?(xi(),T=d.fallback,p=i.mode,L=n.child,q=L.sibling,d=Us(L,{mode:"hidden",children:d.children}),d.subtreeFlags=L.subtreeFlags&65011712,q!==null?T=Us(q,T):(T=na(T,p,o,null),T.flags|=2),T.return=i,d.return=i,d.sibling=T,i.child=d,qo(null,d),d=i.child,T=n.child.memoizedState,T===null?T=Yf(o):(p=T.cachePool,p!==null?(L=gt._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=Og(),T={baseLanes:T.baseLanes|o,cachePool:p}),d.memoizedState=T,d.childLanes=Qf(n,S,o),i.memoizedState=$f,qo(n.child,d)):(yi(i),o=n.child,n=o.sibling,o=Us(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,n!==null&&(S=i.deletions,S===null?(i.deletions=[n],i.flags|=16):S.push(n)),i.child=o,i.memoizedState=null,o)}function Wf(n,i){return i=Oc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Oc(n,i){return n=Sn(22,n,null,i),n.lanes=0,n}function Xf(n,i,o){return ca(i,n.child,null,o),n=Wf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Gy(n,i,o){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),df(n.return,i,o)}function Kf(n,i,o,d,p,y){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:y}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=o,S.tailMode=p,S.treeForkCount=y)}function $y(n,i,o){var d=i.pendingProps,p=d.revealOrder,y=d.tail;d=d.children;var S=ht.current,T=(S&2)!==0;if(T?(S=S&1|2,i.flags|=128):S&=1,te(ht,S),zt(n,i,d,o),d=Be?_o:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gy(n,o,i);else if(n.tag===19)Gy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)n=o.alternate,n!==null&&vc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Kf(i,!1,p,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&vc(n)===null){i.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Kf(i,!0,o,null,y,d);break;case"together":Kf(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Vs(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Si|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(cr(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=Us(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Us(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Zf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&fc(n)))}function TN(n,i,o){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),hi(i,gt,n.memoizedState.cache),sa();break;case 27:case 5:Ht(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:hi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(yi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?qy(n,i,o):(yi(i),n=Vs(n,i,o),n!==null?n.sibling:null);yi(i);break;case 19:var p=(n.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(cr(n,i,o,!1),d=(o&i.childLanes)!==0),p){if(d)return $y(n,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),te(ht,ht.current),d)break;return null;case 22:return i.lanes=0,zy(n,i,o,i.pendingProps);case 24:hi(i,gt,n.memoizedState.cache)}return Vs(n,i,o)}function Yy(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)xt=!0;else{if(!Zf(n,o)&&(i.flags&128)===0)return xt=!1,TN(n,i,o);xt=(n.flags&131072)!==0}else xt=!1,Be&&(i.flags&1048576)!==0&&Ng(i,_o,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(n=oa(i.elementType),i.type=n,typeof n=="function")nf(n)?(d=da(n,d),i.tag=1,i=Vy(null,i,n,d,o)):(i.tag=0,i=Gf(null,i,n,d,o));else{if(n!=null){var p=n.$$typeof;if(p===O){i.tag=11,i=Ly(null,i,n,d,o);break e}else if(p===M){i.tag=14,i=Uy(null,i,n,d,o);break e}}throw i=se(n)||n,Error(a(306,i,""))}}return i;case 0:return Gf(n,i,i.type,i.pendingProps,o);case 1:return d=i.type,p=da(d,i.pendingProps),Vy(n,i,d,p,o);case 3:e:{if(Oe(i,i.stateNode.containerInfo),n===null)throw Error(a(387));d=i.pendingProps;var y=i.memoizedState;p=y.element,xf(n,i),Io(i,d,null,o);var S=i.memoizedState;if(d=S.cache,hi(i,gt,d),d!==y.cache&&ff(i,[gt],o,!0),zo(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Hy(n,i,d,o);break e}else if(d!==p){p=Pn(Error(a(424)),i),Oo(p),i=Hy(n,i,d,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=Vn(n.firstChild),Ut=i,Be=!0,di=null,Bn=!0,o=zg(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(sa(),d===p){i=Vs(n,i,o);break e}zt(n,i,d,o)}i=i.child}return i;case 26:return _c(n,i),n===null?(o=ib(i.type,null,i.pendingProps,null))?i.memoizedState=o:Be||(o=i.type,n=i.pendingProps,d=Qc(Ne.current).createElement(o),d[Lt]=i,d[un]=n,It(d,o,n),kt(d),i.stateNode=d):i.memoizedState=ib(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ht(i),n===null&&Be&&(d=i.stateNode=tb(i.type,i.pendingProps,Ne.current),Ut=i,Bn=!0,p=tt,Ri(i.type)?(_h=p,tt=Vn(d.firstChild)):tt=p),zt(n,i,i.pendingProps.children,o),_c(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Be&&((p=d=tt)&&(d=sR(d,i.type,i.pendingProps,Bn),d!==null?(i.stateNode=d,Ut=i,tt=Vn(d.firstChild),Bn=!1,p=!0):p=!1),p||fi(i)),Ht(i),p=i.type,y=i.pendingProps,S=n!==null?n.memoizedProps:null,d=y.children,Rh(p,y)?d=null:S!==null&&Rh(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=Nf(n,i,xN,null,null,o),al._currentValue=p),_c(n,i),zt(n,i,d,o),i.child;case 6:return n===null&&Be&&((n=o=tt)&&(o=iR(o,i.pendingProps,Bn),o!==null?(i.stateNode=o,Ut=i,tt=null,n=!0):n=!1),n||fi(i)),null;case 13:return qy(n,i,o);case 4:return Oe(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=ca(i,null,d,o):zt(n,i,d,o),i.child;case 11:return Ly(n,i,i.type,i.pendingProps,o);case 7:return zt(n,i,i.pendingProps,o),i.child;case 8:return zt(n,i,i.pendingProps.children,o),i.child;case 12:return zt(n,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,hi(i,i.type,d.value),zt(n,i,d.children,o),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,aa(i),p=Pt(p),d=d(p),i.flags|=1,zt(n,i,d,o),i.child;case 14:return Uy(n,i,i.type,i.pendingProps,o);case 15:return Py(n,i,i.type,i.pendingProps,o);case 19:return $y(n,i,o);case 31:return RN(n,i,o);case 22:return zy(n,i,o,i.pendingProps);case 24:return aa(i),d=Pt(gt),n===null?(p=pf(),p===null&&(p=Je,y=hf(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),i.memoizedState={parent:d,cache:p},yf(i),hi(i,gt,p)):((n.lanes&o)!==0&&(xf(n,i),Io(i,null,null,o),zo()),p=n.memoizedState,y=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),hi(i,gt,d)):(d=y.cache,hi(i,gt,d),d!==p.cache&&ff(i,[gt],o,!0))),zt(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Hs(n){n.flags|=4}function Jf(n,i,o,d,p){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(vx())n.flags|=8192;else throw la=gc,gf}else n.flags&=-16777217}function Qy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cb(i))if(vx())n.flags|=8192;else throw la=gc,gf}function Ac(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Wl():536870912,n.lanes|=i,Sr|=i)}function Go(n,i){if(!Be)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function nt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,d=0;if(i)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=o,i}function kN(n,i,o){var d=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return o=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Is(gt),Ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(lr(i)?Hs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cf())),nt(i),null;case 26:var p=i.type,y=i.memoizedState;return n===null?(Hs(i),y!==null?(nt(i),Qy(i,y)):(nt(i),Jf(i,p,null,d,o))):y?y!==n.memoizedState?(Hs(i),nt(i),Qy(i,y)):(nt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==d&&Hs(i),nt(i),Jf(i,p,n,d,o)),null;case 27:if(cn(i),o=Ne.current,p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Hs(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return nt(i),null}n=ae.current,lr(i)?Tg(i):(n=tb(p,d,o),i.stateNode=n,Hs(i))}return nt(i),null;case 5:if(cn(i),p=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==d&&Hs(i);else{if(!d){if(i.stateNode===null)throw Error(a(166));return nt(i),null}if(y=ae.current,lr(i))Tg(i);else{var S=Qc(Ne.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?S.createElement(p,{is:d.is}):S.createElement(p)}}y[Lt]=i,y[un]=d;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=y;e:switch(It(y,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Hs(i)}}return nt(i),Jf(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==d&&Hs(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ne.current,lr(i)){if(n=i.stateNode,o=i.memoizedProps,d=null,p=Ut,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}n[Lt]=i,n=!!(n.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||qx(n.nodeValue,o)),n||fi(i,!0)}else n=Qc(n).createTextNode(d),n[Lt]=i,i.stateNode=n}return nt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(d=lr(i),o!==null){if(n===null){if(!d)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Lt]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),n=!1}else o=cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return nt(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=lr(i),d!==null&&d.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Lt]=i}else sa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),p=!1}else p=cf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=d!==null,n=n!==null&&n.memoizedState!==null,o&&(d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Ac(i,i.updateQueue),nt(i),null);case 4:return Ae(),n===null&&Sh(i.stateNode.containerInfo),nt(i),null;case 10:return Is(i.type),nt(i),null;case 19:if($(ht),d=i.memoizedState,d===null)return nt(i),null;if(p=(i.flags&128)!==0,y=d.rendering,y===null)if(p)Go(d,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=vc(n),y!==null){for(i.flags|=128,Go(d,!1),n=y.updateQueue,i.updateQueue=n,Ac(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Cg(o,n),o=o.sibling;return te(ht,ht.current&1|2),Be&&Ps(i,d.treeForkCount),i.child}n=n.sibling}d.tail!==null&&Ot()>zc&&(i.flags|=128,p=!0,Go(d,!1),i.lanes=4194304)}else{if(!p)if(n=vc(y),n!==null){if(i.flags|=128,p=!0,n=n.updateQueue,i.updateQueue=n,Ac(i,n),Go(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Be)return nt(i),null}else 2*Ot()-d.renderingStartTime>zc&&o!==536870912&&(i.flags|=128,p=!0,Go(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(n=d.last,n!==null?n.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ot(),n.sibling=null,o=ht.current,te(ht,p?o&1|2:o&1),Be&&Ps(i,d.treeForkCount),n):(nt(i),null);case 22:case 23:return wn(i),Cf(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),o=i.updateQueue,o!==null&&Ac(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),n!==null&&$(ra),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Is(gt),nt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function DN(n,i){switch(of(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Is(gt),Ae(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return cn(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(a(340));sa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(wn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));sa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return $(ht),null;case 4:return Ae(),null;case 10:return Is(i.type),null;case 22:case 23:return wn(i),Cf(),n!==null&&$(ra),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Is(gt),null;case 25:return null;default:return null}}function Wy(n,i){switch(of(i),i.tag){case 3:Is(gt),Ae();break;case 26:case 27:case 5:cn(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:$(ht);break;case 10:Is(i.type);break;case 22:case 23:wn(i),Cf(),n!==null&&$(ra);break;case 24:Is(gt)}}function $o(n,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&n)===n){d=void 0;var y=o.create,S=o.inst;d=y(),S.destroy=d}o=o.next}while(o!==p)}}catch(T){$e(i,i.return,T)}}function bi(n,i,o){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&n)===n){var S=d.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,p=i;var L=o,q=T;try{q()}catch(J){$e(p,L,J)}}}d=d.next}while(d!==y)}}catch(J){$e(i,i.return,J)}}function Xy(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Bg(i,o)}catch(d){$e(n,n.return,d)}}}function Ky(n,i,o){o.props=da(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(d){$e(n,i,d)}}function Yo(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof o=="function"?n.refCleanup=o(d):o.current=d}}catch(p){$e(n,i,p)}}function xs(n,i){var o=n.ref,d=n.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){$e(n,i,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){$e(n,i,p)}else o.current=null}function Zy(n){var i=n.type,o=n.memoizedProps,d=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){$e(n,n.return,p)}}function eh(n,i,o){try{var d=n.stateNode;KN(d,n.type,o,i),d[un]=i}catch(p){$e(n,n.return,p)}}function Jy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ri(n.type)||n.tag===4}function th(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Jy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ri(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nh(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ms));else if(d!==4&&(d===27&&Ri(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(nh(n,i,o),n=n.sibling;n!==null;)nh(n,i,o),n=n.sibling}function Mc(n,i,o){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(d!==4&&(d===27&&Ri(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Mc(n,i,o),n=n.sibling;n!==null;)Mc(n,i,o),n=n.sibling}function ex(n){var i=n.stateNode,o=n.memoizedProps;try{for(var d=n.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);It(i,d,o),i[Lt]=n,i[un]=o}catch(y){$e(n,n.return,y)}}var qs=!1,bt=!1,sh=!1,tx=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function jN(n,i){if(n=n.containerInfo,Eh=tu,n=hg(n),Wd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,T=-1,L=-1,q=0,J=0,ne=n,Y=null;t:for(;;){for(var Q;ne!==o||p!==0&&ne.nodeType!==3||(T=S+p),ne!==y||d!==0&&ne.nodeType!==3||(L=S+d),ne.nodeType===3&&(S+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)Y=ne,ne=Q;for(;;){if(ne===n)break t;if(Y===o&&++q===p&&(T=S),Y===y&&++J===d&&(L=S),(Q=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=Q}o=T===-1||L===-1?null:{start:T,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nh={focusedElem:n,selectionRange:o},tu=!1,Dt=i;Dt!==null;)if(i=Dt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Dt=n;else for(;Dt!==null;){switch(i=Dt,y=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,p=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var ye=da(o.type,p);n=d.getSnapshotBeforeUpdate(ye,y),d.__reactInternalSnapshotBeforeUpdate=n}catch(Re){$e(o,o.return,Re)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)kh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":kh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,Dt=n;break}Dt=i.return}}function nx(n,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:$s(n,o),d&4&&$o(5,o);break;case 1:if($s(n,o),d&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(S){$e(o,o.return,S)}else{var p=da(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(p,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){$e(o,o.return,S)}}d&64&&Xy(o),d&512&&Yo(o,o.return);break;case 3:if($s(n,o),d&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Bg(n,i)}catch(S){$e(o,o.return,S)}}break;case 27:i===null&&d&4&&ex(o);case 26:case 5:$s(n,o),i===null&&d&4&&Zy(o),d&512&&Yo(o,o.return);break;case 12:$s(n,o);break;case 31:$s(n,o),d&4&&ax(n,o);break;case 13:$s(n,o),d&4&&rx(n,o),d&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=IN.bind(null,o),aR(n,o))));break;case 22:if(d=o.memoizedState!==null||qs,!d){i=i!==null&&i.memoizedState!==null||bt,p=qs;var y=bt;qs=d,(bt=i)&&!y?Ys(n,o,(o.subtreeFlags&8772)!==0):$s(n,o),qs=p,bt=y}break;case 30:break;default:$s(n,o)}}function sx(n){var i=n.alternate;i!==null&&(n.alternate=null,sx(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Od(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,fn=!1;function Gs(n,i,o){for(o=o.child;o!==null;)ix(n,i,o),o=o.sibling}function ix(n,i,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(_s,o)}catch{}switch(o.tag){case 26:bt||xs(o,i),Gs(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||xs(o,i);var d=st,p=fn;Ri(o.type)&&(st=o.stateNode,fn=!1),Gs(n,i,o),nl(o.stateNode),st=d,fn=p;break;case 5:bt||xs(o,i);case 6:if(d=st,p=fn,st=null,Gs(n,i,o),st=d,fn=p,st!==null)if(fn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(y){$e(o,i,y)}else try{st.removeChild(o.stateNode)}catch(y){$e(o,i,y)}break;case 18:st!==null&&(fn?(n=st,Xx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Dr(n)):Xx(st,o.stateNode));break;case 4:d=st,p=fn,st=o.stateNode.containerInfo,fn=!0,Gs(n,i,o),st=d,fn=p;break;case 0:case 11:case 14:case 15:bi(2,o,i),bt||bi(4,o,i),Gs(n,i,o);break;case 1:bt||(xs(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Ky(o,i,d)),Gs(n,i,o);break;case 21:Gs(n,i,o);break;case 22:bt=(d=bt)||o.memoizedState!==null,Gs(n,i,o),bt=d;break;default:Gs(n,i,o)}}function ax(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Dr(n)}catch(o){$e(i,i.return,o)}}}function rx(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Dr(n)}catch(o){$e(i,i.return,o)}}function _N(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new tx),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new tx),i;default:throw Error(a(435,n.tag))}}function Lc(n,i){var o=_N(n);i.forEach(function(d){if(!o.has(d)){o.add(d);var p=BN.bind(null,n,d);d.then(p,p)}})}function hn(n,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],y=n,S=i,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Ri(T.type)){st=T.stateNode,fn=!1;break e}break;case 5:st=T.stateNode,fn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(st===null)throw Error(a(160));ix(y,S,p),st=null,fn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ox(i,n),i=i.sibling}var ts=null;function ox(n,i){var o=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hn(i,n),mn(n),d&4&&(bi(3,n,n.return),$o(3,n),bi(5,n,n.return));break;case 1:hn(i,n),mn(n),d&512&&(bt||o===null||xs(o,o.return)),d&64&&qs&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=ts;if(hn(i,n),mn(n),d&512&&(bt||o===null||xs(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=n.memoizedState,o===null)if(d===null)if(n.stateNode===null){e:{d=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[vo]||y[Lt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),It(y,d,o),y[Lt]=n,kt(y),d=y;break e;case"link":var S=ob("link","href",p).get(d+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(y=S[T],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}y=p.createElement(d),It(y,d,o),p.head.appendChild(y);break;case"meta":if(S=ob("meta","content",p).get(d+(o.content||""))){for(T=0;T<S.length;T++)if(y=S[T],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}y=p.createElement(d),It(y,d,o),p.head.appendChild(y);break;default:throw Error(a(468,d))}y[Lt]=n,kt(y),d=y}n.stateNode=d}else lb(p,n.type,n.stateNode);else n.stateNode=rb(p,d,n.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?lb(p,n.type,n.stateNode):rb(p,d,n.memoizedProps)):d===null&&n.stateNode!==null&&eh(n,n.memoizedProps,o.memoizedProps)}break;case 27:hn(i,n),mn(n),d&512&&(bt||o===null||xs(o,o.return)),o!==null&&d&4&&eh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(hn(i,n),mn(n),d&512&&(bt||o===null||xs(o,o.return)),n.flags&32){p=n.stateNode;try{Za(p,"")}catch(ye){$e(n,n.return,ye)}}d&4&&n.stateNode!=null&&(p=n.memoizedProps,eh(n,p,o!==null?o.memoizedProps:p)),d&1024&&(sh=!0);break;case 6:if(hn(i,n),mn(n),d&4){if(n.stateNode===null)throw Error(a(162));d=n.memoizedProps,o=n.stateNode;try{o.nodeValue=d}catch(ye){$e(n,n.return,ye)}}break;case 3:if(Kc=null,p=ts,ts=Wc(i.containerInfo),hn(i,n),ts=p,mn(n),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Dr(i.containerInfo)}catch(ye){$e(n,n.return,ye)}sh&&(sh=!1,lx(n));break;case 4:d=ts,ts=Wc(n.stateNode.containerInfo),hn(i,n),mn(n),ts=d;break;case 12:hn(i,n),mn(n);break;case 31:hn(i,n),mn(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Lc(n,d)));break;case 13:hn(i,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pc=Ot()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Lc(n,d)));break;case 22:p=n.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,q=qs,J=bt;if(qs=q||p,bt=J||L,hn(i,n),bt=J,qs=q,mn(n),d&8192)e:for(i=n.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||L||qs||bt||fa(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){L=o=i;try{if(y=L.stateNode,p)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=L.stateNode;var ne=L.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){$e(L,L.return,ye)}}}else if(i.tag===6){if(o===null){L=i;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(ye){$e(L,L.return,ye)}}}else if(i.tag===18){if(o===null){L=i;try{var Q=L.stateNode;p?Kx(Q,!0):Kx(L.stateNode,!1)}catch(ye){$e(L,L.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=n.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Lc(n,o))));break;case 19:hn(i,n),mn(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Lc(n,d)));break;case 30:break;case 21:break;default:hn(i,n),mn(n)}}function mn(n){var i=n.flags;if(i&2){try{for(var o,d=n.return;d!==null;){if(Jy(d)){o=d;break}d=d.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,y=th(n);Mc(n,y,p);break;case 5:var S=o.stateNode;o.flags&32&&(Za(S,""),o.flags&=-33);var T=th(n);Mc(n,T,S);break;case 3:case 4:var L=o.stateNode.containerInfo,q=th(n);nh(n,q,L);break;default:throw Error(a(161))}}catch(J){$e(n,n.return,J)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function lx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;lx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function $s(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nx(n,i.alternate,i),i=i.sibling}function fa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:bi(4,i,i.return),fa(i);break;case 1:xs(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Ky(i,i.return,o),fa(i);break;case 27:nl(i.stateNode);case 26:case 5:xs(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}n=n.sibling}}function Ys(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=n,y=i,S=y.flags;switch(y.tag){case 0:case 11:case 15:Ys(p,y,o),$o(4,y);break;case 1:if(Ys(p,y,o),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(q){$e(d,d.return,q)}if(d=y,p=d.updateQueue,p!==null){var T=d.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)Ig(L[p],T)}catch(q){$e(d,d.return,q)}}o&&S&64&&Xy(y),Yo(y,y.return);break;case 27:ex(y);case 26:case 5:Ys(p,y,o),o&&d===null&&S&4&&Zy(y),Yo(y,y.return);break;case 12:Ys(p,y,o);break;case 31:Ys(p,y,o),o&&S&4&&ax(p,y);break;case 13:Ys(p,y,o),o&&S&4&&rx(p,y);break;case 22:y.memoizedState===null&&Ys(p,y,o),Yo(y,y.return);break;case 30:break;default:Ys(p,y,o)}i=i.sibling}}function ih(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ao(o))}function ah(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ao(n))}function ns(n,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cx(n,i,o,d),i=i.sibling}function cx(n,i,o,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:ns(n,i,o,d),p&2048&&$o(9,i);break;case 1:ns(n,i,o,d);break;case 3:ns(n,i,o,d),p&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ao(n)));break;case 12:if(p&2048){ns(n,i,o,d),n=i.stateNode;try{var y=i.memoizedProps,S=y.id,T=y.onPostCommit;typeof T=="function"&&T(S,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){$e(i,i.return,L)}}else ns(n,i,o,d);break;case 31:ns(n,i,o,d);break;case 13:ns(n,i,o,d);break;case 23:break;case 22:y=i.stateNode,S=i.alternate,i.memoizedState!==null?y._visibility&2?ns(n,i,o,d):Qo(n,i):y._visibility&2?ns(n,i,o,d):(y._visibility|=2,xr(n,i,o,d,(i.subtreeFlags&10256)!==0||!1)),p&2048&&ih(S,i);break;case 24:ns(n,i,o,d),p&2048&&ah(i.alternate,i);break;default:ns(n,i,o,d)}}function xr(n,i,o,d,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=n,S=i,T=o,L=d,q=S.flags;switch(S.tag){case 0:case 11:case 15:xr(y,S,T,L,p),$o(8,S);break;case 23:break;case 22:var J=S.stateNode;S.memoizedState!==null?J._visibility&2?xr(y,S,T,L,p):Qo(y,S):(J._visibility|=2,xr(y,S,T,L,p)),p&&q&2048&&ih(S.alternate,S);break;case 24:xr(y,S,T,L,p),p&&q&2048&&ah(S.alternate,S);break;default:xr(y,S,T,L,p)}i=i.sibling}}function Qo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,d=i,p=d.flags;switch(d.tag){case 22:Qo(o,d),p&2048&&ih(d.alternate,d);break;case 24:Qo(o,d),p&2048&&ah(d.alternate,d);break;default:Qo(o,d)}i=i.sibling}}var Wo=8192;function br(n,i,o){if(n.subtreeFlags&Wo)for(n=n.child;n!==null;)ux(n,i,o),n=n.sibling}function ux(n,i,o){switch(n.tag){case 26:br(n,i,o),n.flags&Wo&&n.memoizedState!==null&&yR(o,ts,n.memoizedState,n.memoizedProps);break;case 5:br(n,i,o);break;case 3:case 4:var d=ts;ts=Wc(n.stateNode.containerInfo),br(n,i,o),ts=d;break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=Wo,Wo=16777216,br(n,i,o),Wo=d):br(n,i,o));break;default:br(n,i,o)}}function dx(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Xo(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Dt=d,hx(d,n)}dx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fx(n),n=n.sibling}function fx(n){switch(n.tag){case 0:case 11:case 15:Xo(n),n.flags&2048&&bi(9,n,n.return);break;case 3:Xo(n);break;case 12:Xo(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Uc(n)):Xo(n);break;default:Xo(n)}}function Uc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Dt=d,hx(d,n)}dx(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:bi(8,i,i.return),Uc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Uc(i));break;default:Uc(i)}n=n.sibling}}function hx(n,i){for(;Dt!==null;){var o=Dt;switch(o.tag){case 0:case 11:case 15:bi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ao(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Dt=d;else e:for(o=n;Dt!==null;){d=Dt;var p=d.sibling,y=d.return;if(sx(d),d===o){Dt=null;break e}if(p!==null){p.return=y,Dt=p;break e}Dt=y}}}var ON={getCacheForType:function(n){var i=Pt(gt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Pt(gt).controller.signal}},AN=typeof WeakMap=="function"?WeakMap:Map,qe=0,Je=null,Le=null,Pe=0,Ge=0,En=null,vi=!1,vr=!1,rh=!1,Qs=0,ut=0,Si=0,ha=0,oh=0,Nn=0,Sr=0,Ko=null,pn=null,lh=!1,Pc=0,mx=0,zc=1/0,Ic=null,Ci=null,Et=0,wi=null,Cr=null,Ws=0,ch=0,uh=null,px=null,Zo=0,dh=null;function Rn(){return(qe&2)!==0&&Pe!==0?Pe&-Pe:z.T!==null?yh():Mt()}function gx(){if(Nn===0)if((Pe&536870912)===0||Be){var n=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),Nn=n}else Nn=536870912;return n=Cn.current,n!==null&&(n.flags|=32),Nn}function gn(n,i,o){(n===Je&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(wr(n,0),Ei(n,Pe,Nn,!1)),Xi(n,o),((qe&2)===0||n!==Je)&&(n===Je&&((qe&2)===0&&(ha|=o),ut===4&&Ei(n,Pe,Nn,!1)),bs(n))}function yx(n,i,o){if((qe&6)!==0)throw Error(a(327));var d=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Wi(n,i),p=d?UN(n,i):hh(n,i,!0),y=d;do{if(p===0){vr&&!d&&Ei(n,i,0,!1);break}else{if(o=n.current.alternate,y&&!MN(o)){p=hh(n,i,!1),y=!1;continue}if(p===2){if(y=i,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var T=n;p=Ko;var L=T.current.memoizedState.isDehydrated;if(L&&(wr(T,S).flags|=256),S=hh(T,S,!1),S!==2){if(rh&&!L){T.errorRecoveryDisabledLanes|=y,ha|=y,p=4;break e}y=pn,pn=p,y!==null&&(pn===null?pn=y:pn.push.apply(pn,y))}p=S}if(y=!1,p!==2)continue}}if(p===1){wr(n,0),Ei(n,i,0,!0);break}e:{switch(d=n,y=p,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ei(d,i,Nn,!vi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=Pc+300-Ot(),10<p)){if(Ei(d,i,Nn,!vi),Ga(d,0,!0)!==0)break e;Ws=i,d.timeoutHandle=Qx(xx.bind(null,d,o,pn,Ic,lh,i,Nn,ha,Sr,vi,y,"Throttled",-0,0),p);break e}xx(d,o,pn,Ic,lh,i,Nn,ha,Sr,vi,y,null,-0,0)}}break}while(!0);bs(n)}function xx(n,i,o,d,p,y,S,T,L,q,J,ne,Y,Q){if(n.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ms},ux(i,y,ne);var ye=(y&62914560)===y?Pc-Ot():(y&4194048)===y?mx-Ot():0;if(ye=xR(ne,ye),ye!==null){Ws=y,n.cancelPendingCommit=ye(Rx.bind(null,n,i,y,o,d,p,S,T,L,J,ne,null,Y,Q)),Ei(n,y,S,!q);return}}Rx(n,i,y,o,d,p,S,T,L)}function MN(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],y=p.getSnapshot;p=p.value;try{if(!vn(y(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(n,i,o,d){i&=~oh,i&=~ha,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var p=i;0<p;){var y=31-At(p),S=1<<y;d[y]=-1,p&=~S}o!==0&&re(n,o,i)}function Bc(){return(qe&6)===0?(Jo(0),!1):!0}function fh(){if(Le!==null){if(Ge===0)var n=Le.return;else n=Le,zs=ia=null,kf(n),hr=null,Lo=0,n=Le;for(;n!==null;)Wy(n.alternate,n),n=n.return;Le=null}}function wr(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,eR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ws=0,fh(),Je=n,Le=o=Us(n.current,null),Pe=i,Ge=0,En=null,vi=!1,vr=Wi(n,i),rh=!1,Sr=Nn=oh=ha=Si=ut=0,pn=Ko=null,lh=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var p=31-At(d),y=1<<p;i|=n[p],d&=~y}return Qs=i,oc(),o}function bx(n,i){De=null,z.H=Ho,i===fr||i===pc?(i=Lg(),Ge=3):i===gf?(i=Lg(),Ge=4):Ge=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Le===null&&(ut=1,Dc(n,Pn(i,n.current)))}function vx(){var n=Cn.current;return n===null?!0:(Pe&4194048)===Pe?Fn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?n===Fn:!1}function Sx(){var n=z.H;return z.H=Ho,n===null?Ho:n}function Cx(){var n=z.A;return z.A=ON,n}function Fc(){ut=4,vi||(Pe&4194048)!==Pe&&Cn.current!==null||(vr=!0),(Si&134217727)===0&&(ha&134217727)===0||Je===null||Ei(Je,Pe,Nn,!1)}function hh(n,i,o){var d=qe;qe|=2;var p=Sx(),y=Cx();(Je!==n||Pe!==i)&&(Ic=null,wr(n,i)),i=!1;var S=ut;e:do try{if(Ge!==0&&Le!==null){var T=Le,L=En;switch(Ge){case 8:fh(),S=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=Ge;if(Ge=0,En=null,Er(n,T,L,q),o&&vr){S=0;break e}break;default:q=Ge,Ge=0,En=null,Er(n,T,L,q)}}LN(),S=ut;break}catch(J){bx(n,J)}while(!0);return i&&n.shellSuspendCounter++,zs=ia=null,qe=d,z.H=p,z.A=y,Le===null&&(Je=null,Pe=0,oc()),S}function LN(){for(;Le!==null;)wx(Le)}function UN(n,i){var o=qe;qe|=2;var d=Sx(),p=Cx();Je!==n||Pe!==i?(Ic=null,zc=Ot()+500,wr(n,i)):vr=Wi(n,i);e:do try{if(Ge!==0&&Le!==null){i=Le;var y=En;t:switch(Ge){case 1:Ge=0,En=null,Er(n,i,y,1);break;case 2:case 9:if(Ag(y)){Ge=0,En=null,Ex(i);break}i=function(){Ge!==2&&Ge!==9||Je!==n||(Ge=7),bs(n)},y.then(i,i);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ag(y)?(Ge=0,En=null,Ex(i)):(Ge=0,En=null,Er(n,i,y,7));break;case 5:var S=null;switch(Le.tag){case 26:S=Le.memoizedState;case 5:case 27:var T=Le;if(S?cb(S):T.stateNode.complete){Ge=0,En=null;var L=T.sibling;if(L!==null)Le=L;else{var q=T.return;q!==null?(Le=q,Vc(q)):Le=null}break t}}Ge=0,En=null,Er(n,i,y,5);break;case 6:Ge=0,En=null,Er(n,i,y,6);break;case 8:fh(),ut=6;break e;default:throw Error(a(462))}}PN();break}catch(J){bx(n,J)}while(!0);return zs=ia=null,z.H=d,z.A=p,qe=o,Le!==null?0:(Je=null,Pe=0,oc(),ut)}function PN(){for(;Le!==null&&!Qi();)wx(Le)}function wx(n){var i=Yy(n.alternate,n,Qs);n.memoizedProps=n.pendingProps,i===null?Vc(n):Le=i}function Ex(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Fy(o,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Fy(o,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:kf(i);default:Wy(o,i),i=Le=Cg(i,Qs),i=Yy(o,i,Qs)}n.memoizedProps=n.pendingProps,i===null?Vc(n):Le=i}function Er(n,i,o,d){zs=ia=null,kf(i),hr=null,Lo=0;var p=i.return;try{if(NN(n,p,i,o,Pe)){ut=1,Dc(n,Pn(o,n.current)),Le=null;return}}catch(y){if(p!==null)throw Le=p,y;ut=1,Dc(n,Pn(o,n.current)),Le=null;return}i.flags&32768?(Be||d===1?n=!0:vr||(Pe&536870912)!==0?n=!1:(vi=n=!0,(d===2||d===9||d===3||d===6)&&(d=Cn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Nx(i,n)):Vc(i)}function Vc(n){var i=n;do{if((i.flags&32768)!==0){Nx(i,vi);return}n=i.return;var o=kN(i.alternate,i,Qs);if(o!==null){Le=o;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);ut===0&&(ut=5)}function Nx(n,i){do{var o=DN(n.alternate,n);if(o!==null){o.flags&=32767,Le=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=o}while(n!==null);ut=6,Le=null}function Rx(n,i,o,d,p,y,S,T,L){n.cancelPendingCommit=null;do Hc();while(Et!==0);if((qe&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=ef,K(n,o,y,S,T,L),n===Je&&(Le=Je=null,Pe=0),Cr=i,wi=n,Ws=o,ch=y,uh=p,px=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FN(Fa,function(){return _x(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=z.T,z.T=null,p=G.p,G.p=2,S=qe,qe|=4;try{jN(n,i,o)}finally{qe=S,G.p=p,z.T=d}}Et=1,Tx(),kx(),Dx()}}function Tx(){if(Et===1){Et=0;var n=wi,i=Cr,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var d=G.p;G.p=2;var p=qe;qe|=4;try{ox(i,n);var y=Nh,S=hg(n.containerInfo),T=y.focusedElem,L=y.selectionRange;if(S!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(L!==null&&Wd(T)){var q=L.start,J=L.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),ye=T.textContent.length,Re=Math.min(L.start,ye),Xe=L.end===void 0?Re:Math.min(L.end,ye);!Q.extend&&Re>Xe&&(S=Xe,Xe=Re,Re=S);var B=dg(T,Re),P=dg(T,Xe);if(B&&P&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var H=ne.createRange();H.setStart(B.node,B.offset),Q.removeAllRanges(),Re>Xe?(Q.addRange(H),Q.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Q.addRange(H))}}}}for(ne=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}tu=!!Eh,Nh=Eh=null}finally{qe=p,G.p=d,z.T=o}}n.current=i,Et=2}}function kx(){if(Et===2){Et=0;var n=wi,i=Cr,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var d=G.p;G.p=2;var p=qe;qe|=4;try{nx(n,i.alternate,i)}finally{qe=p,G.p=d,z.T=o}}Et=3}}function Dx(){if(Et===4||Et===3){Et=0,wd();var n=wi,i=Cr,o=Ws,d=px;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Et=5:(Et=0,Cr=wi=null,jx(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Ci=null),_e(o),i=i.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(_s,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=z.T,p=G.p,G.p=2,z.T=null;try{for(var y=n.onRecoverableError,S=0;S<d.length;S++){var T=d[S];y(T.value,{componentStack:T.stack})}}finally{z.T=i,G.p=p}}(Ws&3)!==0&&Hc(),bs(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===dh?Zo++:(Zo=0,dh=n):Zo=0,Jo(0)}}function jx(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ao(i)))}function Hc(){return Tx(),kx(),Dx(),_x()}function _x(){if(Et!==5)return!1;var n=wi,i=ch;ch=0;var o=_e(Ws),d=z.T,p=G.p;try{G.p=32>o?32:o,z.T=null,o=uh,uh=null;var y=wi,S=Ws;if(Et=0,Cr=wi=null,Ws=0,(qe&6)!==0)throw Error(a(331));var T=qe;if(qe|=4,fx(y.current),cx(y,y.current,S,o),qe=T,Jo(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(_s,y)}catch{}return!0}finally{G.p=p,z.T=d,jx(n,i)}}function Ox(n,i,o){i=Pn(o,i),i=Hf(n.stateNode,i,2),n=gi(n,i,2),n!==null&&(Xi(n,2),bs(n))}function $e(n,i,o){if(n.tag===3)Ox(n,n,o);else for(;i!==null;){if(i.tag===3){Ox(i,n,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))){n=Pn(o,n),o=Ay(2),d=gi(i,o,2),d!==null&&(My(o,d,i,n),Xi(d,2),bs(d));break}}i=i.return}}function mh(n,i,o){var d=n.pingCache;if(d===null){d=n.pingCache=new AN;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(o)||(rh=!0,p.add(o),n=zN.bind(null,n,i,o),i.then(n,n))}function zN(n,i,o){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Je===n&&(Pe&o)===o&&(ut===4||ut===3&&(Pe&62914560)===Pe&&300>Ot()-Pc?(qe&2)===0&&wr(n,0):oh|=o,Sr===Pe&&(Sr=0)),bs(n)}function Ax(n,i){i===0&&(i=Wl()),n=ta(n,i),n!==null&&(Xi(n,i),bs(n))}function IN(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Ax(n,o)}function BN(n,i){var o=0;switch(n.tag){case 31:case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(i),Ax(n,o)}function FN(n,i){return go(n,i)}var qc=null,Nr=null,ph=!1,Gc=!1,gh=!1,Ni=0;function bs(n){n!==Nr&&n.next===null&&(Nr===null?qc=Nr=n:Nr=Nr.next=n),Gc=!0,ph||(ph=!0,HN())}function Jo(n,i){if(!gh&&Gc){gh=!0;do for(var o=!1,d=qc;d!==null;){if(n!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var S=d.suspendedLanes,T=d.pingedLanes;y=(1<<31-At(42|n)+1)-1,y&=p&~(S&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Px(d,y))}else y=Pe,y=Ga(d,d===Je?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Wi(d,y)||(o=!0,Px(d,y));d=d.next}while(o);gh=!1}}function VN(){Mx()}function Mx(){Gc=ph=!1;var n=0;Ni!==0&&JN()&&(n=Ni);for(var i=Ot(),o=null,d=qc;d!==null;){var p=d.next,y=Lx(d,i);y===0?(d.next=null,o===null?qc=p:o.next=p,p===null&&(Nr=o)):(o=d,(n!==0||(y&3)!==0)&&(Gc=!0)),d=p}Et!==0&&Et!==5||Jo(n),Ni!==0&&(Ni=0)}function Lx(n,i){for(var o=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-At(y),T=1<<S,L=p[S];L===-1?((T&o)===0||(T&d)!==0)&&(p[S]=jd(T,i)):L<=i&&(n.expiredLanes|=T),y&=~T}if(i=Je,o=Pe,o=Ga(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,o===0||n===i&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&yo(d),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Wi(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(d!==null&&yo(d),_e(o)){case 2:case 8:o=Yl;break;case 32:o=Fa;break;case 268435456:o=Ql;break;default:o=Fa}return d=Ux.bind(null,n),o=go(o,d),n.callbackPriority=i,n.callbackNode=o,i}return d!==null&&d!==null&&yo(d),n.callbackPriority=2,n.callbackNode=null,2}function Ux(n,i){if(Et!==0&&Et!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Hc()&&n.callbackNode!==o)return null;var d=Pe;return d=Ga(n,n===Je?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(yx(n,d,i),Lx(n,Ot()),n.callbackNode!=null&&n.callbackNode===o?Ux.bind(null,n):null)}function Px(n,i){if(Hc())return null;yx(n,i,!0)}function HN(){tR(function(){(qe&6)!==0?go($l,VN):Mx()})}function yh(){if(Ni===0){var n=ur;n===0&&(n=Va,Va<<=1,(Va&261888)===0&&(Va=256)),Ni=n}return Ni}function zx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Jl(""+n)}function Ix(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function qN(n,i,o,d,p){if(i==="submit"&&o&&o.stateNode===p){var y=zx((p[un]||null).action),S=d.submitter;S&&(i=(i=S[un]||null)?zx(i.formAction):S.getAttribute("formAction"),i!==null&&(y=i,S=null));var T=new sc("action","action",null,d,p);n.push({event:T,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ni!==0){var L=S?Ix(p,S):new FormData(p);Pf(o,{pending:!0,data:L,method:p.method,action:y},null,L)}}else typeof y=="function"&&(T.preventDefault(),L=S?Ix(p,S):new FormData(p),Pf(o,{pending:!0,data:L,method:p.method,action:y},y,L))},currentTarget:p}]})}}for(var xh=0;xh<Jd.length;xh++){var bh=Jd[xh],GN=bh.toLowerCase(),$N=bh[0].toUpperCase()+bh.slice(1);es(GN,"on"+$N)}es(gg,"onAnimationEnd"),es(yg,"onAnimationIteration"),es(xg,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(lN,"onTransitionRun"),es(cN,"onTransitionStart"),es(uN,"onTransitionCancel"),es(bg,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Bx(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var d=n[o],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var S=d.length-1;0<=S;S--){var T=d[S],L=T.instance,q=T.currentTarget;if(T=T.listener,L!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=q;try{y(p)}catch(J){rc(J)}p.currentTarget=null,y=L}else for(S=0;S<d.length;S++){if(T=d[S],L=T.instance,q=T.currentTarget,T=T.listener,L!==y&&p.isPropagationStopped())break e;y=T,p.currentTarget=q;try{y(p)}catch(J){rc(J)}p.currentTarget=null,y=L}}}}function Ue(n,i){var o=i[_d];o===void 0&&(o=i[_d]=new Set);var d=n+"__bubble";o.has(d)||(Fx(i,n,2,!1),o.add(d))}function vh(n,i,o){var d=0;i&&(d|=4),Fx(o,n,d,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Sh(n){if(!n[$c]){n[$c]=!0,M0.forEach(function(o){o!=="selectionchange"&&(YN.has(o)||vh(o,!1,n),vh(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$c]||(i[$c]=!0,vh("selectionchange",!1,i))}}function Fx(n,i,o,d){switch(gb(i)){case 2:var p=SR;break;case 8:p=CR;break;default:p=Uh}o=p.bind(null,i,o,n),p=void 0,!Bd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(i,o,{capture:!0,passive:p}):n.addEventListener(i,o,!0):p!==void 0?n.addEventListener(i,o,{passive:p}):n.addEventListener(i,o,!1)}function Ch(n,i,o,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var T=d.stateNode.containerInfo;if(T===p)break;if(S===4)for(S=d.return;S!==null;){var L=S.tag;if((L===3||L===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;T!==null;){if(S=Ya(T),S===null)return;if(L=S.tag,L===5||L===6||L===26||L===27){d=y=S;continue e}T=T.parentNode}}d=d.return}$0(function(){var q=y,J=zd(o),ne=[];e:{var Y=vg.get(n);if(Y!==void 0){var Q=sc,ye=n;switch(n){case"keypress":if(tc(o)===0)break e;case"keydown":case"keyup":Q=BE;break;case"focusin":ye="focus",Q=qd;break;case"focusout":ye="blur",Q=qd;break;case"beforeblur":case"afterblur":Q=qd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=kE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=HE;break;case gg:case yg:case xg:Q=_E;break;case bg:Q=GE;break;case"scroll":case"scrollend":Q=RE;break;case"wheel":Q=YE;break;case"copy":case"cut":case"paste":Q=AE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=K0;break;case"toggle":case"beforetoggle":Q=WE}var Re=(i&4)!==0,Xe=!Re&&(n==="scroll"||n==="scrollend"),B=Re?Y!==null?Y+"Capture":null:Y;Re=[];for(var P=q,H;P!==null;){var ee=P;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||B===null||(ee=Co(P,B),ee!=null&&Re.push(tl(P,ee,H))),Xe)break;P=P.return}0<Re.length&&(Y=new Q(Y,ye,null,o,J),ne.push({event:Y,listeners:Re}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",Y&&o!==Pd&&(ye=o.relatedTarget||o.fromElement)&&(Ya(ye)||ye[$a]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(ye=o.relatedTarget||o.toElement,Q=q,ye=ye?Ya(ye):null,ye!==null&&(Xe=l(ye),Re=ye.tag,ye!==Xe||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(Q=null,ye=q),Q!==ye)){if(Re=W0,ee="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Re=K0,ee="onPointerLeave",B="onPointerEnter",P="pointer"),Xe=Q==null?Y:So(Q),H=ye==null?Y:So(ye),Y=new Re(ee,P+"leave",Q,o,J),Y.target=Xe,Y.relatedTarget=H,ee=null,Ya(J)===q&&(Re=new Re(B,P+"enter",ye,o,J),Re.target=H,Re.relatedTarget=Xe,ee=Re),Xe=ee,Q&&ye)t:{for(Re=QN,B=Q,P=ye,H=0,ee=B;ee;ee=Re(ee))H++;ee=0;for(var we=P;we;we=Re(we))ee++;for(;0<H-ee;)B=Re(B),H--;for(;0<ee-H;)P=Re(P),ee--;for(;H--;){if(B===P||P!==null&&B===P.alternate){Re=B;break t}B=Re(B),P=Re(P)}Re=null}else Re=null;Q!==null&&Vx(ne,Y,Q,Re,!1),ye!==null&&Xe!==null&&Vx(ne,Xe,ye,Re,!0)}}e:{if(Y=q?So(q):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Fe=ag;else if(sg(Y))if(rg)Fe=aN;else{Fe=sN;var Se=nN}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&Ud(q.elementType)&&(Fe=ag):Fe=iN;if(Fe&&(Fe=Fe(n,q))){ig(ne,Fe,o,J);break e}Se&&Se(n,Y,q),n==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Ld(Y,"number",Y.value)}switch(Se=q?So(q):window,n){case"focusin":(sg(Se)||Se.contentEditable==="true")&&(nr=Se,Xd=q,jo=null);break;case"focusout":jo=Xd=nr=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,mg(ne,o,J);break;case"selectionchange":if(oN)break;case"keydown":case"keyup":mg(ne,o,J)}var je;if($d)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else tr?tg(n,o)&&(ze="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(Z0&&o.locale!=="ko"&&(tr||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&tr&&(je=Y0()):(ci=J,Fd="value"in ci?ci.value:ci.textContent,tr=!0)),Se=Yc(q,ze),0<Se.length&&(ze=new X0(ze,n,null,o,J),ne.push({event:ze,listeners:Se}),je?ze.data=je:(je=ng(o),je!==null&&(ze.data=je)))),(je=KE?ZE(n,o):JE(n,o))&&(ze=Yc(q,"onBeforeInput"),0<ze.length&&(Se=new X0("onBeforeInput","beforeinput",null,o,J),ne.push({event:Se,listeners:ze}),Se.data=je)),qN(ne,n,q,o,J)}Bx(ne,i)})}function tl(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Yc(n,i){for(var o=i+"Capture",d=[];n!==null;){var p=n,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Co(n,o),p!=null&&d.unshift(tl(n,p,y)),p=Co(n,i),p!=null&&d.push(tl(n,p,y))),n.tag===3)return d;n=n.return}return[]}function QN(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vx(n,i,o,d,p){for(var y=i._reactName,S=[];o!==null&&o!==d;){var T=o,L=T.alternate,q=T.stateNode;if(T=T.tag,L!==null&&L===d)break;T!==5&&T!==26&&T!==27||q===null||(L=q,p?(q=Co(o,y),q!=null&&S.unshift(tl(o,q,L))):p||(q=Co(o,y),q!=null&&S.push(tl(o,q,L)))),o=o.return}S.length!==0&&n.push({event:i,listeners:S})}var WN=/\r\n?/g,XN=/\u0000|\uFFFD/g;function Hx(n){return(typeof n=="string"?n:""+n).replace(WN,`
`).replace(XN,"")}function qx(n,i){return i=Hx(i),Hx(n)===i}function We(n,i,o,d,p,y){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Za(n,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Za(n,""+d);break;case"className":Kl(n,"class",d);break;case"tabIndex":Kl(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Kl(n,o,d);break;case"style":q0(n,d,y);break;case"data":if(i!=="object"){Kl(n,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Jl(""+d),n.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&We(n,i,"name",p.name,p,null),We(n,i,"formEncType",p.formEncType,p,null),We(n,i,"formMethod",p.formMethod,p,null),We(n,i,"formTarget",p.formTarget,p,null)):(We(n,i,"encType",p.encType,p,null),We(n,i,"method",p.method,p,null),We(n,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(o);break}d=Jl(""+d),n.setAttribute(o,d);break;case"onClick":d!=null&&(n.onclick=Ms);break;case"onScroll":d!=null&&Ue("scroll",n);break;case"onScrollEnd":d!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}o=Jl(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""+d):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":d===!0?n.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(o,d):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(o,d):n.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(o):n.setAttribute(o,d);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Xl(n,"popover",d);break;case"xlinkActuate":As(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":As(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":As(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":As(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":As(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":As(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":As(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":As(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":As(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Xl(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=EE.get(o)||o,Xl(n,o,d))}}function wh(n,i,o,d,p,y){switch(o){case"style":q0(n,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof d=="string"?Za(n,d):(typeof d=="number"||typeof d=="bigint")&&Za(n,""+d);break;case"onScroll":d!=null&&Ue("scroll",n);break;case"onScrollEnd":d!=null&&Ue("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L0.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),y=n[un]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,d,p);break e}o in n?n[o]=d:d===!0?n.setAttribute(o,""):Xl(n,o,d)}}}function It(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var d=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(n,i,y,S,o,null)}}p&&We(n,i,"srcSet",o.srcSet,o,null),d&&We(n,i,"src",o.src,o,null);return;case"input":Ue("invalid",n);var T=y=S=p=null,L=null,q=null;for(d in o)if(o.hasOwnProperty(d)){var J=o[d];if(J!=null)switch(d){case"name":p=J;break;case"type":S=J;break;case"checked":L=J;break;case"defaultChecked":q=J;break;case"value":y=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:We(n,i,d,J,o,null)}}B0(n,y,T,L,q,S,p,!1);return;case"select":Ue("invalid",n),d=S=y=null;for(p in o)if(o.hasOwnProperty(p)&&(T=o[p],T!=null))switch(p){case"value":y=T;break;case"defaultValue":S=T;break;case"multiple":d=T;default:We(n,i,p,T,o,null)}i=y,o=S,n.multiple=!!d,i!=null?Ka(n,!!d,i,!1):o!=null&&Ka(n,!!d,o,!0);return;case"textarea":Ue("invalid",n),y=p=d=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":d=T;break;case"defaultValue":p=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:We(n,i,S,T,o,null)}V0(n,d,p,y);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(d=o[L],d!=null))switch(L){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:We(n,i,L,d,o,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(d=0;d<el.length;d++)Ue(el[d],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(d=o[q],d!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:We(n,i,q,d,o,null)}return;default:if(Ud(i)){for(J in o)o.hasOwnProperty(J)&&(d=o[J],d!==void 0&&wh(n,i,J,d,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(d=o[T],d!=null&&We(n,i,T,d,o,null))}function KN(n,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,S=null,T=null,L=null,q=null,J=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=ne;default:d.hasOwnProperty(Q)||We(n,i,Q,null,d,ne)}}for(var Y in d){var Q=d[Y];if(ne=o[Y],d.hasOwnProperty(Y)&&(Q!=null||ne!=null))switch(Y){case"type":y=Q;break;case"name":p=Q;break;case"checked":q=Q;break;case"defaultChecked":J=Q;break;case"value":S=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==ne&&We(n,i,Y,Q,d,ne)}}Md(n,S,T,L,q,J,y,p);return;case"select":Q=S=T=Y=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":Q=L;default:d.hasOwnProperty(y)||We(n,i,y,null,d,L)}for(p in d)if(y=d[p],L=o[p],d.hasOwnProperty(p)&&(y!=null||L!=null))switch(p){case"value":Y=y;break;case"defaultValue":T=y;break;case"multiple":S=y;default:y!==L&&We(n,i,p,y,d,L)}i=T,o=S,d=Q,Y!=null?Ka(n,!!o,Y,!1):!!d!=!!o&&(i!=null?Ka(n,!!o,i,!0):Ka(n,!!o,o?[]:"",!1));return;case"textarea":Q=Y=null;for(T in o)if(p=o[T],o.hasOwnProperty(T)&&p!=null&&!d.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,i,T,null,d,p)}for(S in d)if(p=d[S],y=o[S],d.hasOwnProperty(S)&&(p!=null||y!=null))switch(S){case"value":Y=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==y&&We(n,i,S,p,d,y)}F0(n,Y,Q);return;case"option":for(var ye in o)if(Y=o[ye],o.hasOwnProperty(ye)&&Y!=null&&!d.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:We(n,i,ye,null,d,Y)}for(L in d)if(Y=d[L],Q=o[L],d.hasOwnProperty(L)&&Y!==Q&&(Y!=null||Q!=null))switch(L){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:We(n,i,L,Y,d,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Y=o[Re],o.hasOwnProperty(Re)&&Y!=null&&!d.hasOwnProperty(Re)&&We(n,i,Re,null,d,Y);for(q in d)if(Y=d[q],Q=o[q],d.hasOwnProperty(q)&&Y!==Q&&(Y!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:We(n,i,q,Y,d,Q)}return;default:if(Ud(i)){for(var Xe in o)Y=o[Xe],o.hasOwnProperty(Xe)&&Y!==void 0&&!d.hasOwnProperty(Xe)&&wh(n,i,Xe,void 0,d,Y);for(J in d)Y=d[J],Q=o[J],!d.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||wh(n,i,J,Y,d,Q);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!d.hasOwnProperty(B)&&We(n,i,B,null,d,Y);for(ne in d)Y=d[ne],Q=o[ne],!d.hasOwnProperty(ne)||Y===Q||Y==null&&Q==null||We(n,i,ne,Y,d,Q)}function Gx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZN(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],y=p.transferSize,S=p.initiatorType,T=p.duration;if(y&&T&&Gx(S)){for(S=0,T=p.responseEnd,d+=1;d<o.length;d++){var L=o[d],q=L.startTime;if(q>T)break;var J=L.transferSize,ne=L.initiatorType;J&&Gx(ne)&&(L=L.responseEnd,S+=J*(L<T?1:(T-q)/(L-q)))}if(--d,i+=8*(y+S)/(p.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Eh=null,Nh=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function $x(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yx(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Rh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Th=null;function JN(){var n=window.event;return n&&n.type==="popstate"?n===Th?!1:(Th=n,!0):(Th=null,!1)}var Qx=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(n){return Wx.resolve(null).then(n).catch(nR)}:Qx;function nR(n){setTimeout(function(){throw n})}function Ri(n){return n==="head"}function Xx(n,i){var o=i,d=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){n.removeChild(p),Dr(i);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")nl(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,nl(o);for(var y=o.firstChild;y;){var S=y.nextSibling,T=y.nodeName;y[vo]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=S}}else o==="body"&&nl(n.ownerDocument.body);o=p}while(o);Dr(i)}function Kx(n,i){var o=n;n=0;do{var d=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=d}while(o)}function kh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":kh(o),Od(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function sR(n,i,o,d){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[vo])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Vn(n.nextSibling),n===null)break}return null}function iR(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Vn(n.nextSibling),n===null))return null;return n}function Zx(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=Vn(n.nextSibling),n===null))return null;return n}function Dh(n){return n.data==="$?"||n.data==="$~"}function jh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aR(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function Vn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var _h=null;function Jx(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return Vn(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function eb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function tb(n,i,o){switch(i=Qc(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function nl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Od(n)}var Hn=new Map,nb=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xs=G.d;G.d={f:rR,r:oR,D:lR,C:cR,L:uR,m:dR,X:hR,S:fR,M:mR};function rR(){var n=Xs.f(),i=Bc();return n||i}function oR(n){var i=Qa(n);i!==null&&i.tag===5&&i.type==="form"?by(i):Xs.r(n)}var Rr=typeof document>"u"?null:document;function sb(n,i,o){var d=Rr;if(d&&typeof i=="string"&&i){var p=Ln(i);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),nb.has(p)||(nb.add(p),n={rel:n,crossOrigin:o,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),It(i,"link",n),kt(i),d.head.appendChild(i)))}}function lR(n){Xs.D(n),sb("dns-prefetch",n,null)}function cR(n,i){Xs.C(n,i),sb("preconnect",n,i)}function uR(n,i,o){Xs.L(n,i,o);var d=Rr;if(d&&n&&i){var p='link[rel="preload"][as="'+Ln(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ln(o.imageSizes)+'"]')):p+='[href="'+Ln(n)+'"]';var y=p;switch(i){case"style":y=Tr(n);break;case"script":y=kr(n)}Hn.has(y)||(n=x({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Hn.set(y,n),d.querySelector(p)!==null||i==="style"&&d.querySelector(sl(y))||i==="script"&&d.querySelector(il(y))||(i=d.createElement("link"),It(i,"link",n),kt(i),d.head.appendChild(i)))}}function dR(n,i){Xs.m(n,i);var o=Rr;if(o&&n){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Ln(d)+'"][href="'+Ln(n)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=kr(n)}if(!Hn.has(y)&&(n=x({rel:"modulepreload",href:n},i),Hn.set(y,n),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(il(y)))return}d=o.createElement("link"),It(d,"link",n),kt(d),o.head.appendChild(d)}}}function fR(n,i,o){Xs.S(n,i,o);var d=Rr;if(d&&n){var p=Wa(d).hoistableStyles,y=Tr(n);i=i||"default";var S=p.get(y);if(!S){var T={loading:0,preload:null};if(S=d.querySelector(sl(y)))T.loading=5;else{n=x({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Hn.get(y))&&Oh(n,o);var L=S=d.createElement("link");kt(L),It(L,"link",n),L._p=new Promise(function(q,J){L.onload=q,L.onerror=J}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xc(S,i,d)}S={type:"stylesheet",instance:S,count:1,state:T},p.set(y,S)}}}function hR(n,i){Xs.X(n,i);var o=Rr;if(o&&n){var d=Wa(o).hoistableScripts,p=kr(n),y=d.get(p);y||(y=o.querySelector(il(p)),y||(n=x({src:n,async:!0},i),(i=Hn.get(p))&&Ah(n,i),y=o.createElement("script"),kt(y),It(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function mR(n,i){Xs.M(n,i);var o=Rr;if(o&&n){var d=Wa(o).hoistableScripts,p=kr(n),y=d.get(p);y||(y=o.querySelector(il(p)),y||(n=x({src:n,async:!0,type:"module"},i),(i=Hn.get(p))&&Ah(n,i),y=o.createElement("script"),kt(y),It(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function ib(n,i,o,d){var p=(p=Ne.current)?Wc(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Tr(o.href),o=Wa(p).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Tr(o.href);var y=Wa(p).hoistableStyles,S=y.get(n);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=p.querySelector(sl(n)))&&!y._p&&(S.instance=y,S.state.loading=5),Hn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(n,o),y||pR(p,n,o,S.state))),i&&d===null)throw Error(a(528,""));return S}if(i&&d!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kr(o),o=Wa(p).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Tr(n){return'href="'+Ln(n)+'"'}function sl(n){return'link[rel="stylesheet"]['+n+"]"}function ab(n){return x({},n,{"data-precedence":n.precedence,precedence:null})}function pR(n,i,o,d){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=n.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),It(i,"link",o),kt(i),n.head.appendChild(i))}function kr(n){return'[src="'+Ln(n)+'"]'}function il(n){return"script[async]"+n}function rb(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=n.querySelector('style[data-href~="'+Ln(o.href)+'"]');if(d)return i.instance=d,kt(d),d;var p=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),kt(d),It(d,"style",p),Xc(d,o.precedence,n),i.instance=d;case"stylesheet":p=Tr(o.href);var y=n.querySelector(sl(p));if(y)return i.state.loading|=4,i.instance=y,kt(y),y;d=ab(o),(p=Hn.get(p))&&Oh(d,p),y=(n.ownerDocument||n).createElement("link"),kt(y);var S=y;return S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),It(y,"link",d),i.state.loading|=4,Xc(y,o.precedence,n),i.instance=y;case"script":return y=kr(o.src),(p=n.querySelector(il(y)))?(i.instance=p,kt(p),p):(d=o,(p=Hn.get(y))&&(d=x({},o),Ah(d,p)),n=n.ownerDocument||n,p=n.createElement("script"),kt(p),It(p,"link",d),n.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Xc(d,o.precedence,n));return i.instance}function Xc(n,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,S=0;S<d.length;S++){var T=d[S];if(T.dataset.precedence===i)y=T;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Oh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Ah(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Kc=null;function ob(n,i,o){if(Kc===null){var d=new Map,p=Kc=new Map;p.set(o,d)}else p=Kc,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(n))return d;for(d.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var y=o[p];if(!(y[vo]||y[Lt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(i)||"";S=n+S;var T=d.get(S);T?T.push(y):d.set(S,[y])}}return d}function lb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function gR(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function yR(n,i,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Tr(d.href),y=i.querySelector(sl(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Zc.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=y,kt(y);return}y=i.ownerDocument||i,d=ab(d),(p=Hn.get(p))&&Oh(d,p),y=y.createElement("link"),kt(y);var S=y;S._p=new Promise(function(T,L){S.onload=T,S.onerror=L}),It(y,"link",d),o.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Zc.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var Mh=0;function xR(n,i){return n.stylesheets&&n.count===0&&eu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var d=setTimeout(function(){if(n.stylesheets&&eu(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+i);0<n.imgBytes&&Mh===0&&(Mh=62500*ZN());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&eu(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>Mh?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function eu(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,i.forEach(bR,n),Jc=null,Zc.call(n))}function bR(n,i){if(!(i.state.loading&4)){var o=Jc.get(n);if(o)var d=o.get(null);else{o=new Map,Jc.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var S=p[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}p=i.instance,S=p.getAttribute("data-precedence"),y=o.get(S)||d,y===d&&o.set(null,p),o.set(S,p),this.count++,d=Zc.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),i.state.loading|=4}}var al={$$typeof:j,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function vR(n,i,o,d,p,y,S,T,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.hiddenUpdates=bo(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function ub(n,i,o,d,p,y,S,T,L,q,J,ne){return n=new vR(n,i,o,S,L,q,J,ne,T),i=1,y===!0&&(i|=24),y=Sn(3,null,null,i),n.current=y,y.stateNode=n,i=hf(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:i},yf(y),n}function db(n){return n?(n=ar,n):ar}function fb(n,i,o,d,p,y){p=db(p),d.context===null?d.context=p:d.pendingContext=p,d=pi(i),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=gi(n,d,i),o!==null&&(gn(o,n,i),Po(o,n,i))}function hb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Lh(n,i){hb(n,i),(n=n.alternate)&&hb(n,i)}function mb(n){if(n.tag===13||n.tag===31){var i=ta(n,67108864);i!==null&&gn(i,n,67108864),Lh(n,67108864)}}function pb(n){if(n.tag===13||n.tag===31){var i=Rn();i=fe(i);var o=ta(n,i);o!==null&&gn(o,n,i),Lh(n,i)}}var tu=!0;function SR(n,i,o,d){var p=z.T;z.T=null;var y=G.p;try{G.p=2,Uh(n,i,o,d)}finally{G.p=y,z.T=p}}function CR(n,i,o,d){var p=z.T;z.T=null;var y=G.p;try{G.p=8,Uh(n,i,o,d)}finally{G.p=y,z.T=p}}function Uh(n,i,o,d){if(tu){var p=Ph(d);if(p===null)Ch(n,i,d,nu,o),yb(n,d);else if(ER(p,n,i,o,d))d.stopPropagation();else if(yb(n,d),i&4&&-1<wR.indexOf(n)){for(;p!==null;){var y=Qa(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Os(y.pendingLanes);if(S!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var L=1<<31-At(S);T.entanglements[1]|=L,S&=~L}bs(y),(qe&6)===0&&(zc=Ot()+500,Jo(0))}}break;case 31:case 13:T=ta(y,2),T!==null&&gn(T,y,2),Bc(),Lh(y,2)}if(y=Ph(d),y===null&&Ch(n,i,d,nu,o),y===p)break;p=y}p!==null&&d.stopPropagation()}else Ch(n,i,d,null,o)}}function Ph(n){return n=zd(n),zh(n)}var nu=null;function zh(n){if(nu=null,n=Ya(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===31){if(n=f(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return nu=n,null}function gb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case $l:return 2;case Yl:return 8;case Fa:case Nd:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var Ih=!1,Ti=null,ki=null,Di=null,rl=new Map,ol=new Map,ji=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yb(n,i){switch(n){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(n,i,o,d,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Qa(i),i!==null&&mb(i)),n):(n.eventSystemFlags|=d,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function ER(n,i,o,d,p){switch(i){case"focusin":return Ti=ll(Ti,n,i,o,d,p),!0;case"dragenter":return ki=ll(ki,n,i,o,d,p),!0;case"mouseover":return Di=ll(Di,n,i,o,d,p),!0;case"pointerover":var y=p.pointerId;return rl.set(y,ll(rl.get(y)||null,n,i,o,d,p)),!0;case"gotpointercapture":return y=p.pointerId,ol.set(y,ll(ol.get(y)||null,n,i,o,d,p)),!0}return!1}function xb(n){var i=Ya(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,wt(n.priority,function(){pb(o)});return}}else if(i===31){if(i=f(o),i!==null){n.blockedOn=i,wt(n.priority,function(){pb(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function su(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Ph(n.nativeEvent);if(o===null){o=n.nativeEvent;var d=new o.constructor(o.type,o);Pd=d,o.target.dispatchEvent(d),Pd=null}else return i=Qa(o),i!==null&&mb(i),n.blockedOn=o,!1;i.shift()}return!0}function bb(n,i,o){su(n)&&o.delete(i)}function NR(){Ih=!1,Ti!==null&&su(Ti)&&(Ti=null),ki!==null&&su(ki)&&(ki=null),Di!==null&&su(Di)&&(Di=null),rl.forEach(bb),ol.forEach(bb)}function iu(n,i){n.blockedOn===i&&(n.blockedOn=null,Ih||(Ih=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NR)))}var au=null;function vb(n){au!==n&&(au=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){au===n&&(au=null);for(var i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],p=n[i+2];if(typeof d!="function"){if(zh(d||o)===null)continue;break}var y=Qa(o);y!==null&&(n.splice(i,3),i-=3,Pf(y,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function Dr(n){function i(L){return iu(L,n)}Ti!==null&&iu(Ti,n),ki!==null&&iu(ki,n),Di!==null&&iu(Di,n),rl.forEach(i),ol.forEach(i);for(var o=0;o<ji.length;o++){var d=ji[o];d.blockedOn===n&&(d.blockedOn=null)}for(;0<ji.length&&(o=ji[0],o.blockedOn===null);)xb(o),o.blockedOn===null&&ji.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],y=o[d+1],S=p[un]||null;if(typeof y=="function")S||vb(o);else if(S){var T=null;if(y&&y.hasAttribute("formAction")){if(p=y,S=y[un]||null)T=S.formAction;else if(zh(p)!==null)continue}else T=S.action;typeof T=="function"?o[d+1]=T:(o.splice(d,3),d-=3),vb(o)}}}function Sb(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Bh(n){this._internalRoot=n}ru.prototype.render=Bh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,d=Rn();fb(o,d,n,i,null,null)},ru.prototype.unmount=Bh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fb(n.current,2,null,n,null,null),Bc(),i[$a]=null}};function ru(n){this._internalRoot=n}ru.prototype.unstable_scheduleHydration=function(n){if(n){var i=Mt();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ji.length&&i!==0&&i<ji[o].priority;o++);ji.splice(o,0,n),o===0&&xb(n)}};var Cb=e.version;if(Cb!=="19.2.1")throw Error(a(527,Cb,"19.2.1"));G.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var RR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{_s=ou.inject(RR),sn=ou}catch{}}return ul.createRoot=function(n,i){if(!r(n))throw Error(a(299));var o=!1,d="",p=Dy,y=jy,S=_y;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=ub(n,1,!1,null,null,o,d,null,p,y,S,Sb),n[$a]=i.current,Sh(n),new Bh(i)},ul.hydrateRoot=function(n,i,o){if(!r(n))throw Error(a(299));var d=!1,p="",y=Dy,S=jy,T=_y,L=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),i=ub(n,1,!0,i,o??null,d,p,L,y,S,T,Sb),i.context=db(null),o=i.current,d=Rn(),d=fe(d),p=pi(d),p.callback=null,gi(o,p,d),o=d,i.current.lanes=o,Xi(i,o),bs(i),n[$a]=i.current,Sh(n),new ru(i)},ul.version="19.2.1",ul}var Ob;function PR(){if(Ob)return Hh.exports;Ob=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hh.exports=UR(),Hh.exports}var zR=PR();var Ab="popstate";function IR(t={}){function e(a,r){let{pathname:l,search:c,hash:f}=a.location;return Pm("",{pathname:l,search:c,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(a,r){return typeof r=="string"?r:El(r)}return FR(e,s,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function us(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BR(){return Math.random().toString(36).substring(2,10)}function Mb(t,e){return{usr:t.state,key:t.key,idx:e}}function Pm(t,e,s=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:s,key:e&&e.key||a||BR()}}function El({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ao(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function FR(t,e,s,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,c=r.history,f="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function x(){f="POP";let N=g(),R=N==null?null:N-m;m=N,h&&h({action:f,location:E.location,delta:R})}function b(N,R){f="PUSH";let D=Pm(E.location,N,R);m=g()+1;let j=Mb(D,m),O=E.createHref(D);try{c.pushState(j,"",O)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(O)}l&&h&&h({action:f,location:E.location,delta:1})}function v(N,R){f="REPLACE";let D=Pm(E.location,N,R);m=g();let j=Mb(D,m),O=E.createHref(D);c.replaceState(j,"",O),l&&h&&h({action:f,location:E.location,delta:0})}function C(N){return VR(N)}let E={get action(){return f},get location(){return t(r,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Ab,x),h=N,()=>{r.removeEventListener(Ab,x),h=null}},createHref(N){return e(r,N)},createURL:C,encodeLocation(N){let R=C(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:v,go(N){return c.go(N)}};return E}function VR(t,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),lt(s,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:El(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function OS(t,e,s="/"){return HR(t,e,s,!1)}function HR(t,e,s,a){let r=typeof e=="string"?ao(e):e,l=ni(r.pathname||"/",s);if(l==null)return null;let c=AS(t);qR(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=tT(l);f=JR(c[h],m,a)}return f}function AS(t,e=[],s=[],a="",r=!1){let l=(c,f,h=r,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&h)return;lt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let x=ei([a,g.relativePath]),b=s.concat(g);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),AS(c.children,e,b,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:KR(x,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of MS(c.path))l(c,f,!0,h)}),e}function MS(t){let e=t.split("/");if(e.length===0)return[];let[s,...a]=e,r=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let c=MS(a.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),r&&f.push(...c),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function qR(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:ZR(e.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var GR=/^:[\w-]+$/,$R=3,YR=2,QR=1,WR=10,XR=-2,Lb=t=>t==="*";function KR(t,e){let s=t.split("/"),a=s.length;return s.some(Lb)&&(a+=XR),e&&(a+=YR),s.filter(r=>!Lb(r)).reduce((r,l)=>r+(GR.test(l)?$R:l===""?QR:WR),a)}function ZR(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function JR(t,e,s=!1){let{routesMeta:a}=t,r={},l="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],m=f===a.length-1,g=l==="/"?e:e.slice(l.length)||"/",x=Bu({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),b=h.route;if(!x&&m&&s&&!a[a.length-1].route.index&&(x=Bu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(r,x.params),c.push({params:r,pathname:ei([l,x.pathname]),pathnameBase:rT(ei([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=ei([l,x.pathnameBase]))}return c}function Bu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=eT(t.path,t.caseSensitive,t.end),r=e.match(s);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:a.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let C=f[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const v=f[b];return x&&!v?m[g]=void 0:m[g]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function eT(t,e=!1,s=!0){us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function tT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return us(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=t=>nT.test(t);function iT(t,e="/"){let{pathname:s,search:a="",hash:r=""}=typeof t=="string"?ao(t):t,l;if(s)if(sT(s))l=s;else{if(s.includes("//")){let c=s;s=s.replace(/\/\/+/g,"/"),us(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${s}`)}s.startsWith("/")?l=Ub(s.substring(1),"/"):l=Ub(s,e)}else l=e;return{pathname:l,search:oT(a),hash:lT(r)}}function Ub(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function Yh(t,e,s,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aT(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function LS(t){let e=aT(t);return e.map((s,a)=>a===e.length-1?s.pathname:s.pathnameBase)}function US(t,e,s,a=!1){let r;typeof t=="string"?r=ao(t):(r={...t},lt(!r.pathname||!r.pathname.includes("?"),Yh("?","pathname","search",r)),lt(!r.pathname||!r.pathname.includes("#"),Yh("#","pathname","hash",r)),lt(!r.search||!r.search.includes("#"),Yh("#","search","hash",r)));let l=t===""||r.pathname==="",c=l?"/":r.pathname,f;if(c==null)f=s;else{let x=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;r.pathname=b.join("/")}f=x>=0?e[x]:"/"}let h=iT(r,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var ei=t=>t.join("/").replace(/\/\/+/g,"/"),rT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var dT=["GET",...PS];new Set(dT);var ro=w.createContext(null);ro.displayName="DataRouter";var rd=w.createContext(null);rd.displayName="DataRouterState";w.createContext(!1);var zS=w.createContext({isTransitioning:!1});zS.displayName="ViewTransition";var fT=w.createContext(new Map);fT.displayName="Fetchers";var hT=w.createContext(null);hT.displayName="Await";var ms=w.createContext(null);ms.displayName="Navigation";var Ul=w.createContext(null);Ul.displayName="Location";var oi=w.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var Rp=w.createContext(null);Rp.displayName="RouteError";function mT(t,{relative:e}={}){lt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=w.useContext(ms),{hash:r,pathname:l,search:c}=zl(t,{relative:e}),f=l;return s!=="/"&&(f=l==="/"?s:ei([s,l])),a.createHref({pathname:f,search:c,hash:r})}function Pl(){return w.useContext(Ul)!=null}function $i(){return lt(Pl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ul).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BS(t){w.useContext(ms).static||w.useLayoutEffect(t)}function FS(){let{isDataRoute:t}=w.useContext(oi);return t?TT():pT()}function pT(){lt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ro),{basename:e,navigator:s}=w.useContext(ms),{matches:a}=w.useContext(oi),{pathname:r}=$i(),l=JSON.stringify(LS(a)),c=w.useRef(!1);return BS(()=>{c.current=!0}),w.useCallback((h,m={})=>{if(us(c.current,IS),!c.current)return;if(typeof h=="number"){s.go(h);return}let g=US(h,JSON.parse(l),r,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ei([e,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[e,s,l,r,t])}w.createContext(null);function zl(t,{relative:e}={}){let{matches:s}=w.useContext(oi),{pathname:a}=$i(),r=JSON.stringify(LS(s));return w.useMemo(()=>US(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function gT(t,e){return VS(t,e)}function VS(t,e,s,a,r){lt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(ms),{matches:c}=w.useContext(oi),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",x=f&&f.route;{let D=x&&x.path||"";HS(m,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=$i(),v;if(e){let D=typeof e=="string"?ao(e):e;lt(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),v=D}else v=b;let C=v.pathname||"/",E=C;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=OS(t,{pathname:E});us(x||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),us(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=ST(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},h,D.params),pathname:ei([g,l.encodeLocation?l.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ei([g,l.encodeLocation?l.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,s,a,r);return e&&R?w.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function yT(){let t=RT(),e=cT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),s?w.createElement("pre",{style:r},s):null,c)}var xT=w.createElement(yT,null),bT=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(oi.Provider,{value:this.props.routeContext},w.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vT({routeContext:t,match:e,children:s}){let a=w.useContext(ro);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(oi.Provider,{value:t},s)}function ST(t,e=[],s=null,a=null,r=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let l=t,c=s?.errors;if(c!=null){let g=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,h=-1;if(s)for(let g=0;g<l.length;g++){let x=l[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=g),x.route.id){let{loaderData:b,errors:v}=s,C=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||C){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=s&&a?(g,x)=>{a(g,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:uT(s.matches),errorInfo:x})}:void 0;return l.reduceRight((g,x,b)=>{let v,C=!1,E=null,N=null;s&&(v=c&&x.route.id?c[x.route.id]:void 0,E=x.route.errorElement||xT,f&&(h<0&&b===0?(HS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):h===b&&(C=!0,N=x.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,b+1)),D=()=>{let j;return v?j=E:C?j=N:x.route.Component?j=w.createElement(x.route.Component,null):x.route.element?j=x.route.element:j=g,w.createElement(vT,{match:x,routeContext:{outlet:g,matches:R,isDataRoute:s!=null},children:j})};return s&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?w.createElement(bT,{location:s.location,revalidation:s.revalidation,component:E,error:v,children:D(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):D()},null)}function Tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CT(t){let e=w.useContext(ro);return lt(e,Tp(t)),e}function wT(t){let e=w.useContext(rd);return lt(e,Tp(t)),e}function ET(t){let e=w.useContext(oi);return lt(e,Tp(t)),e}function kp(t){let e=ET(t),s=e.matches[e.matches.length-1];return lt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function NT(){return kp("useRouteId")}function RT(){let t=w.useContext(Rp),e=wT("useRouteError"),s=kp("useRouteError");return t!==void 0?t:e.errors?.[s]}function TT(){let{router:t}=CT("useNavigate"),e=kp("useNavigate"),s=w.useRef(!1);return BS(()=>{s.current=!0}),w.useCallback(async(r,l={})=>{us(s.current,IS),s.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var Pb={};function HS(t,e,s){!e&&!Pb[t]&&(Pb[t]=!0,us(!1,s))}w.memo(kT);function kT({routes:t,future:e,state:s,unstable_onError:a}){return VS(t,void 0,s,a,e)}function yl(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DT({basename:t="/",children:e=null,location:s,navigationType:a="POP",navigator:r,static:l=!1,unstable_useTransitions:c}){lt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:f,navigator:r,static:l,unstable_useTransitions:c,future:{}}),[f,r,l,c]);typeof s=="string"&&(s=ao(s));let{pathname:m="/",search:g="",hash:x="",state:b=null,key:v="default"}=s,C=w.useMemo(()=>{let E=ni(m,f);return E==null?null:{location:{pathname:E,search:g,hash:x,state:b,key:v},navigationType:a}},[f,m,g,x,b,v,a]);return us(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(ms.Provider,{value:h},w.createElement(Ul.Provider,{children:e,value:C}))}function jT({children:t,location:e}){return gT(zm(t),e)}function zm(t,e=[]){let s=[];return w.Children.forEach(t,(a,r)=>{if(!w.isValidElement(a))return;let l=[...e,r];if(a.type===w.Fragment){s.push.apply(s,zm(a.props.children,l));return}lt(a.type===yl,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=zm(a.props.children,l)),s.push(c)}),s}var ju="get",_u="application/x-www-form-urlencoded";function od(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _T(t){return od(t)&&t.tagName.toLowerCase()==="button"}function OT(t){return od(t)&&t.tagName.toLowerCase()==="form"}function AT(t){return od(t)&&t.tagName.toLowerCase()==="input"}function MT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LT(t,e){return t.button===0&&(!e||e==="_self")&&!MT(t)}var lu=null;function UT(){if(lu===null)try{new FormData(document.createElement("form"),0),lu=!1}catch{lu=!0}return lu}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(t){return t!=null&&!PT.has(t)?(us(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):t}function zT(t,e){let s,a,r,l,c;if(OT(t)){let f=t.getAttribute("action");a=f?ni(f,e):null,s=t.getAttribute("method")||ju,r=Qh(t.getAttribute("enctype"))||_u,l=new FormData(t)}else if(_T(t)||AT(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(a=h?ni(h,e):null,s=t.getAttribute("formmethod")||f.getAttribute("method")||ju,r=Qh(t.getAttribute("formenctype"))||Qh(f.getAttribute("enctype"))||_u,l=new FormData(f,t),!UT()){let{name:m,type:g,value:x}=t;if(g==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,x)}}else{if(od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ju,a=null,r=_u,c=t}return l&&r==="text/plain"&&(c=l,l=void 0),{action:a,method:s.toLowerCase(),encType:r,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IT(t,e,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${s}`:e&&ni(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function BT(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function VT(t,e,s){let a=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let c=await BT(l,s);return c.links?c.links():[]}return[]}));return $T(a.flat(1).filter(FT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function zb(t,e,s,a,r,l){let c=(h,m)=>s[m]?h.route.id!==s[m].route.id:!0,f=(h,m)=>s[m].pathname!==h.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):l==="data"?e.filter((h,m)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function HT(t,e,{includeHydrateFallback:s}={}){return qT(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),s&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function qT(t){return[...new Set(t)]}function GT(t){let e={},s=Object.keys(t).sort();for(let a of s)e[a]=t[a];return e}function $T(t,e){let s=new Set;return new Set(e),t.reduce((a,r)=>{let l=JSON.stringify(GT(r));return s.has(l)||(s.add(l),a.push({key:l,link:r})),a},[])}function qS(){let t=w.useContext(ro);return Dp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YT(){let t=w.useContext(rd);return Dp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jp=w.createContext(void 0);jp.displayName="FrameworkContext";function GS(){let t=w.useContext(jp);return Dp(t,"You must render this element inside a <HydratedRouter> element"),t}function QT(t,e){let s=w.useContext(jp),[a,r]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=R=>{R.forEach(D=>{c(D.isIntersecting)})},N=new IntersectionObserver(E,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),w.useEffect(()=>{if(a){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[a]);let v=()=>{r(!0)},C=()=>{r(!1),c(!1)};return s?t!=="intent"?[l,b,{}]:[l,b,{onFocus:dl(f,v),onBlur:dl(h,C),onMouseEnter:dl(m,v),onMouseLeave:dl(g,C),onTouchStart:dl(x,v)}]:[!1,b,{}]}function dl(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function WT({page:t,...e}){let{router:s}=qS(),a=w.useMemo(()=>OS(s.routes,t,s.basename),[s.routes,t,s.basename]);return a?w.createElement(KT,{page:t,matches:a,...e}):null}function XT(t){let{manifest:e,routeModules:s}=GS(),[a,r]=w.useState([]);return w.useEffect(()=>{let l=!1;return VT(t,e,s).then(c=>{l||r(c)}),()=>{l=!0}},[t,e,s]),a}function KT({page:t,matches:e,...s}){let a=$i(),{manifest:r,routeModules:l}=GS(),{basename:c}=qS(),{loaderData:f,matches:h}=YT(),m=w.useMemo(()=>zb(t,e,h,r,a,"data"),[t,e,h,r,a]),g=w.useMemo(()=>zb(t,e,h,r,a,"assets"),[t,e,h,r,a]),x=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let C=new Set,E=!1;if(e.forEach(R=>{let D=r.routes[R.route.id];!D||!D.hasLoader||(!m.some(j=>j.route.id===R.route.id)&&R.route.id in f&&l[R.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:C.add(R.route.id))}),C.size===0)return[];let N=IT(t,c,"data");return E&&C.size>0&&N.searchParams.set("_routes",e.filter(R=>C.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[c,f,a,r,m,e,t,l]),b=w.useMemo(()=>HT(g,r),[g,r]),v=XT(g);return w.createElement(w.Fragment,null,x.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...s})),b.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...s})),v.map(({key:C,link:E})=>w.createElement("link",{key:C,nonce:s.nonce,...E})))}function ZT(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var $S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$S&&(window.__reactRouterVersion="7.10.1")}catch{}function JT({basename:t,children:e,unstable_useTransitions:s,window:a}){let r=w.useRef();r.current==null&&(r.current=IR({window:a,v5Compat:!0}));let l=r.current,[c,f]=w.useState({action:l.action,location:l.location}),h=w.useCallback(m=>{s===!1?f(m):w.startTransition(()=>f(m))},[s]);return w.useLayoutEffect(()=>l.listen(h),[l,h]),w.createElement(DT,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:s===!0})}var YS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=w.forwardRef(function({onClick:e,discover:s="render",prefetch:a="none",relative:r,reloadDocument:l,replace:c,state:f,target:h,to:m,preventScrollReset:g,viewTransition:x,...b},v){let{basename:C,unstable_useTransitions:E}=w.useContext(ms),N=typeof m=="string"&&YS.test(m),R,D=!1;if(typeof m=="string"&&N&&(R=m,$S))try{let X=new URL(window.location.href),ce=m.startsWith("//")?new URL(X.protocol+m):new URL(m),F=ni(ce.pathname,C);ce.origin===X.origin&&F!=null?m=F+ce.search+ce.hash:D=!0}catch{us(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=mT(m,{relative:r}),[O,k,V]=QT(a,b),M=sk(m,{replace:c,state:f,target:h,preventScrollReset:g,relative:r,viewTransition:x,unstable_useTransitions:E});function _(X){e&&e(X),X.defaultPrevented||M(X)}let W=w.createElement("a",{...b,...V,href:R||j,onClick:D||l?e:_,ref:ZT(v,k),target:h,"data-discover":!N&&s==="render"?"true":void 0});return O&&!N?w.createElement(w.Fragment,null,W,w.createElement(WT,{page:j})):W});vs.displayName="Link";var ek=w.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:a="",end:r=!1,style:l,to:c,viewTransition:f,children:h,...m},g){let x=zl(c,{relative:m.relative}),b=$i(),v=w.useContext(rd),{navigator:C,basename:E}=w.useContext(ms),N=v!=null&&lk(x)&&f===!0,R=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,D=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(D=D.toLowerCase(),j=j?j.toLowerCase():null,R=R.toLowerCase()),j&&E&&(j=ni(j,E)||j);const O=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let k=D===R||!r&&D.startsWith(R)&&D.charAt(O)==="/",V=j!=null&&(j===R||!r&&j.startsWith(R)&&j.charAt(R.length)==="/"),M={isActive:k,isPending:V,isTransitioning:N},_=k?e:void 0,W;typeof a=="function"?W=a(M):W=[a,k?"active":null,V?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof l=="function"?l(M):l;return w.createElement(vs,{...m,"aria-current":_,className:W,ref:g,style:X,to:c,viewTransition:f},typeof h=="function"?h(M):h)});ek.displayName="NavLink";var tk=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:a,replace:r,state:l,method:c=ju,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...b},v)=>{let{unstable_useTransitions:C}=w.useContext(ms),E=rk(),N=ok(f,{relative:m}),R=c.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&YS.test(f),j=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let k=O.nativeEvent.submitter,V=k?.getAttribute("formmethod")||c,M=()=>E(k||O.currentTarget,{fetcherKey:e,method:V,navigate:s,replace:r,state:l,relative:m,preventScrollReset:g,viewTransition:x});C&&s!==!1?w.startTransition(()=>M()):M()};return w.createElement("form",{ref:v,method:R,action:N,onSubmit:a?h:j,...b,"data-discover":!D&&t==="render"?"true":void 0})});tk.displayName="Form";function nk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(t){let e=w.useContext(ro);return lt(e,nk(t)),e}function sk(t,{target:e,replace:s,state:a,preventScrollReset:r,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let h=FS(),m=$i(),g=zl(t,{relative:l});return w.useCallback(x=>{if(LT(x,e)){x.preventDefault();let b=s!==void 0?s:El(m)===El(g),v=()=>h(t,{replace:b,state:a,preventScrollReset:r,relative:l,viewTransition:c});f?w.startTransition(()=>v()):v()}},[m,h,g,s,a,e,t,r,l,c,f])}var ik=0,ak=()=>`__${String(++ik)}__`;function rk(){let{router:t}=QS("useSubmit"),{basename:e}=w.useContext(ms),s=NT(),a=t.fetch,r=t.navigate;return w.useCallback(async(l,c={})=>{let{action:f,method:h,encType:m,formData:g,body:x}=zT(l,e);if(c.navigate===!1){let b=c.fetcherKey||ak();await a(b,s,c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await r(c.action||f,{preventScrollReset:c.preventScrollReset,formData:g,body:x,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,r,e,s])}function ok(t,{relative:e}={}){let{basename:s}=w.useContext(ms),a=w.useContext(oi);lt(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...zl(t||".",{relative:e})},c=$i();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(x=>x).forEach(x=>f.append("index",x));let g=f.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:ei([s,l.pathname])),El(l)}function lk(t,{relative:e}={}){let s=w.useContext(zS);lt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=QS("useViewTransitionState"),r=zl(t,{relative:e});if(!s.isTransitioning)return!1;let l=ni(s.currentLocation.pathname,a)||s.currentLocation.pathname,c=ni(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Bu(r.pathname,c)!=null||Bu(r.pathname,l)!=null}var _p=_S();const ck=jS(_p),WS=w.createContext(void 0),uk=({children:t})=>{const[e,s]=w.useState(()=>{const f=localStorage.getItem("uds_theme");return f?(console.log("ThemeContext: Loaded from localStorage:",f),f):window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}),[a,r]=w.useState(()=>localStorage.getItem("uds_high_contrast")==="true");w.useEffect(()=>{localStorage.setItem("uds_theme",e),document.documentElement.setAttribute("data-theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),w.useEffect(()=>{localStorage.setItem("uds_high_contrast",String(a)),document.documentElement.setAttribute("data-contrast",a?"high":"normal")},[a]);const l=()=>{s(f=>f==="dark"?"light":"dark")},c=()=>{r(f=>!f)};return u.jsx(WS.Provider,{value:{theme:e,toggleTheme:l,highContrast:a,toggleHighContrast:c},children:t})},Op=()=>{const t=w.useContext(WS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},ie={DIAGNOSTIC_SESSION_CONTROL:16,ECU_RESET:17,CLEAR_DIAGNOSTIC_INFORMATION:20,READ_DTC_INFORMATION:25,READ_DATA_BY_IDENTIFIER:34,READ_MEMORY_BY_ADDRESS:35,SECURITY_ACCESS:39,COMMUNICATION_CONTROL:40,READ_DATA_BY_PERIODIC_IDENTIFIER:42,WRITE_DATA_BY_IDENTIFIER:46,WRITE_MEMORY_BY_ADDRESS:61,ROUTINE_CONTROL:49,REQUEST_DOWNLOAD:52,REQUEST_UPLOAD:53,TRANSFER_DATA:54,REQUEST_TRANSFER_EXIT:55,TESTER_PRESENT:62,ACCESS_TIMING_PARAMETER:131,CONTROL_DTC_SETTING:133},A={GENERAL_REJECT:16,SERVICE_NOT_SUPPORTED:17,SUB_FUNCTION_NOT_SUPPORTED:18,INCORRECT_MESSAGE_LENGTH:19,RESPONSE_TOO_LONG:20,BUSY_REPEAT_REQUEST:33,CONDITIONS_NOT_CORRECT:34,REQUEST_SEQUENCE_ERROR:36,REQUEST_OUT_OF_RANGE:49,SECURITY_ACCESS_DENIED:51,INVALID_KEY:53,EXCEED_NUMBER_OF_ATTEMPTS:54,REQUIRED_TIME_DELAY_NOT_EXPIRED:55,UPLOAD_DOWNLOAD_NOT_ACCEPTED:112,TRANSFER_DATA_SUSPENDED:113,GENERAL_PROGRAMMING_FAILURE:114,WRONG_BLOCK_SEQUENCE_COUNTER:115,REQUEST_CORRECTLY_RECEIVED_RESPONSE_PENDING:120,SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION:126,SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION:127},me={DEFAULT:1,PROGRAMMING:2,EXTENDED:3,SAFETY:4},at={HARD_RESET:1,KEY_OFF_ON_RESET:2,SOFT_RESET:3,ENABLE_RAPID_POWER_SHUTDOWN:4,DISABLE_RAPID_POWER_SHUTDOWN:5},jr={START_ROUTINE:1,STOP_ROUTINE:2,REQUEST_ROUTINE_RESULTS:3},Wh={SLOW:1e3,MEDIUM:500,FAST:100},dk=t=>t.map(e=>e.toString(16).toUpperCase().padStart(2,"0")).join(" "),Xh=t=>{const e=t.replace(/\s+/g,""),s=[];for(let a=0;a<e.length;a+=2)s.push(parseInt(e.substr(a,2),16));return s},jt=t=>{let e=0;return t.testFailed&&(e|=1),t.testFailedThisOperationCycle&&(e|=2),t.pendingDTC&&(e|=4),t.confirmedDTC&&(e|=8),t.testNotCompletedSinceLastClear&&(e|=16),t.testFailedSinceLastClear&&(e|=32),t.testNotCompletedThisOperationCycle&&(e|=64),t.warningIndicatorRequested&&(e|=128),e},XS=t=>({16:"Diagnostic Session Control",17:"ECU Reset",20:"Clear Diagnostic Information",25:"Read DTC Information",34:"Read Data By Identifier",35:"Read Memory By Address",39:"Security Access",40:"Communication Control",42:"Read Data By Periodic Identifier",46:"Write Data By Identifier",49:"Routine Control",52:"Request Download",53:"Request Upload",54:"Transfer Data",55:"Request Transfer Exit",61:"Write Memory By Address"})[t]||`Unknown Service (0x${t.toString(16).toUpperCase()})`,fk=t=>({16:"General Reject",17:"Service Not Supported",18:"Sub-Function Not Supported",19:"Incorrect Message Length Or Invalid Format",20:"Response Too Long",33:"Busy Repeat Request",34:"Conditions Not Correct",36:"Request Sequence Error",49:"Request Out Of Range",51:"Security Access Denied",53:"Invalid Key",54:"Exceed Number Of Attempts",55:"Required Time Delay Not Expired",112:"Upload Download Not Accepted",113:"Transfer Data Suspended",114:"General Programming Failure",115:"Wrong Block Sequence Counter",120:"Request Correctly Received - Response Pending",126:"Sub-Function Not Supported In Active Session",127:"Service Not Supported In Active Session"})[t]||"Unknown NRC",Im=t=>t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`,hk=(t,e)=>[127,t,e],mk=()=>{const t="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let e="";for(let s=0;s<17;s++)e+=t[Math.floor(Math.random()*t.length)];return e},pk=t=>{switch(t){case"engineRPM":{const e=Math.floor(Math.random()*3e3)+800;return[e>>8&255,e&255]}case"vehicleSpeed":return[Math.floor(Math.random()*120)+20];case"coolantTemp":return[Math.floor(Math.random()*60)+80];case"batteryVoltage":{const e=Math.floor((Math.random()*2+12)*100);return[e>>8&255,e&255]}default:return[0,0]}},Lr=t=>new Promise(e=>setTimeout(e,t)),gk=t=>{const e=t>>16&255,s=e>>4&15,r={0:"P",1:"P",2:"C",3:"B",4:"U"}[s]||"P",l=e&15,c=(t>>8&240)>>4,f=t>>8&15,h=t&255;return`${r}${l.toString(16).toUpperCase()}${c.toString(16).toUpperCase()}${f.toString(16).toUpperCase()}${h.toString(16).toUpperCase().padStart(2,"0")}`},yk=t=>{const e=[];return t.testFailed&&e.push("Test Failed"),t.testFailedThisOperationCycle&&e.push("Failed This Cycle"),t.pendingDTC&&e.push("Pending"),t.confirmedDTC&&e.push("Confirmed"),t.testNotCompletedSinceLastClear&&e.push("Not Completed Since Clear"),t.testFailedSinceLastClear&&e.push("Failed Since Clear"),t.testNotCompletedThisOperationCycle&&e.push("Not Completed This Cycle"),t.warningIndicatorRequested&&e.push("MIL On"),e},xk=t=>({1:"reportNumberOfDTCByStatusMask",2:"reportDTCByStatusMask",3:"reportDTCSnapshotIdentification",4:"reportDTCSnapshotRecordByDTCNumber",5:"reportDTCStoredDataByRecordNumber",6:"reportDTCExtDataRecordByDTCNumber",7:"reportNumberOfDTCBySeverityMaskRecord",8:"reportDTCBySeverityMaskRecord",9:"reportSeverityInformationOfDTC",10:"reportSupportedDTC",11:"reportFirstTestFailedDTC",12:"reportFirstConfirmedDTC",13:"reportMostRecentTestFailedDTC",14:"reportMostRecentConfirmedDTC",15:"reportMirrorMemoryDTCByStatusMask"})[t&127]||`Unknown (0x${t.toString(16).toUpperCase()})`,bk=t=>{if(!t||t.length<3)return{addressLength:0,sizeLength:0,address:0,size:0,valid:!1,errorMessage:"Insufficient data length"};const e=t[0],s=e&15,a=e>>4&15;if(s===0||s>8)return{addressLength:s,sizeLength:a,address:0,size:0,valid:!1,errorMessage:`Invalid address length: ${s} (must be 1-8)`};if(a===0||a>8)return{addressLength:s,sizeLength:a,address:0,size:0,valid:!1,errorMessage:`Invalid size length: ${a} (must be 1-8)`};const r=1+s+a;if(t.length!==r)return{addressLength:s,sizeLength:a,address:0,size:0,valid:!1,errorMessage:`Incorrect message length: expected ${r}, got ${t.length}`};let l=0;for(let f=0;f<s;f++)l=l<<8|t[1+f];let c=0;for(let f=0;f<a;f++)c=c<<8|t[1+s+f];return{addressLength:s,sizeLength:a,address:l,size:c,valid:!0}};class vk{state;ecuConfig;currentSeed=[];expectedKey=[];onResponseCallback;schedulerInterval;constructor(e){this.ecuConfig=e,this.state={currentSession:me.DEFAULT,securityLevel:0,securityUnlocked:!1,securityAttempts:0,lastActivityTime:Date.now(),sessionTimeout:5e3,communicationEnabled:!0,communicationControlState:{normalMessages:{rxEnabled:!0,txEnabled:!0},networkManagement:{rxEnabled:!0,txEnabled:!0},subnets:new Map},activePeriodicTasks:[],downloadInProgress:!1,uploadInProgress:!1,transferBlockCounter:0,rpsEnabled:!1,rpsPowerDownTime:0,lastSeedRequestTime:0,lastSeedRequestLevel:0,lastInvalidKeyTime:0,securityDelayActive:!1,seedTimeout:5e3,securityDelayDuration:1e4,p2Server:50,p2StarServer:5e3,dtcRecordingEnabled:!0},this.startPeriodicScheduler()}setResponseCallback(e){this.onResponseCallback=e}startPeriodicScheduler(){this.schedulerInterval||(this.schedulerInterval=window.setInterval(()=>{this.processPeriodicTasks()},50))}cleanup(){this.schedulerInterval&&(clearInterval(this.schedulerInterval),this.schedulerInterval=void 0)}processPeriodicTasks(){const e=Date.now();this.state.activePeriodicTasks.forEach(s=>{if(e-s.lastSent>=s.rate){const a=this.generatePeriodicResponse(s.id);a&&this.onResponseCallback&&(this.onResponseCallback(a),s.lastSent=e)}})}generatePeriodicResponse(e){let s;switch(e){case 1:s=268;break;case 2:s=269;break;case 3:s=261;break;case 4:s=272;break;case 10:s=322;break;default:const l=256|e;this.ecuConfig.dataIdentifiers.some(c=>c.id===l)&&(s=l)}if(!s)return null;const a=this.ecuConfig.dataIdentifiers.find(l=>l.id===s);if(!a)return null;let r=[];return Array.isArray(a.value)?r=a.value:typeof a.value=="number"?a.id===268?r=[a.value>>8&255,a.value&255]:r=[a.value&255]:r=Array.from(String(a.value)).map(l=>l.charCodeAt(0)),{sid:ie.READ_DATA_BY_PERIODIC_IDENTIFIER,data:[106,e,...r],timestamp:Date.now(),isNegative:!1}}async processRequest(e,s,a,r){if(this.state.lastActivityTime=Date.now(),!this.ecuConfig.supportedServices.includes(e.sid))return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED);const l=[ie.DIAGNOSTIC_SESSION_CONTROL,ie.ECU_RESET,ie.READ_DTC_INFORMATION,ie.CLEAR_DIAGNOSTIC_INFORMATION];if(!s&&!l.includes(e.sid))return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);switch(e.sid){case ie.DIAGNOSTIC_SESSION_CONTROL:{const c=this.handleDiagnosticSessionControl(e);return c===null?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:c}case ie.ECU_RESET:{const c=await this.handleECUReset(e,a,r);return c===null?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:c}case ie.TESTER_PRESENT:{const c=this.handleTesterPresent(e);return c===null?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:c}case ie.CLEAR_DIAGNOSTIC_INFORMATION:return this.handleClearDTC(e);case ie.READ_DTC_INFORMATION:return this.handleReadDTC(e);case ie.READ_DATA_BY_IDENTIFIER:return this.handleReadDataById(e);case ie.READ_MEMORY_BY_ADDRESS:return this.handleReadMemory(e);case ie.SECURITY_ACCESS:return this.handleSecurityAccess(e);case ie.COMMUNICATION_CONTROL:return this.handleCommunicationControl(e);case ie.READ_DATA_BY_PERIODIC_IDENTIFIER:return this.handlePeriodicData(e);case ie.WRITE_DATA_BY_IDENTIFIER:return this.handleWriteDataById(e);case ie.WRITE_MEMORY_BY_ADDRESS:return this.handleWriteMemory(e);case ie.ROUTINE_CONTROL:return this.handleRoutineControl(e);case ie.REQUEST_DOWNLOAD:return this.handleRequestDownload(e);case ie.REQUEST_UPLOAD:return this.handleRequestUpload(e);case ie.TRANSFER_DATA:return this.handleTransferData(e,a,r);case ie.REQUEST_TRANSFER_EXIT:return this.handleTransferExit(e);case ie.ACCESS_TIMING_PARAMETER:return this.handleAccessTimingParameter(e);case ie.CONTROL_DTC_SETTING:{const c=this.handleControlDTCSetting(e);return c===null?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:c}default:return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED)}}handleDiagnosticSessionControl(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=(e.subFunction&128)!==0,a=e.subFunction&127;if(![me.DEFAULT,me.PROGRAMMING,me.EXTENDED,me.SAFETY].includes(a))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);if(e.data&&e.data.length>0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const l=this.state.currentSession;if(this.state.currentSession=a,l!==a){if(this.state.securityUnlocked=!1,this.state.securityLevel=0,this.state.securityAttempts=0,this.state.activePeriodicTasks=[],this.state.lastSeedRequestTime=0,this.state.lastSeedRequestLevel=0,this.state.lastInvalidKeyTime=0,this.state.securityDelayActive=!1,this.currentSeed=[],this.expectedKey=[],this.state.activeRoutineId){const h=this.ecuConfig.routines.find(m=>m.id===this.state.activeRoutineId);h&&(h.status="idle",h.progress=void 0),this.state.activeRoutineId=void 0,this.state.activeRoutineStartTime=void 0}this.state.downloadInProgress=!1,this.state.uploadInProgress=!1,this.state.transferBlockCounter=0,this.state.dtcRecordingEnabled=!0}if(this.state.lastActivityTime=Date.now(),s)return null;const c=(a===me.EXTENDED,0),f=a===me.EXTENDED?100:50;return{sid:e.sid,data:[80,a,c,f,1,244],timestamp:Date.now(),isNegative:!1}}async handleECUReset(e,s,a){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const r=(e.subFunction&128)!==0,l=e.subFunction&127;if(![at.HARD_RESET,at.KEY_OFF_ON_RESET,at.SOFT_RESET,at.ENABLE_RAPID_POWER_SHUTDOWN,at.DISABLE_RAPID_POWER_SHUTDOWN].includes(l))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);const f=l===at.ENABLE_RAPID_POWER_SHUTDOWN?1:0;if((e.data?.length||0)!==f)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(s!==void 0&&(l===at.HARD_RESET||l===at.KEY_OFF_ON_RESET||l===at.SOFT_RESET)){const b=a??12,v=b===12?11:22,C=b===12?16:28;if(s<v||s>C)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT)}const m=l===at.HARD_RESET||l===at.KEY_OFF_ON_RESET||l===at.SOFT_RESET;if(this.state.currentSession===me.SAFETY&&m)return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(this.state.currentSession===me.PROGRAMMING&&l===at.SOFT_RESET)return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION);let g;switch(l===at.ENABLE_RAPID_POWER_SHUTDOWN&&e.data&&(g=e.data[0]),l===at.ENABLE_RAPID_POWER_SHUTDOWN&&g!==void 0?(this.state.rpsEnabled=!0,this.state.rpsPowerDownTime=g):l===at.DISABLE_RAPID_POWER_SHUTDOWN&&(this.state.rpsEnabled=!1,this.state.rpsPowerDownTime=0),l){case at.HARD_RESET:await Lr(200);break;case at.KEY_OFF_ON_RESET:await Lr(300);break;case at.SOFT_RESET:await Lr(50);break;default:await Lr(50)}if((l===at.HARD_RESET||l===at.KEY_OFF_ON_RESET||l===at.SOFT_RESET)&&(this.state.currentSession=me.DEFAULT,this.state.securityUnlocked=!1,this.state.securityLevel=0,this.state.activePeriodicTasks=[],this.state.downloadInProgress=!1,this.state.uploadInProgress=!1,this.state.transferBlockCounter=0),r)return null;const x=[81,l];return l===at.ENABLE_RAPID_POWER_SHUTDOWN&&g!==void 0&&x.push(g),{sid:e.sid,data:x,timestamp:Date.now(),isNegative:!1,resetType:l}}handleTesterPresent(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=(e.subFunction&128)!==0;return(e.subFunction&127)!==0?this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED):e.data&&e.data.length>0?this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH):s?null:{sid:e.sid,data:[0],timestamp:Date.now(),isNegative:!1}}handleClearDTC(e){if(console.log("[UDSSimulator]  handleClearDTC called"),console.log("  - Request Object:",e),console.log("  - Request SID:",`0x${e.sid.toString(16).toUpperCase()}`),console.log("  - Request.data exists?",!!e.data),console.log("  - Request.data type:",typeof e.data),console.log("  - Request.data is Array?",Array.isArray(e.data)),console.log("  - Request.data value:",e.data),console.log("  - Request.data length:",e.data?.length),e.data&&console.log("  - Data bytes:",e.data.map(a=>`0x${a.toString(16).toUpperCase().padStart(2,"0")}`).join(" ")),!e.data||e.data.length!==3)return console.log("[UDSSimulator]  VALIDATION FAILED:"),console.log("  - request.data is falsy?",!e.data),console.log("  - request.data.length !== 3?",e.data?.length!==3),console.log("  - Actual length:",e.data?.length),console.log("  - Returning NRC 0x13 (Incorrect Message Length)"),this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(console.log("[UDSSimulator]  Validation passed, proceeding with Clear DTC..."),this.state.currentSession===me.SAFETY)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);const s=e.data[0]<<16|e.data[1]<<8|e.data[2];return s===16777215?this.ecuConfig.dtcs=[]:this.ecuConfig.dtcs=this.ecuConfig.dtcs.filter(a=>a.code!==s),{sid:e.sid,data:[84],timestamp:Date.now(),isNegative:!1}}handleReadDTC(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.subFunction&127,a=255,r=1,l=[89,s];switch(s){case 1:{if(!e.data||e.data.length<1)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0],f=this.ecuConfig.dtcs.filter(h=>{const m=jt(h.status);return c===0||(m&c)!==0});l.push(a),l.push(r),l.push(f.length>>8&255),l.push(f.length&255)}break;case 2:{if(!e.data||e.data.length<1)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0],f=this.ecuConfig.dtcs.filter(h=>{const m=jt(h.status);return c===0||(m&c)!==0});l.push(a),f.forEach(h=>{l.push(h.code>>16&255),l.push(h.code>>8&255),l.push(h.code&255),l.push(jt(h.status))})}break;case 3:l.push(a),this.ecuConfig.dtcs.forEach(c=>{c.snapshots&&c.snapshots.length>0&&c.snapshots.forEach(f=>{l.push(c.code>>16&255),l.push(c.code>>8&255),l.push(c.code&255),l.push(f.recordNumber)})});break;case 4:{if(!e.data||e.data.length<4)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0]<<16|e.data[1]<<8|e.data[2],f=e.data[3],h=this.ecuConfig.dtcs.find(x=>x.code===c);if(!h)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);l.push(h.code>>16&255),l.push(h.code>>8&255),l.push(h.code&255),l.push(jt(h.status));const m=h.snapshots||[],g=f===255?m:m.filter(x=>x.recordNumber===f);if(g.length===0&&f!==255)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);g.forEach(x=>{l.push(x.recordNumber),l.push(10),l.push(1,13),l.push(x.data.vehicleSpeed&255),l.push(1,12),l.push(x.data.engineRPM>>8&255),l.push(x.data.engineRPM&255),l.push(1,5),l.push(x.data.coolantTemp+40&255),l.push(1,17),l.push(Math.round(x.data.throttlePosition*2.55)&255),l.push(1,47),l.push(Math.round(x.data.fuelLevel*2.55)&255),l.push(1,66),l.push(Math.round(x.data.batteryVoltage*10)&255),l.push(1,4),l.push(Math.round(x.data.engineLoad*2.55)&255),l.push(1,15),l.push(x.data.intakeAirTemp+40&255),l.push(244,1),l.push(x.data.oilPressure>>8&255),l.push(x.data.oilPressure&255),l.push(1,70),l.push(x.data.ambientTemp+40&255)})}break;case 6:{if(!e.data||e.data.length<4)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0]<<16|e.data[1]<<8|e.data[2],f=e.data[3],h=this.ecuConfig.dtcs.find(x=>x.code===c);if(!h)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);l.push(h.code>>16&255),l.push(h.code>>8&255),l.push(h.code&255),l.push(jt(h.status));const m=h.extendedData||[],g=f===255?m:m.filter(x=>x.recordNumber===f);if(g.length===0&&f!==255)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);g.forEach(x=>{l.push(x.recordNumber),l.push(x.occurrenceCounter&255),l.push(x.agingCounter&255),l.push(x.agedCounter&255),l.push(x.selfHealingCounter&255),l.push(x.failedSinceLastClear?1:0),l.push(x.testNotCompleted?1:0)})}break;case 7:{if(!e.data||e.data.length<2)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0],f=e.data[1],h=this.ecuConfig.dtcs.filter(m=>{const g=jt(m.status),x=m.severityByte||this.getSeverityByte(m.severity),b=f===0||(g&f)!==0,v=c===0||(x&c)!==0;return b&&v});l.push(a),l.push(r),l.push(h.length>>8&255),l.push(h.length&255)}break;case 8:{if(!e.data||e.data.length<2)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0],f=e.data[1];l.push(a),this.ecuConfig.dtcs.filter(m=>{const g=jt(m.status),x=m.severityByte||this.getSeverityByte(m.severity),b=f===0||(g&f)!==0,v=c===0||(x&c)!==0;return b&&v}).forEach(m=>{const g=m.severityByte||this.getSeverityByte(m.severity);l.push(g),l.push(0),l.push(m.code>>16&255),l.push(m.code>>8&255),l.push(m.code&255),l.push(jt(m.status))})}break;case 9:{if(!e.data||e.data.length<3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0]<<16|e.data[1]<<8|e.data[2],f=this.ecuConfig.dtcs.find(m=>m.code===c);if(!f)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const h=f.severityByte||this.getSeverityByte(f.severity);l.push(a),l.push(h),l.push(0),l.push(f.code>>16&255),l.push(f.code>>8&255),l.push(f.code&255),l.push(jt(f.status))}break;case 10:l.push(a),this.ecuConfig.dtcs.forEach(c=>{l.push(c.code>>16&255),l.push(c.code>>8&255),l.push(c.code&255),l.push(jt(c.status))});break;case 11:{l.push(a);const c=this.ecuConfig.dtcs.filter(f=>f.status.testFailed).sort((f,h)=>(f.firstFailureTimestamp||0)-(h.firstFailureTimestamp||0));if(c.length>0){const f=c[0];l.push(f.code>>16&255),l.push(f.code>>8&255),l.push(f.code&255),l.push(jt(f.status))}}break;case 12:{l.push(a);const c=this.ecuConfig.dtcs.filter(f=>f.status.confirmedDTC).sort((f,h)=>(f.firstFailureTimestamp||0)-(h.firstFailureTimestamp||0));if(c.length>0){const f=c[0];l.push(f.code>>16&255),l.push(f.code>>8&255),l.push(f.code&255),l.push(jt(f.status))}}break;case 13:{l.push(a);const c=this.ecuConfig.dtcs.filter(f=>f.status.testFailed).sort((f,h)=>(h.mostRecentFailureTimestamp||0)-(f.mostRecentFailureTimestamp||0));if(c.length>0){const f=c[0];l.push(f.code>>16&255),l.push(f.code>>8&255),l.push(f.code&255),l.push(jt(f.status))}}break;case 14:{l.push(a);const c=this.ecuConfig.dtcs.filter(f=>f.status.confirmedDTC).sort((f,h)=>(h.mostRecentFailureTimestamp||0)-(f.mostRecentFailureTimestamp||0));if(c.length>0){const f=c[0];l.push(f.code>>16&255),l.push(f.code>>8&255),l.push(f.code&255),l.push(jt(f.status))}}break;case 15:{if(this.state.currentSession===me.DEFAULT)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);if(!e.data||e.data.length<1)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const c=e.data[0];l.push(a),this.ecuConfig.dtcs.filter(h=>h.status.testFailedSinceLastClear).filter(h=>{const m=jt(h.status);return c===0||(m&c)!==0}).forEach(h=>{l.push(h.code>>16&255),l.push(h.code>>8&255),l.push(h.code&255),l.push(jt(h.status))})}break;default:return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED)}return{sid:e.sid,data:l,timestamp:Date.now(),isNegative:!1}}getSeverityByte(e){switch(e){case"critical":return 96;case"high":return 96;case"medium":return 64;case"low":return 32;default:return 0}}handleReadDataById(e){if(!e.data||e.data.length<2)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(e.data.length%2!==0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.data.length/2,a=[];for(let c=0;c<s;c++){const f=e.data[c*2]<<8|e.data[c*2+1];a.push(f)}const r=[98],l=4095;for(const c of a){const f=this.ecuConfig.dataIdentifiers.find(g=>g.id===c);if(!f)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(f.requiredSession&&f.requiredSession.length>0&&!f.requiredSession.includes(this.state.currentSession))return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);const h=f.requiredSecurity||0;if(h>0){if(!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);if(this.state.securityLevel<h)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED)}r.push(c>>8&255),r.push(c&255);const m=[];if(c===61830)m.push(this.state.currentSession);else if(typeof f.value=="string")f.value.split("").forEach(g=>{m.push(g.charCodeAt(0))});else if(Array.isArray(f.value))m.push(...f.value);else{const g=pk(f.name);m.push(...g)}if(r.length+m.length>l)return this.createNegativeResponseObj(e.sid,A.RESPONSE_TOO_LONG);r.push(...m)}return{sid:e.sid,data:r,timestamp:Date.now(),isNegative:!1}}handleReadMemory(e){if(this.state.currentSession!==me.EXTENDED&&this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);if(!e.data||e.data.length<3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=bk(e.data);if(!s.valid)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const{address:a,size:r}=s;if(r===0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const l=4294967295;if(a>l||a+r>l||a+r<a)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);let c=null;for(const h of this.ecuConfig.memoryMap){const m=h.address+h.size,g=a+r;if(a>=h.address&&a<m)if(g<=m){c=h;break}else return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE)}if(!c)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(c.accessible===!1)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if((c.securityLevel||0)>0&&!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);try{const h=[99],m=a-c.address;if(c.data&&c.data.length>0)for(let g=0;g<r;g++){const x=(m+g)%c.data.length;h.push(c.data[x])}else for(let g=0;g<r;g++){const x=a+g;h.push(x&255^170)}return{sid:e.sid,data:h,timestamp:Date.now(),isNegative:!1}}catch{return this.createNegativeResponseObj(e.sid,A.GENERAL_PROGRAMMING_FAILURE)}}handleSecurityAccess(e){if(!e.subFunction)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.subFunction,a=Date.now();if(this.state.currentSession!==me.EXTENDED&&this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(s%2===1){if(s===0||s>127)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(![1,3,5].includes(s))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);if(this.state.securityAttempts>=3)return this.createNegativeResponseObj(e.sid,A.EXCEED_NUMBER_OF_ATTEMPTS);if(this.state.securityDelayActive){if(a-this.state.lastInvalidKeyTime<this.state.securityDelayDuration)return this.createNegativeResponseObj(e.sid,A.REQUIRED_TIME_DELAY_NOT_EXPIRED);this.state.securityDelayActive=!1}const l=Math.floor((s+1)/2);return this.state.securityUnlocked&&this.state.securityLevel===l?{sid:e.sid,data:[103,s,0,0,0,0],timestamp:a,isNegative:!1}:(this.currentSeed=this.ecuConfig.securitySeed?[...this.ecuConfig.securitySeed]:[],this.expectedKey=this.ecuConfig.securityKey?[...this.ecuConfig.securityKey]:[],this.state.lastSeedRequestTime=a,this.state.lastSeedRequestLevel=s,{sid:e.sid,data:[103,s,...this.currentSeed],timestamp:a,isNegative:!1})}else{if(s===0||s>128||s%2!==0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(this.state.securityAttempts>=3)return this.createNegativeResponseObj(e.sid,A.EXCEED_NUMBER_OF_ATTEMPTS);if(this.state.lastSeedRequestTime===0)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);if(a-this.state.lastSeedRequestTime>this.state.seedTimeout)return this.state.lastSeedRequestTime=0,this.state.lastSeedRequestLevel=0,this.currentSeed=[],this.expectedKey=[],this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);const l=this.state.lastSeedRequestLevel+1;return s!==l?this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR):!e.data||e.data.length!==4?this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH):e.data.slice(0,4).every((h,m)=>h===this.expectedKey[m])?(this.state.securityUnlocked=!0,this.state.securityLevel=Math.floor(s/2),this.state.securityAttempts=0,this.state.securityDelayActive=!1,this.state.lastInvalidKeyTime=0,{sid:e.sid,data:[103,s],timestamp:a,isNegative:!1}):(this.state.securityAttempts++,this.state.lastInvalidKeyTime=a,this.state.securityDelayActive=!0,this.state.lastSeedRequestTime=0,this.state.lastSeedRequestLevel=0,this.currentSeed=[],this.expectedKey=[],this.createNegativeResponseObj(e.sid,A.INVALID_KEY))}}handleCommunicationControl(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=(e.subFunction&128)!==0,a=e.subFunction&127;if(![0,1,2,3,4,5].includes(a))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);if(!e.data||e.data.length<1)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const l=e.data[0];if(![1,2,3].includes(l))return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const f=e.data.length>=3;if(e.data.length!==1&&e.data.length!==3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(this.state.currentSession!==me.EXTENDED&&this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(a===3&&!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);let m;f&&(m=e.data[1]<<8|e.data[2]);let g,x;switch(a){case 0:case 4:g=!0,x=!1;break;case 1:case 5:g=!0,x=!0;break;case 2:g=!1,x=!0;break;case 3:g=!1,x=!1;break;default:return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED)}const b={rxEnabled:g,txEnabled:x};if(m!==void 0){let v=this.state.communicationControlState.subnets.get(m);v||(v={normalMessages:{rxEnabled:!0,txEnabled:!0},networkManagement:{rxEnabled:!0,txEnabled:!0}},this.state.communicationControlState.subnets.set(m,v)),l===1?v.normalMessages=b:l===2?v.networkManagement=b:l===3&&(v.normalMessages=b,v.networkManagement=b)}else l===1?this.state.communicationControlState.normalMessages=b:l===2?this.state.communicationControlState.networkManagement=b:l===3&&(this.state.communicationControlState.normalMessages=b,this.state.communicationControlState.networkManagement=b);return s?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:{sid:e.sid,data:[104,a],timestamp:Date.now(),isNegative:!1}}handlePeriodicData(e){if(!e.subFunction)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.subFunction;if(this.state.currentSession!==me.EXTENDED)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);if(s===4)return this.state.activePeriodicTasks=[],{sid:e.sid,data:[106],timestamp:Date.now(),isNegative:!1};if(!e.data||e.data.length===0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);let a;switch(s){case 1:a=Wh.SLOW;break;case 2:a=Wh.MEDIUM;break;case 3:a=Wh.FAST;break;default:return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED)}const r=[];for(const l of e.data){let c;switch(l){case 1:c=268;break;case 2:c=269;break;case 3:c=261;break;case 4:c=272;break;case 10:c=322;break;default:const m=256|l;this.ecuConfig.dataIdentifiers.some(g=>g.id===m)&&(c=m)}if(!c)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const f=this.ecuConfig.dataIdentifiers.find(m=>m.id===c);if(!f)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const h=f.requiredSecurity||0;if(h>0&&this.state.securityLevel<h)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);r.push({id:l,rate:a,lastSent:0})}return r.forEach(l=>{const c=this.state.activePeriodicTasks.findIndex(f=>f.id===l.id);c>=0?this.state.activePeriodicTasks[c]=l:this.state.activePeriodicTasks.push(l)}),{sid:e.sid,data:[106],timestamp:Date.now(),isNegative:!1}}handleWriteDataById(e){if(!e.data||e.data.length<3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.data[0]<<8|e.data[1],a=this.ecuConfig.dataIdentifiers.find(m=>m.id===s);if(!a)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(a.readonly)return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(!(a.writeSession||[me.EXTENDED,me.PROGRAMMING]).includes(this.state.currentSession))return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);const c=a.writeSecurity!==void 0?a.writeSecurity:a.requiredSecurity||0;if(c>0&&(!this.state.securityUnlocked||this.state.securityLevel<c))return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);const h=e.data.slice(2);if(a.size!==void 0){if(h.length!==a.size)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH)}else if(Array.isArray(a.value)&&h.length!==a.value.length)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);return a.value=h,{sid:e.sid,data:[110,e.data[0],e.data[1]],timestamp:Date.now(),isNegative:!1}}handleWriteMemory(e){if(this.state.currentSession!==me.EXTENDED&&this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(!e.data||e.data.length<1)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.data[0],a=s&15,r=s>>4&15;if(a===0||a>8)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(r===0||r>8)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const l=1+a+r+1;if(e.data.length<l)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);let c=0;for(let C=0;C<a;C++)c=c<<8|e.data[1+C];let f=0;for(let C=0;C<r;C++)f=f<<8|e.data[1+a+C];if(f===0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const h=1+a+r,m=h+f;if(e.data.length!==m)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const g=e.data.slice(h,h+f),x=4294967295;if(c>x||c+f>x||c+f<c)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);let b=null;for(const C of this.ecuConfig.memoryMap){const E=C.address+C.size,N=c+f;if(c>=C.address&&c<E)if(N<=E){b=C;break}else return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE)}if(!b)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(b.accessible===!1)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(b.writable===!1)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(b.protected===!0)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);if((b.securityLevel||0)>0&&!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);try{const C=c-b.address;b.data||(b.data=[]);const E=C+f;if(b.data.length<E){const R=new Array(E-b.data.length).fill(255);b.data=[...b.data,...R]}for(let R=0;R<f;R++)b.data[C+R]=g[R];const N=[125,s];for(let R=0;R<a;R++)N.push(e.data[1+R]);return{sid:e.sid,data:N,timestamp:Date.now(),isNegative:!1}}catch{return this.createNegativeResponseObj(e.sid,A.GENERAL_PROGRAMMING_FAILURE)}}handleRoutineControl(e){if(!e.subFunction||!e.data||e.data.length<2)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=e.subFunction,a=e.data[0]<<8|e.data[1];if(![jr.START_ROUTINE,jr.STOP_ROUTINE,jr.REQUEST_ROUTINE_RESULTS].includes(s))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);const l=this.ecuConfig.routines.find(h=>h.id===a);if(!l)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(l.supportedSubFunctions&&!l.supportedSubFunctions.includes(s))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);if(l.requiredSession&&!(Array.isArray(l.requiredSession)?l.requiredSession:[l.requiredSession]).includes(this.state.currentSession))return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(l.requiredSecurity&&l.requiredSecurity>0&&!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);const f=[113,s,e.data[0],e.data[1]];switch(s){case jr.START_ROUTINE:{if(l.status==="running")return this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR);l.status="running",l.progress=0,l.failureReason=void 0,this.state.activeRoutineId=a,this.state.activeRoutineStartTime=Date.now(),f.push(0);break}case jr.STOP_ROUTINE:{if(l.status!=="running")return this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR);l.status="idle",l.progress=void 0,this.state.activeRoutineId=void 0,this.state.activeRoutineStartTime=void 0,f.push(0);break}case jr.REQUEST_ROUTINE_RESULTS:{if(l.status==="idle"&&this.state.activeRoutineId!==a)return this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR);if(l.status==="running"&&(l.status="completed",l.progress=100,this.state.activeRoutineId=void 0,this.state.activeRoutineStartTime=void 0),l.status==="failed")return this.createNegativeResponseObj(e.sid,A.GENERAL_PROGRAMMING_FAILURE);const h=l.status==="completed"?1:0;f.push(h),l.results&&f.push(...l.results);break}default:return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED)}return{sid:e.sid,data:f,timestamp:Date.now(),isNegative:!1}}handleRequestDownload(e){if(!e.data||e.data.length<3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.UPLOAD_DOWNLOAD_NOT_ACCEPTED);if(!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);if(this.state.downloadInProgress||this.state.uploadInProgress)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);const s=e.data[1],a=s>>4&15,r=s&15;if(a===0||a>15||r===0||r>15)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const l=2+r+a;if(e.data.length!==l)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);let c=0;for(let E=0;E<r;E++)c=c<<8|e.data[2+E];let f=0;for(let E=0;E<a;E++)f=f<<8|e.data[2+r+E];let h=null;for(const E of this.ecuConfig.memoryMap){const N=E.address+E.size-1;if(c>=E.address&&c<=N){h=E;break}}if(!h)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(!h.accessible)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(h.writable===!1)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(h.protected===!0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const m=c+f-1,g=h.address+h.size-1;if(m>g)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(f===0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);this.state.downloadInProgress=!0,this.state.transferBlockCounter=1;const x=this.ecuConfig.maxBlockLength||4096;let b=32;x>65535?b=48:x<=255&&(b=16);const v=[],C=b>>4;for(let E=C-1;E>=0;E--)v.push(x>>E*8&255);return{sid:e.sid,data:[116,b,...v],timestamp:Date.now(),isNegative:!1}}handleRequestUpload(e){if(!e.data||e.data.length<3)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.UPLOAD_DOWNLOAD_NOT_ACCEPTED);if(!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);if(this.state.downloadInProgress||this.state.uploadInProgress)return this.createNegativeResponseObj(e.sid,A.CONDITIONS_NOT_CORRECT);const s=e.data[1],a=s>>4&15,r=s&15;if(a===0||a>15||r===0||r>15)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const l=2+r+a;if(e.data.length!==l)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);let c=0;for(let E=0;E<r;E++)c=c<<8|e.data[2+E];let f=0;for(let E=0;E<a;E++)f=f<<8|e.data[2+r+E];let h=null;for(const E of this.ecuConfig.memoryMap){const N=E.address+E.size-1;if(c>=E.address&&c<=N){h=E;break}}if(!h)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(!h.accessible)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(h.protected===!0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);const m=c+f-1,g=h.address+h.size-1;if(m>g)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(f===0)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);this.state.uploadInProgress=!0,this.state.transferBlockCounter=1;const x=this.ecuConfig.maxBlockLength||4096;let b=32;x>65535?b=48:x<=255&&(b=16);const v=[],C=b>>4;for(let E=C-1;E>=0;E--)v.push(x>>E*8&255);return{sid:e.sid,data:[117,b,...v],timestamp:Date.now(),isNegative:!1}}handleTransferData(e,s,a){if(![me.PROGRAMMING,me.EXTENDED].includes(this.state.currentSession))return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);if(!this.state.downloadInProgress&&!this.state.uploadInProgress)return this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR);if(!e.data||e.data.length<2)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const l=e.data[0],c=e.data.slice(1);if(l!==this.state.transferBlockCounter)return this.createNegativeResponseObj(e.sid,A.WRONG_BLOCK_SEQUENCE_COUNTER);const f=this.ecuConfig.maxBlockLength||4096;if(c.length>f)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(s!==void 0){const h=a??12,m=h===12?11:22,g=h===12?15.5:28;if(s<m)return this.createNegativeResponseObj(e.sid,147);if(s>g)return this.createNegativeResponseObj(e.sid,146)}return Math.random()<0?this.createNegativeResponseObj(e.sid,A.GENERAL_PROGRAMMING_FAILURE):(this.state.transferBlockCounter++,this.state.transferBlockCounter>255&&(this.state.transferBlockCounter=1),{sid:e.sid,data:[118,l],timestamp:Date.now(),isNegative:!1})}handleTransferExit(e){if(this.state.currentSession!==me.PROGRAMMING)return this.createNegativeResponseObj(e.sid,A.UPLOAD_DOWNLOAD_NOT_ACCEPTED);if(!this.state.securityUnlocked)return this.createNegativeResponseObj(e.sid,A.SECURITY_ACCESS_DENIED);if(!this.state.downloadInProgress&&!this.state.uploadInProgress)return this.createNegativeResponseObj(e.sid,A.REQUEST_SEQUENCE_ERROR);e.data&&e.data.length>0,this.state.downloadInProgress=!1,this.state.uploadInProgress=!1,this.state.transferBlockCounter=0;const s=[119];return{sid:e.sid,data:s,timestamp:Date.now(),isNegative:!1}}handleAccessTimingParameter(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=(e.subFunction&128)!==0,a=e.subFunction&127;if(![1,2,3].includes(a))return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);const l=1,c=5e3,f=50,h=65535;switch(a){case 1:{if(e.data&&e.data.length>0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(s)return{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0};const m=50,g=5e3;return{sid:e.sid,data:[195,a,1,m>>8&255,m&255,g>>8&255,g&255],timestamp:Date.now(),isNegative:!1}}case 2:{if(!e.data||e.data.length!==5)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const m=e.data[1]<<8|e.data[2],g=e.data[3]<<8|e.data[4];return m<l||m>c?this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE):g<m||g<f||g>h?this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE):(this.state.p2Server=m,this.state.p2StarServer=g,s?{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0}:{sid:e.sid,data:[195,a],timestamp:Date.now(),isNegative:!1})}case 3:{if(e.data&&e.data.length>0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);if(s)return{sid:e.sid,data:[],timestamp:Date.now(),isNegative:!1,suppressedResponse:!0};const m=this.state.p2Server,g=this.state.p2StarServer;return{sid:e.sid,data:[195,a,1,m>>8&255,m&255,g>>8&255,g&255],timestamp:Date.now(),isNegative:!1}}default:return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED)}}createNegativeResponseObj(e,s){return{sid:e,data:hk(e,s),timestamp:Date.now(),isNegative:!0,nrc:s}}handleControlDTCSetting(e){if(e.subFunction===void 0)return this.createNegativeResponseObj(e.sid,A.INCORRECT_MESSAGE_LENGTH);const s=(e.subFunction&128)!==0,a=e.subFunction&127;if(a!==1&&a!==2)return this.createNegativeResponseObj(e.sid,A.SUB_FUNCTION_NOT_SUPPORTED);if(this.state.currentSession===me.DEFAULT)return this.createNegativeResponseObj(e.sid,A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION);if(e.data&&e.data.length>0){const r=e.data[0];if(r>2&&r<128)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE);if(r>=128)return this.createNegativeResponseObj(e.sid,A.REQUEST_OUT_OF_RANGE)}return this.state.dtcRecordingEnabled=a===1,s?null:{sid:e.sid,data:[197,a],timestamp:Date.now(),isNegative:!1}}getState(){return{...this.state}}reset(){this.state={currentSession:me.DEFAULT,securityLevel:0,securityUnlocked:!1,securityAttempts:0,lastActivityTime:Date.now(),sessionTimeout:5e3,communicationEnabled:!0,communicationControlState:{normalMessages:{rxEnabled:!0,txEnabled:!0},networkManagement:{rxEnabled:!0,txEnabled:!0},subnets:new Map},activePeriodicTasks:[],downloadInProgress:!1,uploadInProgress:!1,transferBlockCounter:0,rpsEnabled:!1,rpsPowerDownTime:0,lastSeedRequestTime:0,lastSeedRequestLevel:0,lastInvalidKeyTime:0,securityDelayActive:!1,seedTimeout:5e3,securityDelayDuration:1e4,p2Server:50,p2StarServer:5e3,dtcRecordingEnabled:!0},this.currentSeed=[],this.expectedKey=[]}}const Sk={[A.GENERAL_REJECT]:{code:16,name:"General Reject",description:"The request was rejected for an unspecified reason.",severity:"error"},[A.SERVICE_NOT_SUPPORTED]:{code:17,name:"Service Not Supported",description:"The requested service is not supported by the ECU.",severity:"error"},[A.SUB_FUNCTION_NOT_SUPPORTED]:{code:18,name:"Sub-function Not Supported",description:"The requested sub-function is not supported.",severity:"error"},[A.INCORRECT_MESSAGE_LENGTH]:{code:19,name:"Incorrect Message Length",description:"The length of the message is invalid.",severity:"error"},[A.RESPONSE_TOO_LONG]:{code:20,name:"Response Too Long",description:"The response would exceed the maximum transmission length.",severity:"error"},[A.BUSY_REPEAT_REQUEST]:{code:33,name:"Busy - Repeat Request",description:"The ECU is busy. Please repeat the request.",severity:"warning"},[A.CONDITIONS_NOT_CORRECT]:{code:34,name:"Conditions Not Correct",description:"Conditions for performing the service are not met (e.g., Ignition OFF).",severity:"error"},[A.REQUEST_SEQUENCE_ERROR]:{code:36,name:"Request Sequence Error",description:"The service was requested in an incorrect sequence.",severity:"error"},[A.REQUEST_OUT_OF_RANGE]:{code:49,name:"Request Out of Range",description:"The requested data or parameter is out of range.",severity:"error"},[A.SECURITY_ACCESS_DENIED]:{code:51,name:"Security Access Denied",description:"Security access is required to perform this service.",severity:"error"},[A.INVALID_KEY]:{code:53,name:"Invalid Key",description:"The provided security key is invalid.",severity:"error"},[A.EXCEED_NUMBER_OF_ATTEMPTS]:{code:54,name:"Exceeded Number of Attempts",description:"Maximum number of security access attempts exceeded.",severity:"error"},[A.REQUIRED_TIME_DELAY_NOT_EXPIRED]:{code:55,name:"Required Time Delay Not Expired",description:"Wait time after failed security attempts has not expired.",severity:"warning"},[A.UPLOAD_DOWNLOAD_NOT_ACCEPTED]:{code:112,name:"Upload/Download Not Accepted",description:"The upload/download request was rejected.",severity:"error"},[A.TRANSFER_DATA_SUSPENDED]:{code:113,name:"Transfer Data Suspended",description:"Data transfer operation was suspended.",severity:"warning"},[A.GENERAL_PROGRAMMING_FAILURE]:{code:114,name:"General Programming Failure",description:"An error occurred during programming.",severity:"error"},[A.WRONG_BLOCK_SEQUENCE_COUNTER]:{code:115,name:"Wrong Block Sequence Counter",description:"Block sequence counter mismatch.",severity:"error"},[A.REQUEST_CORRECTLY_RECEIVED_RESPONSE_PENDING]:{code:120,name:"Response Pending",description:"Request received, but operation is taking longer. Please wait.",severity:"info"},[A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION]:{code:126,name:"Sub-function Not Supported in Active Session",description:"Sub-function not allowed in the current diagnostic session.",severity:"error"},[A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION]:{code:127,name:"Service Not Supported in Active Session",description:"Service not allowed in the current diagnostic session.",severity:"error"}},Ck=t=>{if(!t||t.length<3||t[0]!==127)return null;const e=t[1],s=t[2],a=Sk[s];return a?{sid:e,nrcCode:s,definition:a}:{sid:e,nrcCode:s,definition:{code:s,name:`Unknown NRC (0x${s.toString(16).toUpperCase().padStart(2,"0")})`,description:"An undefined negative response code was received.",severity:"error"}}},wk=[{id:61830,name:"activeDiagnosticSession",description:"Active Diagnostic Session",value:[1],format:"hex",requiredSession:[me.DEFAULT,me.EXTENDED,me.PROGRAMMING,me.SAFETY],requiredSecurity:0,readonly:!0},{id:61840,name:"vin",description:"Vehicle Identification Number",value:mk(),format:"ascii",requiredSession:[me.DEFAULT,me.EXTENDED,me.PROGRAMMING],requiredSecurity:0,writeSecurity:1,writeSession:[me.EXTENDED,me.PROGRAMMING],size:17},{id:61841,name:"vehicleManufacturerECUHardwareNumber",description:"ECU Hardware Number",value:"HW123456789",format:"ascii",requiredSession:[me.DEFAULT,me.EXTENDED,me.PROGRAMMING],requiredSecurity:0,readonly:!0},{id:61844,name:"systemSupplierECUSoftwareNumber",description:"ECU Software Number",value:"SW987654321",format:"ascii",requiredSession:[me.DEFAULT,me.EXTENDED,me.PROGRAMMING],requiredSecurity:0},{id:61845,name:"ecuManufacturingDateAndTime",description:"ECU Manufacturing Date",value:"20240315",format:"ascii",requiredSession:[me.DEFAULT,me.EXTENDED],requiredSecurity:0},{id:268,name:"engineRPM",description:"Engine RPM",value:0,unit:"RPM",format:"dec",requiredSession:[me.EXTENDED],requiredSecurity:0,size:2},{id:269,name:"vehicleSpeed",description:"Vehicle Speed",value:0,unit:"km/h",format:"dec",requiredSession:[me.EXTENDED],requiredSecurity:0,size:1},{id:261,name:"coolantTemp",description:"Engine Coolant Temperature",value:0,unit:"C",format:"dec",requiredSession:[me.EXTENDED],requiredSecurity:0},{id:322,name:"batteryVoltage",description:"Control Module Voltage",value:0,unit:"V",format:"dec",requiredSession:[me.EXTENDED],requiredSecurity:0},{id:272,name:"maf",description:"Mass Air Flow",value:0,unit:"g/s",format:"dec",requiredSession:[me.EXTENDED],requiredSecurity:0}],Ek=[{code:65793,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"high",severityByte:96,category:"powertrain",description:"Mass Air Flow Sensor Range/Performance Problem",occurrenceCounter:5,agingCounter:0,firstFailureTimestamp:Date.now()-864e5*3,mostRecentFailureTimestamp:Date.now()-36e5,snapshots:[{recordNumber:1,timestamp:Date.now()-36e5,data:{vehicleSpeed:65,engineRPM:2500,coolantTemp:92,throttlePosition:45,fuelLevel:60,batteryVoltage:14.2,engineLoad:55,intakeAirTemp:28,oilPressure:350,ambientTemp:22}}],extendedData:[{recordNumber:1,occurrenceCounter:5,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:65905,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!0,confirmedDTC:!1,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"medium",severityByte:64,category:"powertrain",description:"System Too Lean (Bank 1)",occurrenceCounter:2,agingCounter:1,firstFailureTimestamp:Date.now()-864e5,mostRecentFailureTimestamp:Date.now()-432e5,snapshots:[{recordNumber:1,timestamp:Date.now()-432e5,data:{vehicleSpeed:40,engineRPM:1800,coolantTemp:88,throttlePosition:30,fuelLevel:45,batteryVoltage:14,engineLoad:40,intakeAirTemp:25,oilPressure:320,ambientTemp:20}}],extendedData:[{recordNumber:1,occurrenceCounter:2,agingCounter:1,agedCounter:0,selfHealingCounter:1,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:66304,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"critical",severityByte:96,category:"powertrain",description:"Random/Multiple Cylinder Misfire Detected",occurrenceCounter:12,agingCounter:0,firstFailureTimestamp:Date.now()-864e5*5,mostRecentFailureTimestamp:Date.now()-18e5,snapshots:[{recordNumber:1,timestamp:Date.now()-18e5,data:{vehicleSpeed:80,engineRPM:3200,coolantTemp:95,throttlePosition:60,fuelLevel:55,batteryVoltage:14.1,engineLoad:70,intakeAirTemp:32,oilPressure:380,ambientTemp:25}}],extendedData:[{recordNumber:1,occurrenceCounter:12,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:66592,status:{testFailed:!0,testFailedThisOperationCycle:!1,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"medium",severityByte:64,category:"powertrain",description:"Catalyst System Efficiency Below Threshold (Bank 1)",occurrenceCounter:8,agingCounter:2,firstFailureTimestamp:Date.now()-864e5*14,mostRecentFailureTimestamp:Date.now()-864e5*2,snapshots:[{recordNumber:1,timestamp:Date.now()-864e5*2,data:{vehicleSpeed:55,engineRPM:2200,coolantTemp:90,throttlePosition:40,fuelLevel:70,batteryVoltage:14.3,engineLoad:50,intakeAirTemp:26,oilPressure:340,ambientTemp:18}}],extendedData:[{recordNumber:1,occurrenceCounter:8,agingCounter:2,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:66914,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"low",severityByte:32,category:"powertrain",description:"System Voltage Low",occurrenceCounter:3,agingCounter:5,firstFailureTimestamp:Date.now()-864e5*7,mostRecentFailureTimestamp:Date.now()-864e5*5,snapshots:[{recordNumber:1,timestamp:Date.now()-864e5*5,data:{vehicleSpeed:0,engineRPM:750,coolantTemp:45,throttlePosition:0,fuelLevel:80,batteryVoltage:11.2,engineLoad:15,intakeAirTemp:12,oilPressure:280,ambientTemp:8}}],extendedData:[{recordNumber:1,occurrenceCounter:3,agingCounter:5,agedCounter:0,selfHealingCounter:3,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:131125,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"high",severityByte:96,category:"chassis",description:"Left Front Wheel Speed Sensor Circuit",occurrenceCounter:4,agingCounter:0,firstFailureTimestamp:Date.now()-864e5*2,mostRecentFailureTimestamp:Date.now()-72e5,snapshots:[{recordNumber:1,timestamp:Date.now()-72e5,data:{vehicleSpeed:45,engineRPM:2e3,coolantTemp:85,throttlePosition:35,fuelLevel:50,batteryVoltage:14.1,engineLoad:45,intakeAirTemp:24,oilPressure:330,ambientTemp:20}}],extendedData:[{recordNumber:1,occurrenceCounter:4,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:131141,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!0,confirmedDTC:!1,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"critical",severityByte:96,category:"chassis",description:"ABS Hydraulic Pump Motor Circuit",occurrenceCounter:1,agingCounter:0,firstFailureTimestamp:Date.now()-36e5,mostRecentFailureTimestamp:Date.now()-36e5,snapshots:[{recordNumber:1,timestamp:Date.now()-36e5,data:{vehicleSpeed:30,engineRPM:1500,coolantTemp:75,throttlePosition:25,fuelLevel:65,batteryVoltage:13.8,engineLoad:30,intakeAirTemp:22,oilPressure:310,ambientTemp:18}}],extendedData:[{recordNumber:1,occurrenceCounter:1,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:135732,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"medium",severityByte:64,category:"chassis",description:"Steering Angle Sensor Malfunction",occurrenceCounter:6,agingCounter:3,firstFailureTimestamp:Date.now()-864e5*10,mostRecentFailureTimestamp:Date.now()-864e5*3,snapshots:[{recordNumber:1,timestamp:Date.now()-864e5*3,data:{vehicleSpeed:25,engineRPM:1200,coolantTemp:80,throttlePosition:20,fuelLevel:40,batteryVoltage:14,engineLoad:25,intakeAirTemp:20,oilPressure:300,ambientTemp:15}}],extendedData:[{recordNumber:1,occurrenceCounter:6,agingCounter:3,agedCounter:0,selfHealingCounter:2,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:196694,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!0,confirmedDTC:!1,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"low",severityByte:32,category:"body",description:"Driver Seat Position Sensor Circuit",occurrenceCounter:2,agingCounter:1,firstFailureTimestamp:Date.now()-864e5,mostRecentFailureTimestamp:Date.now()-432e5,snapshots:[{recordNumber:1,timestamp:Date.now()-432e5,data:{vehicleSpeed:0,engineRPM:0,coolantTemp:25,throttlePosition:0,fuelLevel:75,batteryVoltage:12.6,engineLoad:0,intakeAirTemp:22,oilPressure:0,ambientTemp:22}}],extendedData:[{recordNumber:1,occurrenceCounter:2,agingCounter:1,agedCounter:0,selfHealingCounter:1,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:200705,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"medium",severityByte:64,category:"body",description:"Headlight Low Beam Left Circuit Open",occurrenceCounter:7,agingCounter:0,firstFailureTimestamp:Date.now()-864e5*4,mostRecentFailureTimestamp:Date.now()-36e5,snapshots:[{recordNumber:1,timestamp:Date.now()-36e5,data:{vehicleSpeed:50,engineRPM:2100,coolantTemp:88,throttlePosition:40,fuelLevel:55,batteryVoltage:14.2,engineLoad:48,intakeAirTemp:18,oilPressure:340,ambientTemp:5}}],extendedData:[{recordNumber:1,occurrenceCounter:7,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:202753,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"critical",severityByte:96,category:"body",description:"Air Bag Warning Indicator Circuit Short to Ground",occurrenceCounter:3,agingCounter:0,firstFailureTimestamp:Date.now()-864e5,mostRecentFailureTimestamp:Date.now()-18e5,snapshots:[{recordNumber:1,timestamp:Date.now()-18e5,data:{vehicleSpeed:0,engineRPM:750,coolantTemp:45,throttlePosition:0,fuelLevel:60,batteryVoltage:14,engineLoad:12,intakeAirTemp:20,oilPressure:280,ambientTemp:18}}],extendedData:[{recordNumber:1,occurrenceCounter:3,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:262145,status:{testFailed:!0,testFailedThisOperationCycle:!0,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!0},severity:"critical",severityByte:96,category:"network",description:"High Speed CAN Communication Bus",occurrenceCounter:2,agingCounter:0,firstFailureTimestamp:Date.now()-72e5,mostRecentFailureTimestamp:Date.now()-6e5,snapshots:[{recordNumber:1,timestamp:Date.now()-6e5,data:{vehicleSpeed:70,engineRPM:2800,coolantTemp:92,throttlePosition:55,fuelLevel:45,batteryVoltage:14.1,engineLoad:62,intakeAirTemp:30,oilPressure:360,ambientTemp:24}}],extendedData:[{recordNumber:1,occurrenceCounter:2,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:262400,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!0,confirmedDTC:!1,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"high",severityByte:96,category:"network",description:'Lost Communication With ECM/PCM "A"',occurrenceCounter:1,agingCounter:0,firstFailureTimestamp:Date.now()-18e5,mostRecentFailureTimestamp:Date.now()-18e5,snapshots:[{recordNumber:1,timestamp:Date.now()-18e5,data:{vehicleSpeed:0,engineRPM:0,coolantTemp:65,throttlePosition:0,fuelLevel:70,batteryVoltage:12.4,engineLoad:0,intakeAirTemp:22,oilPressure:0,ambientTemp:20}}],extendedData:[{recordNumber:1,occurrenceCounter:1,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:262433,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!0,confirmedDTC:!1,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"high",severityByte:96,category:"network",description:"Lost Communication With ABS Control Module",occurrenceCounter:1,agingCounter:0,firstFailureTimestamp:Date.now()-36e5,mostRecentFailureTimestamp:Date.now()-36e5,snapshots:[{recordNumber:1,timestamp:Date.now()-36e5,data:{vehicleSpeed:40,engineRPM:1800,coolantTemp:85,throttlePosition:30,fuelLevel:55,batteryVoltage:13.8,engineLoad:40,intakeAirTemp:23,oilPressure:325,ambientTemp:19}}],extendedData:[{recordNumber:1,occurrenceCounter:1,agingCounter:0,agedCounter:0,selfHealingCounter:0,failedSinceLastClear:!0,testNotCompleted:!1}]},{code:262485,status:{testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!1,confirmedDTC:!0,testNotCompletedSinceLastClear:!1,testFailedSinceLastClear:!0,testNotCompletedThisOperationCycle:!1,warningIndicatorRequested:!1},severity:"medium",severityByte:64,category:"network",description:"Lost Communication With Instrument Panel Cluster",occurrenceCounter:4,agingCounter:2,firstFailureTimestamp:Date.now()-864e5*6,mostRecentFailureTimestamp:Date.now()-864e5*2,snapshots:[{recordNumber:1,timestamp:Date.now()-864e5*2,data:{vehicleSpeed:35,engineRPM:1600,coolantTemp:82,throttlePosition:28,fuelLevel:50,batteryVoltage:13.9,engineLoad:35,intakeAirTemp:21,oilPressure:315,ambientTemp:17}}],extendedData:[{recordNumber:1,occurrenceCounter:4,agingCounter:2,agedCounter:0,selfHealingCounter:2,failedSinceLastClear:!0,testNotCompleted:!1}]}],Nk=[{id:256,name:"readECUInformation",description:"Read ECU System Information",status:"idle",results:[1,0,0],requiredSession:me.DEFAULT,requiredSecurity:0},{id:257,name:"getSystemStatus",description:"Get System Health Status",status:"idle",results:[0],requiredSession:me.DEFAULT,requiredSecurity:0},{id:515,name:"checkProgrammingDependencies",description:"Check Programming Dependencies",status:"idle",results:[0],requiredSession:me.EXTENDED,requiredSecurity:0},{id:3841,name:"fuelPumpRelayTest",description:"Test Fuel Pump Relay activation",status:"idle",results:[1],requiredSession:me.EXTENDED,requiredSecurity:0,executionTime:2e3},{id:3842,name:"hornTest",description:"Test Horn Output",status:"idle",results:[1],requiredSession:me.EXTENDED,requiredSecurity:0,executionTime:1e3},{id:3843,name:"headlightTest",description:"Test Headlight Circuit",status:"idle",results:[1],requiredSession:me.EXTENDED,requiredSecurity:0,executionTime:1500},{id:61458,name:"injectorCylinder1Test",description:"Injector Cylinder 1 Test",status:"idle",results:[1,0],requiredSession:me.EXTENDED,requiredSecurity:1,executionTime:3e3},{id:61459,name:"throttleBodyTest",description:"Throttle Body Actuator Test",status:"idle",results:[1,0],requiredSession:me.EXTENDED,requiredSecurity:1,executionTime:5e3},{id:43981,name:"throttleCalibration",description:"Throttle Position Calibration (Long-Running)",status:"idle",results:[1,100],requiredSession:me.EXTENDED,requiredSecurity:1,executionTime:3e4},{id:61782,name:"o2SensorTest",description:"Oxygen Sensor Test",status:"idle",results:[1,0],requiredSession:me.EXTENDED,requiredSecurity:1,executionTime:1e4},{id:39338,name:"lambdaSensorTest",description:"Lambda Sensor Test (Can Fail)",status:"idle",results:[1],requiredSession:me.EXTENDED,requiredSecurity:1,executionTime:8e3},{id:514,name:"ecuSelfTest",description:"ECU Self Test",status:"idle",results:[1,255],requiredSession:[me.EXTENDED,me.PROGRAMMING],requiredSecurity:1,executionTime:15e3},{id:65280,name:"eraseFlashMemory",description:"Erase Flash Memory",status:"idle",results:[0],requiredSession:me.PROGRAMMING,requiredSecurity:1,supportedSubFunctions:[1,3],executionTime:1e4},{id:65281,name:"checkProgrammingIntegrity",description:"Check Programming Integrity",status:"idle",results:[1,1,2,3],requiredSession:me.PROGRAMMING,requiredSecurity:1},{id:65282,name:"verifyProgramming",description:"Verify Flash Programming",status:"idle",results:[1,0],requiredSession:me.PROGRAMMING,requiredSecurity:1,executionTime:2e4}],Rk=[{name:"Reserved",address:0,size:4096,accessible:!1,writable:!1,protected:!0,securityLevel:0,description:"Reserved memory region (inaccessible)"},{name:"Flash Code",address:4096,size:1044480,accessible:!0,writable:!0,protected:!1,securityLevel:1,description:"Application flash memory (programmable with security)",data:Array.from({length:256},(t,e)=>16+(e&255))},{name:"Calibration Public",address:1048576,size:1048576,accessible:!0,writable:!0,protected:!1,securityLevel:0,description:"Public calibration parameters (read without security)",data:Array.from({length:512},(t,e)=>32+(e&255))},{name:"Calibration OEM",address:2097152,size:1048576,accessible:!0,writable:!0,protected:!1,securityLevel:1,description:"OEM-specific calibration data (security required)",data:Array.from({length:256},(t,e)=>48+(e&255))},{name:"RAM",address:3145728,size:1048576,accessible:!0,writable:!1,protected:!1,securityLevel:1,description:"Runtime RAM data (security required)",data:Array.from({length:1024},(t,e)=>64+(e&255))},{name:"Bootloader",address:4194304,size:65536,accessible:!0,writable:!1,protected:!0,securityLevel:1,description:"Bootloader code (read-only, protected)",data:Array.from({length:128},(t,e)=>176+(e&255))}],cu={id:"ECU_001",name:"Engine Control Module",supportedServices:[ie.DIAGNOSTIC_SESSION_CONTROL,ie.ECU_RESET,ie.CLEAR_DIAGNOSTIC_INFORMATION,ie.READ_DTC_INFORMATION,ie.READ_DATA_BY_IDENTIFIER,ie.READ_MEMORY_BY_ADDRESS,ie.SECURITY_ACCESS,ie.COMMUNICATION_CONTROL,ie.READ_DATA_BY_PERIODIC_IDENTIFIER,ie.WRITE_DATA_BY_IDENTIFIER,ie.WRITE_MEMORY_BY_ADDRESS,ie.ROUTINE_CONTROL,ie.REQUEST_DOWNLOAD,ie.REQUEST_UPLOAD,ie.TRANSFER_DATA,ie.REQUEST_TRANSFER_EXIT,ie.TESTER_PRESENT,ie.ACCESS_TIMING_PARAMETER,ie.CONTROL_DTC_SETTING],dataIdentifiers:wk,dtcs:Ek,routines:Nk,memoryMap:Rk,securitySeed:[18,52,86,120],securityKey:[183,110,166,119],maxBlockLength:4096},Kh="uds_enhanced_scenarios",Ib="1.0.0";class Tk{async exportScenario(e,s="json"){if(s==="csv")return this.exportToCSV(e);const a=JSON.stringify(e,null,2);return new Blob([a],{type:"application/json"})}async exportToCSV(e){const s=[];e.requests.forEach((c,f)=>{const h=e.responses?.[f];s.push({step:f+1,timestamp:new Date(c.timestamp).toISOString(),service:XS(c.sid),sid:`0x${c.sid.toString(16).toUpperCase().padStart(2,"0")}`,subFunction:c.subFunction?`0x${c.subFunction.toString(16).toUpperCase().padStart(2,"0")}`:void 0,data:c.data?.map(m=>m.toString(16).toUpperCase().padStart(2,"0")).join(" ")||"",responseType:h?.isNegative?"negative":"positive",nrc:h?.nrc?`0x${h.nrc.toString(16).toUpperCase().padStart(2,"0")}`:void 0,responseData:h?.data.map(m=>m.toString(16).toUpperCase().padStart(2,"0")).join(" ")||"",timing:e.timings[f]||0})});const l=[["Step","Timestamp","Service","SID","SubFunction","Request Data","Response Type","NRC","Response Data","Timing (ms)"].join(","),...s.map(c=>[c.step,`"${c.timestamp}"`,`"${c.service}"`,c.sid,c.subFunction||"",`"${c.data}"`,c.responseType,c.nrc||"",`"${c.responseData}"`,c.timing].join(","))].join(`
`);return new Blob([l],{type:"text/csv"})}async importScenario(e){return new Promise((s,a)=>{const r=new FileReader;r.onload=l=>{try{const c=l.target?.result,f=JSON.parse(c),h=this.validateScenario(f);if(!h.isValid){a(new Error(`Invalid scenario: ${h.errors.join(", ")}`));return}h.scenario?s(h.scenario):a(new Error("Validation passed but no scenario returned"))}catch(c){a(new Error(`Failed to parse scenario file: ${c}`))}},r.onerror=()=>{a(new Error("Failed to read file"))},r.readAsText(e)})}validateScenario(e){const s=[],a=[];if(!e||typeof e!="object")return s.push("Scenario must be an object"),{isValid:!1,errors:s,warnings:a};const r=e;if(r.id||s.push("Missing required field: id"),r.name||s.push("Missing required field: name"),(!r.requests||!Array.isArray(r.requests))&&s.push("Missing or invalid field: requests"),r.createdAt||s.push("Missing required field: createdAt"),r.version||(a.push("No version specified, assuming current version"),r.version=Ib),r.metadata||(a.push("No metadata found"),r.metadata={description:r.description||"",tags:[],duration:0,totalRequests:r.requests?.length||0,successRate:0}),!r.timings||!Array.isArray(r.timings))a.push("No timing data found, using defaults"),r.timings=new Array(r.requests?.length||0).fill(100);else if(r.timings.length!==r.requests?.length)for(a.push("Timing array length mismatch, padding with defaults");r.timings.length<(r.requests?.length||0);)r.timings.push(100);r.requests&&Array.isArray(r.requests)&&r.requests.forEach((c,f)=>{typeof c.sid!="number"&&s.push(`Request ${f}: Invalid SID`),c.timestamp||(a.push(`Request ${f}: Missing timestamp, using current time`),c.timestamp=Date.now())}),r.responses&&Array.isArray(r.responses)&&r.responses.length!==r.requests?.length&&a.push("Response array length mismatch");const l=s.length===0;return{isValid:l,errors:s,warnings:a,scenario:l?r:void 0}}async saveScenario(e){const s=await this.getLibrary(),a=s.scenarios.findIndex(r=>r.id===e.id);a>=0?s.scenarios[a]=e:s.scenarios.push(e),s.lastModified=Date.now(),await this.saveLibrary(s)}async listScenarios(){return(await this.getLibrary()).scenarios}async getScenarioById(e){return(await this.getLibrary()).scenarios.find(a=>a.id===e)||null}async deleteScenario(e){const s=await this.getLibrary();s.scenarios=s.scenarios.filter(a=>a.id!==e),s.lastModified=Date.now(),await this.saveLibrary(s)}async updateScenario(e,s){const a=await this.getLibrary(),r=a.scenarios.findIndex(l=>l.id===e);if(r===-1)throw new Error(`Scenario not found: ${e}`);a.scenarios[r]={...a.scenarios[r],...s},a.lastModified=Date.now(),await this.saveLibrary(a)}createEnhancedScenario(e,s,a,r){const l=e.length,c=s.filter(g=>!g.isNegative).length,f=l>0?Math.round(c/l*100):0,h=e.length>0&&e[e.length-1]?e[e.length-1].timestamp-e[0].timestamp:0,m=r||this.calculateTimings(e);return{id:`scenario_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:a.name,description:a.description,version:Ib,metadata:{author:a.author,description:a.description,tags:a.tags||[],duration:h,totalRequests:l,successRate:f},requests:e,responses:s,timings:m,notes:a.notes,createdAt:Date.now()}}calculateTimings(e){const s=[];for(let a=0;a<e.length;a++)if(a===0)s.push(0);else{const r=e[a].timestamp-e[a-1].timestamp;s.push(Math.max(0,r))}return s}async getStatistics(){const e=await this.getLibrary(),s=e.scenarios;if(s.length===0)return{totalScenarios:0,totalRequests:0,averageSuccessRate:0,mostUsedServices:[],averageDuration:0,lastModified:e.lastModified};const a=s.reduce((h,m)=>h+m.metadata.totalRequests,0),r=s.reduce((h,m)=>h+m.metadata.successRate,0)/s.length,l=s.reduce((h,m)=>h+m.metadata.duration,0)/s.length,c=new Map;s.forEach(h=>{h.requests.forEach(m=>{c.set(m.sid,(c.get(m.sid)||0)+1)})});const f=Array.from(c.entries()).map(([h,m])=>({sid:h,count:m})).sort((h,m)=>m.count-h.count).slice(0,5);return{totalScenarios:s.length,totalRequests:a,averageSuccessRate:Math.round(r),mostUsedServices:f,averageDuration:Math.round(l),lastModified:e.lastModified}}async searchScenarios(e){const s=await this.getLibrary(),a=e.toLowerCase();return s.scenarios.filter(r=>{const l=r.name.toLowerCase().includes(a),c=r.metadata.description.toLowerCase().includes(a),f=r.metadata.tags.some(h=>h.toLowerCase().includes(a));return l||c||f})}async getLibrary(){try{const e=localStorage.getItem(Kh);if(e)return JSON.parse(e)}catch(e){console.error("Error loading scenario library:",e)}return{scenarios:[],lastModified:Date.now()}}async saveLibrary(e){try{localStorage.setItem(Kh,JSON.stringify(e))}catch(s){throw console.error("Error saving scenario library:",s),new Error("Failed to save scenario library. Storage may be full.")}}async clearAll(){localStorage.removeItem(Kh)}}const kn=new Tk;class kk{abortController=null;validateSequence(e){const s=[],a=[];e.steps.length===0&&s.push({stepId:"",stepOrder:0,message:"Sequence must contain at least one step",severity:"error"}),e.steps.forEach((c,f)=>{c.order!==f&&a.push(`Step ${f+1} has incorrect order value (${c.order} vs ${f})`),(c.request.sid===void 0||c.request.sid<0||c.request.sid>255)&&s.push({stepId:c.id,stepOrder:c.order,message:`Invalid Service ID: ${c.request.sid}`,severity:"error"}),c.delay<0&&s.push({stepId:c.id,stepOrder:c.order,message:"Delay cannot be negative",severity:"error"}),c.delay>6e4&&a.push(`Step ${c.order+1} has very long delay (${c.delay}ms)`);const h=this.extractVariableReferences(c.request);h.forEach(m=>{!e.variables[m]&&!m.startsWith("step")&&a.push(`Step ${c.order+1} references undefined variable: ${m}`)}),h.some(m=>m===`step${c.order}`)&&s.push({stepId:c.id,stepOrder:c.order,message:"Step cannot reference its own response",severity:"error"}),c.condition?.type==="if_value"&&!c.condition.expectedValue&&s.push({stepId:c.id,stepOrder:c.order,message:'Condition type "if_value" requires expectedValue',severity:"error"})});const r=e.steps.some(c=>[39,40,49,52,53,54,61,62].includes(c.request.sid)),l=e.steps.some(c=>c.request.sid===39);return r&&!l&&a.push("Sequence uses protected services without security access. Requests may fail."),{isValid:s.length===0,errors:s,warnings:a}}async executeSequence(e,s,a={}){this.abortController=new AbortController;const r={sequence:e,currentStep:0,isRunning:!0,isPaused:!1,results:[],variables:{...e.variables},startedAt:Date.now()};try{for(let l=0;l<e.steps.length&&!this.abortController.signal.aborted;l++){r.currentStep=l;const c=e.steps[l];c.breakpoint&&!a.skipBreakpoints&&(r.isPaused=!0,r.pausedAt=Date.now());const f=c.delay/(a.speed||1);if(f>0&&await Lr(f),!this.evaluateCondition(c,r.results[l-1]?.response)){r.results.push({step:c,response:{sid:c.request.sid,data:[],timestamp:Date.now(),isNegative:!1},success:!0,timestamp:Date.now(),duration:0,error:"Skipped due to condition"});continue}const m=await this.executeStep(c,r.variables,s,a.dryRun);if(r.results.push(m),m.success&&m.response.data&&(r.variables[`step${l}`]=m.response.data),!m.success&&(a.stopOnError??!c.continueOnError)){r.isRunning=!1,r.completedAt=Date.now(),r.totalDuration=r.completedAt-(r.startedAt||0);break}}return r.completedAt||(r.completedAt=Date.now(),r.totalDuration=r.completedAt-(r.startedAt||0)),r.isRunning=!1,r}catch(l){throw r.isRunning=!1,r.completedAt=Date.now(),r.totalDuration=r.completedAt-(r.startedAt||0),l}}async executeStep(e,s,a,r){const l=Date.now();try{const c=this.substituteVariables(e.request,s);if(r)return{step:e,response:{sid:c.sid,data:[0],timestamp:Date.now(),isNegative:!1},success:!0,timestamp:Date.now(),duration:Date.now()-l};const f=await a(c),h=this.validateResponse(f,e.expectedResponse);return{step:e,response:f,success:h,timestamp:Date.now(),duration:Date.now()-l,error:h?void 0:"Response did not match expected pattern"}}catch(c){return{step:e,response:{sid:e.request.sid,data:[],timestamp:Date.now(),isNegative:!0,nrc:16},success:!1,error:c instanceof Error?c.message:"Unknown error",timestamp:Date.now(),duration:Date.now()-l}}}evaluateCondition(e,s){if(!e.condition)return!0;if(!s)return e.condition.type==="always";switch(e.condition.type){case"always":return!0;case"if_positive":return!s.isNegative;case"if_negative":return s.isNegative===!0;case"if_value":return!e.condition.expectedValue||!s.data?!1:this.matchesDataPattern(s.data,e.condition.expectedValue);default:return!0}}substituteVariables(e,s){return{...e,data:e.data?[...e.data]:[]}}extractVariableReferences(e){return[]}matchesDataPattern(e,s){return e.length!==s.length?!1:s.every((a,r)=>a===-1||a===e[r])}validateResponse(e,s){return s?s.isPositive!==void 0&&(s.isPositive&&e.isNegative||!s.isPositive&&!e.isNegative)||s.nrc!==void 0&&e.nrc!==s.nrc?!1:s.dataPattern&&e.data?this.matchesDataPattern(e.data,s.dataPattern):!0:!0}abort(){this.abortController?.abort()}}const KS=new kk,Dk={[A.INCORRECT_MESSAGE_LENGTH]:{nrc:A.INCORRECT_MESSAGE_LENGTH,title:"Incorrect Message Length or Format",description:"The ECU expected a different number of bytes in your request. This is one of the most common errors when learning UDS, as each service has specific length requirements.",commonCauses:["Missing sub-function byte (many services require this)","Missing data identifier bytes (e.g., DID for service 0x22)","Extra bytes added to the request","Incomplete parameter specification","Wrong number of data bytes for the service"],troubleshootingSteps:["Check the service specification for the required byte count","Verify the sub-function byte is included if required for this service","Count your data bytes against the service requirements","Review hex input for incomplete byte pairs (e.g., 'F' instead of '0F')","Consult the service documentation for minimum/maximum length"],examples:[{incorrect:{sid:16,data:[],timestamp:0},correct:{sid:16,subFunction:3,data:[],timestamp:0},explanation:"Diagnostic Session Control (0x10) requires a sub-function byte to specify which session type (default, programming, or extended)."},{incorrect:{sid:34,data:[],timestamp:0},correct:{sid:34,data:[1,0],timestamp:0},explanation:"Read Data By Identifier (0x22) requires at least 2 bytes for the Data Identifier (DID). Here we're reading DID 0x0100."}],isoReference:"ISO 14229-1:2020 Section 7.5.4",relatedNRCs:[A.REQUEST_OUT_OF_RANGE,A.SUB_FUNCTION_NOT_SUPPORTED]},[A.SERVICE_NOT_SUPPORTED]:{nrc:A.SERVICE_NOT_SUPPORTED,title:"Service Not Supported",description:"The ECU does not support the requested service (SID). Different ECUs implement different subsets of the UDS specification based on their requirements.",commonCauses:["Using a service the ECU doesn't implement","Typo in the Service ID (SID)","Service requires a specific diagnostic session first","Service only available in certain ECU configurations"],troubleshootingSteps:["Verify the Service ID is correct (e.g., 0x10, not 0x01)","Check ECU documentation for supported services","Ensure you're in the correct diagnostic session","Try Read Supported Services (if available) to list what's supported","Verify the ECU model supports this service"],examples:[{incorrect:{sid:16,data:[153],timestamp:0},correct:{sid:16,subFunction:1,data:[],timestamp:0},explanation:"Invalid format can trigger this error. Use proper service format like 0x10 with sub-function 0x01 for Diagnostic Session Control."}],isoReference:"ISO 14229-1:2020 Section 7.5.2",relatedNRCs:[A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION,A.SUB_FUNCTION_NOT_SUPPORTED]},[A.SUB_FUNCTION_NOT_SUPPORTED]:{nrc:A.SUB_FUNCTION_NOT_SUPPORTED,title:"Sub-Function Not Supported",description:"The service is supported, but the specific sub-function you requested is not. Each service may have multiple sub-functions, but not all ECUs implement all of them.",commonCauses:["Invalid sub-function value for this service","Sub-function not implemented by this ECU","Sub-function requires specific conditions","Typo in sub-function byte"],troubleshootingSteps:["Check valid sub-function values for this service","Verify the sub-function is supported by the ECU","Ensure prerequisites are met (session, security)","Try common sub-functions like 0x01, 0x02, 0x03","Consult ECU documentation for supported sub-functions"],examples:[{incorrect:{sid:16,subFunction:153,data:[],timestamp:0},correct:{sid:16,subFunction:1,data:[],timestamp:0},explanation:"For Session Control, valid sub-functions are typically 0x01 (default), 0x02 (programming), 0x03 (extended)."}],isoReference:"ISO 14229-1:2020 Section 7.5.3",relatedNRCs:[A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION,A.REQUEST_OUT_OF_RANGE]},[A.CONDITIONS_NOT_CORRECT]:{nrc:A.CONDITIONS_NOT_CORRECT,title:"Conditions Not Correct",description:"The request is valid, but the current vehicle or ECU conditions don't allow this operation. This is a very common error that depends on the ECU's state.",commonCauses:["Vehicle is moving (some operations require vehicle at standstill)","Engine is running (some diagnostics require engine off)","Wrong diagnostic session (need programming session for flash)","Security access not granted","Voltage too low or too high","Temperature out of acceptable range"],troubleshootingSteps:["Check if a specific diagnostic session is required","Verify security access has been granted if needed","Ensure vehicle conditions are met (speed, engine state)","Check for active DTCs that might prevent the operation","Review timing requirements (some services need delays)","Verify ECU is in the correct state for this operation"],examples:[{incorrect:{sid:46,data:[1,0,255],timestamp:0},correct:{sid:16,subFunction:3,data:[],timestamp:0},explanation:"Before writing data (0x2E), you must enter extended diagnostic session (0x10 0x03) and possibly unlock security access."}],isoReference:"ISO 14229-1:2020 Section 7.5.5",relatedNRCs:[A.SECURITY_ACCESS_DENIED,A.REQUEST_SEQUENCE_ERROR]},[A.REQUEST_SEQUENCE_ERROR]:{nrc:A.REQUEST_SEQUENCE_ERROR,title:"Request Sequence Error",description:"The request was sent in the wrong order. Many UDS operations require a specific sequence of commands.",commonCauses:["Skipped required prerequisite steps","Sent operations out of order","Session timeout between steps","Missing security access before protected operation","Incorrect download/upload sequence"],troubleshootingSteps:["Review the required sequence for this operation","Ensure you've completed all prerequisite steps","Check if session needs to be established first","Verify security access is granted before protected operations","For download/upload: follow RequestTransferExit sequence","Ensure no timeout occurred between sequence steps"],examples:[{incorrect:{sid:54,data:[1,170,187],timestamp:0},correct:{sid:52,data:[0,68,0,1,0,0,0,16],timestamp:0},explanation:"Before Transfer Data (0x36), you must first send Request Download (0x34) to initiate the sequence."}],isoReference:"ISO 14229-1:2020 Section 7.5.7",relatedNRCs:[A.CONDITIONS_NOT_CORRECT,A.UPLOAD_DOWNLOAD_NOT_ACCEPTED]},[A.REQUEST_OUT_OF_RANGE]:{nrc:A.REQUEST_OUT_OF_RANGE,title:"Request Out of Range",description:"One or more parameters in your request are outside the valid range for this ECU.",commonCauses:["Data Identifier (DID) not supported","Memory address out of bounds","Parameter value exceeds maximum","Routine ID not recognized","Invalid address or size specification"],troubleshootingSteps:["Check if the DID/address is valid for this ECU","Verify parameter values are within acceptable ranges","Consult ECU documentation for valid ranges","Try a known-good DID like 0xF190 (VIN)","Ensure memory addresses are within ECU memory map"],examples:[{incorrect:{sid:34,data:[255,255],timestamp:0},correct:{sid:34,data:[241,144],timestamp:0},explanation:"DID 0xFFFF is not valid. Try standard DIDs like 0xF190 (VIN) or 0xF186 (Active Diagnostic Session)."}],isoReference:"ISO 14229-1:2020 Section 7.5.8",relatedNRCs:[A.INCORRECT_MESSAGE_LENGTH,A.SUB_FUNCTION_NOT_SUPPORTED]},[A.SECURITY_ACCESS_DENIED]:{nrc:A.SECURITY_ACCESS_DENIED,title:"Security Access Denied",description:"The requested service requires security access, which has not been granted. This protects critical ECU functions.",commonCauses:["Attempting protected operation without unlocking","Security access expired (session timeout)","Wrong security level","Failed previous security attempts"],troubleshootingSteps:["First request seed with Security Access (0x27 0x01)","Calculate the correct key from the seed","Send the key (0x27 0x02 [key bytes])","Then proceed with the protected operation","Ensure session hasn't timed out","Check if correct security level is used"],examples:[{incorrect:{sid:46,data:[1,0,255],timestamp:0},correct:{sid:39,subFunction:1,data:[],timestamp:0},explanation:"Before writing protected data, request security access: send 0x27 0x01 to get seed, then 0x27 0x02 with calculated key."}],isoReference:"ISO 14229-1:2020 Section 7.5.10",relatedNRCs:[A.INVALID_KEY,A.EXCEED_NUMBER_OF_ATTEMPTS]},[A.INVALID_KEY]:{nrc:A.INVALID_KEY,title:"Invalid Key",description:"The security key you provided doesn't match the expected key calculated from the seed.",commonCauses:["Incorrect key calculation algorithm","Wrong seed used for calculation","Byte order error in key","Encryption algorithm mismatch","Typo in key bytes"],troubleshootingSteps:["Verify the seed-to-key algorithm is correct","Check byte order (little-endian vs big-endian)","Ensure you're using the seed from the most recent request","Verify key length matches requirements","For learning: try simple algorithms (XOR, add constant)","Note: Real ECUs use proprietary algorithms"],examples:[{incorrect:{sid:39,subFunction:2,data:[0,0,0,0],timestamp:0},correct:{sid:39,subFunction:2,data:[18,52,86,120],timestamp:0},explanation:"The key must be calculated from the seed. In this simulator, keys are predefined for educational purposes."}],isoReference:"ISO 14229-1:2020 Section 7.5.12",relatedNRCs:[A.SECURITY_ACCESS_DENIED,A.EXCEED_NUMBER_OF_ATTEMPTS]},[A.EXCEED_NUMBER_OF_ATTEMPTS]:{nrc:A.EXCEED_NUMBER_OF_ATTEMPTS,title:"Exceeded Number of Attempts",description:"Too many failed security access attempts. The ECU has locked out further attempts to prevent brute-force attacks.",commonCauses:["Multiple incorrect key submissions","Testing too many keys without success","Automated tools trying many combinations"],troubleshootingSteps:["Wait for the lockout timer to expire (check REQUIRED_TIME_DELAY)","Power cycle the ECU to reset the counter","Verify your key calculation before submitting","Reduce the number of attempts during testing","In real systems: wait the required delay period"],examples:[{incorrect:{sid:39,subFunction:2,data:[255,255,255,255],timestamp:0},correct:{sid:17,subFunction:1,data:[],timestamp:0},explanation:"After too many failed attempts, you must reset with ECU Reset (0x11 0x01) or wait for the timeout."}],isoReference:"ISO 14229-1:2020 Section 7.5.13",relatedNRCs:[A.REQUIRED_TIME_DELAY_NOT_EXPIRED,A.INVALID_KEY]},[A.REQUIRED_TIME_DELAY_NOT_EXPIRED]:{nrc:A.REQUIRED_TIME_DELAY_NOT_EXPIRED,title:"Required Time Delay Not Expired",description:"You must wait before retrying this operation. This prevents rapid repeated attempts and gives systems time to stabilize.",commonCauses:["Sending requests too quickly after failure","Not waiting after security lockout","Insufficient delay between routine executions","Session change too soon after previous operation"],troubleshootingSteps:["Wait the required delay period (typically 1-10 seconds)","Check ECU documentation for specific timing requirements","Add delays between security access attempts","Allow time for operations to complete","Monitor the timing between requests"],examples:[{incorrect:{sid:39,subFunction:1,data:[],timestamp:0},correct:{sid:17,subFunction:1,data:[],timestamp:0},explanation:"If locked out, you must wait or reset with ECU Reset (0x11 0x01), then retry security access when unlocked."}],isoReference:"ISO 14229-1:2020 Section 7.5.14",relatedNRCs:[A.EXCEED_NUMBER_OF_ATTEMPTS,A.BUSY_REPEAT_REQUEST]},[A.BUSY_REPEAT_REQUEST]:{nrc:A.BUSY_REPEAT_REQUEST,title:"Busy - Repeat Request",description:"The ECU is temporarily busy processing another operation. This is usually a temporary condition.",commonCauses:["Previous operation still in progress","ECU performing internal tasks","Flash memory operations ongoing","Other diagnostic requests being processed"],troubleshootingSteps:["Wait a short time (100-500ms) and retry","Check if a long operation is in progress","Ensure only one diagnostic session is active","Monitor for response pending (0x78)","Increase delay between requests"],examples:[{incorrect:{sid:34,data:[241,144],timestamp:0},correct:{sid:34,data:[241,144],timestamp:500},explanation:"Simply retry the same request after a delay. The ECU should respond once it's no longer busy."}],isoReference:"ISO 14229-1:2020 Section 7.5.6",relatedNRCs:[A.REQUEST_CORRECTLY_RECEIVED_RESPONSE_PENDING]},[A.GENERAL_REJECT]:{nrc:A.GENERAL_REJECT,title:"General Reject",description:"The request was rejected for an unspecified reason. This is a catch-all error code when no specific NRC applies.",commonCauses:["Malformed request structure","Internal ECU error","Unknown protocol violation","ECU in fault state"],troubleshootingSteps:["Verify the request format is correct","Check for any active ECU faults","Try a simpler request to verify communication","Reset the ECU if persistent","Review recent operations that might have caused issues"],examples:[{incorrect:{sid:34,data:[16,16],timestamp:0},correct:{sid:16,subFunction:1,data:[],timestamp:0},explanation:"Send proper service requests. Use standard services like 0x10 for session control or 0x22 for reading data."}],isoReference:"ISO 14229-1:2020 Section 7.5.1",relatedNRCs:[]},[A.RESPONSE_TOO_LONG]:{nrc:A.RESPONSE_TOO_LONG,title:"Response Too Long",description:"The ECU's response would exceed the maximum message length supported by the transport protocol.",commonCauses:["Requesting too much data at once","Reading large memory blocks","DID with very large data","Transport layer limitations"],troubleshootingSteps:["Request smaller data chunks","Use multiple requests to get data in parts","Check transport protocol max length (CAN: ~4KB)","For memory: reduce address length or size","Use periodic reading for large datasets"],examples:[{incorrect:{sid:35,data:[1,0,0,16,0],timestamp:0},correct:{sid:35,data:[1,0,0,1,0],timestamp:0},explanation:"Reduce memory read size. Instead of reading 0x1000 bytes, read 0x0100 bytes at a time."}],isoReference:"ISO 14229-1:2020 Section 7.5.15",relatedNRCs:[A.REQUEST_OUT_OF_RANGE]},[A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION]:{nrc:A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION,title:"Sub-Function Not Supported in Active Session",description:"The sub-function is valid, but not allowed in the current diagnostic session. You need to change to a different session.",commonCauses:["Trying extended features in default session","Programming operations in non-programming session","Feature restricted to specific sessions"],troubleshootingSteps:["Check which session you're currently in","Switch to the required session (0x10)","Extended session (0x03) for most diagnostic operations","Programming session (0x02) for flash operations","Verify session requirements in documentation"],examples:[{incorrect:{sid:46,data:[1,0,255],timestamp:0},correct:{sid:16,subFunction:3,data:[],timestamp:0},explanation:"First switch to extended session: 0x10 0x03, then you can write data with 0x2E."}],isoReference:"ISO 14229-1:2020 Section 7.5.18",relatedNRCs:[A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION,A.CONDITIONS_NOT_CORRECT]},[A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION]:{nrc:A.SERVICE_NOT_SUPPORTED_IN_ACTIVE_SESSION,title:"Service Not Supported in Active Session",description:"The service exists, but is not available in the current diagnostic session.",commonCauses:["Using diagnostic services in default session","Flash services outside programming session","Session restrictions for safety"],troubleshootingSteps:["Identify the current active session","Change to appropriate session with 0x10","Extended session (0x03) for diagnostics","Programming session (0x02) for reprogramming","Check service availability per session type"],examples:[{incorrect:{sid:52,data:[0,68],timestamp:0},correct:{sid:16,subFunction:2,data:[],timestamp:0},explanation:"Request Download (0x34) requires programming session. First send: 0x10 0x02."}],isoReference:"ISO 14229-1:2020 Section 7.5.19",relatedNRCs:[A.SUB_FUNCTION_NOT_SUPPORTED_IN_ACTIVE_SESSION]},[A.UPLOAD_DOWNLOAD_NOT_ACCEPTED]:{nrc:A.UPLOAD_DOWNLOAD_NOT_ACCEPTED,title:"Upload/Download Not Accepted",description:"The ECU rejected the upload or download request. This could be due to various reasons including security, conditions, or parameter issues.",commonCauses:["Security access not granted","Wrong diagnostic session","Invalid memory address or size","ECU not ready for transfer","Previous transfer not completed"],troubleshootingSteps:["Ensure you're in programming session (0x10 0x02)","Verify security access is unlocked (0x27)","Check memory address and size are valid","Complete any pending transfers first","Verify ECU conditions allow programming"],examples:[{incorrect:{sid:52,data:[0,68,255,255,255,255],timestamp:0},correct:{sid:39,subFunction:1,data:[],timestamp:0},explanation:"Before download, unlock security: 0x27 0x01 (get seed), then 0x27 0x02 [key], then 0x34."}],isoReference:"ISO 14229-1:2020 Section 7.5.20",relatedNRCs:[A.REQUEST_SEQUENCE_ERROR,A.SECURITY_ACCESS_DENIED]},[A.TRANSFER_DATA_SUSPENDED]:{nrc:A.TRANSFER_DATA_SUSPENDED,title:"Transfer Data Suspended",description:"An ongoing data transfer has been suspended. This usually happens when conditions change during a transfer.",commonCauses:["ECU detected fault during transfer","Voltage drop during programming","Communication interrupted","Timing violation during transfer"],troubleshootingSteps:["Check ECU power supply is stable","Verify communication is reliable","May need to restart the transfer sequence","Address any error conditions","Ensure consistent timing between blocks"],examples:[{incorrect:{sid:54,data:[2,170,187],timestamp:0},correct:{sid:52,data:[0,68,0,1,0,0,0,16],timestamp:0},explanation:"Restart the download: Request Download (0x34), then Transfer Data (0x36), then Request Transfer Exit (0x37)."}],isoReference:"ISO 14229-1:2020 Section 7.5.21",relatedNRCs:[A.WRONG_BLOCK_SEQUENCE_COUNTER,A.GENERAL_PROGRAMMING_FAILURE]},[A.GENERAL_PROGRAMMING_FAILURE]:{nrc:A.GENERAL_PROGRAMMING_FAILURE,title:"General Programming Failure",description:"A programming operation failed. This is a serious error that occurred during flash programming.",commonCauses:["Flash write failure","Memory verification error","Corrupted data","Power loss during programming","Invalid firmware image"],troubleshootingSteps:["Verify data integrity before programming","Ensure stable power supply","Check memory is not write-protected","Verify firmware image is correct","May need ECU recovery procedure","In simulator: restart the programming sequence"],examples:[{incorrect:{sid:54,data:[1,255,255,255],timestamp:0},correct:{sid:55,data:[],timestamp:0},explanation:"After programming failure, properly exit with Request Transfer Exit (0x37), then diagnose the issue."}],isoReference:"ISO 14229-1:2020 Section 7.5.22",relatedNRCs:[A.TRANSFER_DATA_SUSPENDED]},[A.WRONG_BLOCK_SEQUENCE_COUNTER]:{nrc:A.WRONG_BLOCK_SEQUENCE_COUNTER,title:"Wrong Block Sequence Counter",description:"During data transfer, the block sequence counter doesn't match what the ECU expected. Each block must be numbered sequentially.",commonCauses:["Skipped a block number","Repeated a block number","Counter overflow","Starting with wrong initial value"],troubleshootingSteps:["Block sequence starts at 1 (not 0)","Increment by 1 for each block","Counter wraps from 0xFF to 0x00","Don't skip or repeat numbers","Track the counter carefully"],examples:[{incorrect:{sid:54,data:[3,170,187],timestamp:0},correct:{sid:54,data:[1,170,187],timestamp:0},explanation:"First Transfer Data block must have counter 0x01. Next is 0x02, then 0x03, etc."}],isoReference:"ISO 14229-1:2020 Section 7.5.23",relatedNRCs:[A.TRANSFER_DATA_SUSPENDED,A.REQUEST_SEQUENCE_ERROR]},[A.REQUEST_CORRECTLY_RECEIVED_RESPONSE_PENDING]:{nrc:A.REQUEST_CORRECTLY_RECEIVED_RESPONSE_PENDING,title:"Request Correctly Received - Response Pending",description:"The ECU received your request and is processing it, but needs more time. This is actually a positive indicator that the ECU is working on your request.",commonCauses:["Long-running operation in progress","Flash operations","Complex calculations","Routine execution taking time"],troubleshootingSteps:["Wait for the final response - don't resend","ECU will send final response when ready","This is normal for slow operations","Don't interpret this as an error","Timeout should be longer than default"],examples:[{incorrect:{sid:49,subFunction:1,data:[18,52],timestamp:0},correct:{sid:49,subFunction:1,data:[18,52],timestamp:0},explanation:"Same request is fine - ECU is telling you to wait. You'll get the actual response when the routine completes."}],isoReference:"ISO 14229-1:2020 Section 7.5.24",relatedNRCs:[A.BUSY_REPEAT_REQUEST]}},jk=[{id:"first-error",name:"First Steps",description:"Encountered your first NRC error",icon:"",condition:{type:"encounter",threshold:1}},{id:"error-variety",name:"Error Explorer",description:"Encountered 5 different types of NRC errors",icon:"",condition:{type:"variety",threshold:5}},{id:"error-master",name:"Error Master",description:"Encountered 10 different types of NRC errors",icon:"",condition:{type:"variety",threshold:10}},{id:"first-resolution",name:"Problem Solver",description:"Successfully resolved your first NRC error",icon:"",condition:{type:"resolve",threshold:1}},{id:"resolution-streak",name:"Quick Learner",description:"Resolved 5 NRC errors",icon:"",condition:{type:"resolve",threshold:5}},{id:"resolution-expert",name:"UDS Expert",description:"Resolved 10 NRC errors",icon:"",condition:{type:"resolve",threshold:10}}],_k=t=>({encounteredNRCs:Array.from(t.encounteredNRCs),resolvedNRCs:Array.from(t.resolvedNRCs),totalErrors:t.totalErrors,totalResolutions:t.totalResolutions,badges:t.badges,lastUpdated:t.lastUpdated}),Ok=t=>({encounteredNRCs:new Set(t.encounteredNRCs),resolvedNRCs:new Set(t.resolvedNRCs),totalErrors:t.totalErrors,totalResolutions:t.totalResolutions,badges:t.badges,lastUpdated:t.lastUpdated}),uu=t=>`0x${t.toString(16).toUpperCase().padStart(2,"0")}`,Ak=t=>t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),Mk=t=>{if(t===void 0)return;const e=Object.entries(A).find(([,a])=>a===t);if(!e)return;const s=e[0].replace(/_/g," ");return Ak(s)},ZS=w.createContext(void 0),Lk=({children:t})=>{const[e]=w.useState(()=>new vk(cu)),[s,a]=w.useState(e.getState());rt.useEffect(()=>(console.log("[UDSContext] initialized"),e.setResponseCallback(K=>{const re={sid:ie.READ_DATA_BY_PERIODIC_IDENTIFIER,data:K.data.length>1?[K.data[1]]:[],timestamp:K.timestamp};c(le=>[...le,{request:re,response:K}])}),()=>{e.cleanup()}),[e]);const r=()=>localStorage.getItem("uds_demo_seen")?[]:(localStorage.setItem("uds_demo_seen","true"),[{request:{sid:34,data:[241,144],timestamp:Date.now()-100},response:{sid:34,data:[98,241,144,49,68,52,71,80,48,48,82,53,53,66,49,50,51,52,53,54],timestamp:Date.now(),isNegative:!1}}]),[l,c]=w.useState(r),[f,h]=w.useState([]),[m,g]=w.useState({isReplaying:!1,currentStep:0,totalSteps:0,speed:1,isPaused:!1}),x=w.useRef(null),b=w.useRef(null),[v,C]=w.useState({requestsSent:0,successRate:0,servicesUsed:0,activeDTCs:0}),E=w.useCallback(K=>{if(typeof window>"u")return;window.addToast?.(K)},[]),N=()=>{const K=localStorage.getItem("uds_learning_progress");if(K)try{const re=JSON.parse(K);return Ok(re)}catch{}return{encounteredNRCs:new Set,resolvedNRCs:new Set,totalErrors:0,totalResolutions:0,badges:jk.map(re=>({...re})),lastUpdated:Date.now()}},[R,D]=w.useState(N),[j,O]=w.useState([]),[k,V]=w.useState(),M=w.useRef(null),[_,W]=w.useState(12),[X,ce]=w.useState(12),[F,Z]=w.useState(5),[se,oe]=w.useState("ON"),[z,G]=w.useState("NONE"),[I,ue]=w.useState(12.4),[ve,U]=w.useState(.5),[$,te]=w.useState(!0),[ae]=w.useState(!1),[Ce,Ne]=w.useState(0),[pe,Oe]=w.useState(null),Ae=w.useRef(null),[Ht,cn]=w.useState({gearPosition:"P",vehicleSpeedKph:0,engineRpm:0,coolantTemperature:88,fuelLevel:72,oilPressure:45}),tn=w.useCallback((K,re)=>{cn(le=>({...le,[K]:re}))},[]);rt.useEffect(()=>{console.log("[UDSContext] Power State Changed:",se),te(se!=="OFF")},[se]),rt.useEffect(()=>{const K=setInterval(()=>{if(z==="SHORT_GND"){ue(wt=>wt*.7),U(Math.random()*5+15);return}if(z==="OPEN_CIRCUIT"){ue(wt=>wt+(X-wt)*.3),U(0);return}if(se==="OFF"){ue(wt=>Math.max(0,wt*.7)),U(wt=>Math.max(0,wt*.7));return}let re=X,le=0;se==="ACC"?le=.2:se==="ON"?le=.5:se==="CRANKING"&&(le=8);const he=se==="ON"?(Math.random()-.5)*.2:.05;let fe=re+he;const _e=(Math.random()-.5)*.05;let Mt=le+_e;fe=Math.max(0,Math.min(36,fe)),Mt>F&&(Mt=F,fe=fe*(F/(le+.001))),ue(wt=>wt+(fe-wt)*.3),U(wt=>wt+(Mt-wt)*.3)},1e3);return()=>clearInterval(K)},[se,z,X,F,_]);const ge=w.useCallback(()=>{oe(K=>K==="OFF"?"ON":"OFF")},[]),Ye=w.useCallback(async()=>{if(se==="OFF")return;const K=se;oe("CRANKING");const re=Date.now(),le=1500,he=setInterval(()=>{const fe=Date.now()-re;if(fe>=le){clearInterval(he),oe(K);return}let _e=12;fe<300?_e=12-fe/300*6:fe<1e3?_e=6+Math.random()*1:_e=7+(fe-1e3)/500*(X-7),ue(_e),U(8+Math.random()*2)},50)},[se,X]),Ze=w.useCallback(K=>{K==="hard"?(ue(8),U(3),setTimeout(()=>{ue(X),U(.5)},200)):K==="keyOffOn"&&(ue(0),U(0),setTimeout(()=>{ue(X),U(.5)},500))},[X]),nn=w.useCallback(()=>{if(!ae||Ce===0){Oe(null);return}const K=Ce*10;Oe(K),Ae.current&&clearInterval(Ae.current);const re=Date.now();Ae.current=window.setInterval(()=>{const le=Date.now()-re,he=Math.max(0,K-le);he<=0?(clearInterval(Ae.current),Ae.current=null,Oe(null),e.reset(),a(e.getState()),E({type:"info",message:"RPS Power-Down Complete",description:`ECU gracefully shut down after ${K}ms`,duration:4e3})):Oe(he)},50)},[ae,Ce,e,E]);rt.useEffect(()=>{if(!$)return;const re=setInterval(()=>{const le=e.getState();if(le.currentSession===1)return;const he=Date.now()-le.lastActivityTime,fe=le.sessionTimeout;he>=fe&&(console.log("[S3 Timeout] Session timed out, reverting to Default"),e.reset(),a(e.getState()),E({type:"warning",message:"Session Timeout (S3)",description:"Reverted to Default session due to inactivity",duration:5e3}))},1e3);return()=>clearInterval(re)},[$,e,E]),rt.useEffect(()=>{const K=_k(R);localStorage.setItem("uds_learning_progress",JSON.stringify(K))},[R]),rt.useEffect(()=>{const K=l.length,re=l.filter(_e=>!_e.response.isNegative).length,le=K>0?Math.round(re/K*100):0,he=new Set(l.map(_e=>_e.request.sid)).size;C({requestsSent:K,successRate:le,servicesUsed:he,activeDTCs:5})},[l]);const qt=w.useCallback(async K=>{if(console.log("[UDSContext]  sendRequest called with:"),console.log("  - SID:",`0x${K.sid.toString(16).toUpperCase()}`),console.log("  - Data:",K.data),console.log("  - Data Length:",K.data?.length),console.log("  - Data Type:",typeof K.data,Array.isArray(K.data)?"(Array)":"(Not Array)"),K.data&&console.log("  - Data Bytes:",K.data.map(le=>`0x${le.toString(16).toUpperCase().padStart(2,"0")}`).join(" ")),!(se!=="OFF")){await new Promise(he=>setTimeout(he,1e3));const le=new Error("Request timed out - ECU is powered off");throw E({type:"error",message:"Request Timed Out",description:"No response received from ECU (Ignition OFF)",duration:5e3}),le}try{const le=se==="ON"||se==="CRANKING";console.log("[UDSContext]  Passing to simulator.processRequest..."),console.log("  - Request data before simulator:",K.data?.length,"bytes");const he=await e.processRequest(K,le,I,_);if(console.log("[UDSContext]  Received response from simulator:"),console.log("  - Is Negative:",he.isNegative),console.log("  - Response Data:",he.data),he.nrc&&console.log("  - NRC:",`0x${he.nrc.toString(16).toUpperCase().padStart(2,"0")}`),c(fe=>[...fe,{request:K,response:he}]),a(e.getState()),he.isNegative)if(he.data.length>=3&&he.data[2]===120)console.log("NRC 0x78: Response Pending - Waiting...");else{const fe=Ck(he.data);if(fe)E({type:fe.definition.severity,message:`${fe.definition.name} (0x${fe.nrcCode.toString(16).toUpperCase().padStart(2,"0")})`,description:fe.definition.description,duration:7e3});else{const _e=he.nrc!==void 0?uu(he.nrc):void 0,Mt=Mk(he.nrc);E({type:"error",message:_e?`Negative response ${_e}`:"Negative response received",description:Mt?`${Mt} for service ${uu(K.sid)}`:`Service ${uu(K.sid)} returned a negative response.`,duration:7e3})}}else K.sid!==17&&(K.sid===39&&K.subFunction&&K.subFunction%2===0?E({type:"success",message:"Security Access Granted",description:"ECU Unlocked",duration:4500}):E({type:"success",message:`Response for service ${uu(K.sid)}`,description:`Received ${he.data.length} byte${he.data.length===1?"":"s"} from ECU.`,duration:4500}));return he}catch(le){const he=le instanceof Error?le.message:"Unexpected error while sending request.";throw E({type:"error",message:"Request failed",description:he,duration:7e3}),le}},[e,E,se,I,_]),Zn=w.useCallback(()=>{c([])},[]),Jn=w.useCallback(()=>{e.reset(),a(e.getState()),c([])},[e]),go=w.useCallback((K,re)=>{const le={id:`scenario_${Date.now()}`,name:K,description:re,requests:l.map(fe=>fe.request),createdAt:Date.now()},he=JSON.parse(localStorage.getItem("uds_scenarios")||"[]");return he.push(le),localStorage.setItem("uds_scenarios",JSON.stringify(he)),le},[l]),yo=w.useCallback(()=>{Jn()},[Jn]),Qi=w.useCallback(async(K,re,le,he)=>{if(re>=K.requests.length){g(Gt=>({...Gt,isReplaying:!1,currentStep:K.requests.length}));return}const fe=K.requests[re],Mt=(K.timings[re]||100)/le;if(await Lr(Math.max(10,Mt)),he)return;const wt=await e.processRequest(fe,!0);c(Gt=>[...Gt,{request:fe,response:wt}]),a(e.getState()),g(Gt=>({...Gt,currentStep:re+1})),re+1<K.requests.length&&!he?x.current=window.setTimeout(()=>{Qi(K,re+1,le,he)},0):re+1>=K.requests.length&&g(Gt=>({...Gt,isReplaying:!1}))},[e]),wd=w.useCallback(async K=>{const re=l.map(_e=>_e.request),le=l.map(_e=>_e.response),he=kn.createEnhancedScenario(re,le,K);await kn.saveScenario(he);const fe=await kn.listScenarios();return h(fe),he},[l]),Ot=w.useCallback(K=>{c([]),Jn(),b.current=K,g({isReplaying:!0,currentStep:0,totalSteps:K.requests.length,speed:1,isPaused:!1,scenarioId:K.id}),Qi(K,0,1,!1)},[Jn,Qi]),Ed=w.useCallback(async K=>{const re=await kn.getScenarioById(K);re&&Ot(re)},[Ot]),$l=w.useCallback(async K=>{await kn.deleteScenario(K);const re=await kn.listScenarios();h(re)},[]),Yl=w.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),g(K=>({...K,isPaused:!0}))},[]),Fa=w.useCallback(()=>{b.current&&m.isPaused&&(g(K=>({...K,isPaused:!1})),Qi(b.current,m.currentStep,m.speed,!1))},[m,Qi]),Nd=w.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),b.current=null,g({isReplaying:!1,currentStep:0,totalSteps:0,speed:1,isPaused:!1})},[]),Ql=w.useCallback(K=>{g(re=>({...re,speed:K}))},[]),Rd=w.useCallback(async()=>{if(b.current&&m.currentStep<m.totalSteps){const re=b.current.requests[m.currentStep],le=await e.processRequest(re,!0);c(he=>[...he,{request:re,response:le}]),a(e.getState()),g(he=>({...he,currentStep:he.currentStep+1}))}},[e,m]),Td=w.useCallback(()=>{m.currentStep>0&&(c(K=>K.slice(0,-1)),g(K=>({...K,currentStep:K.currentStep-1})))},[m]),_s=w.useCallback(K=>{D(re=>{const le={...re,encounteredNRCs:new Set(re.encounteredNRCs).add(K),totalErrors:re.totalErrors+1,lastUpdated:Date.now()},he=re.badges.map(fe=>{if(fe.earnedAt)return fe;let _e=!1;switch(fe.condition.type){case"encounter":_e=le.totalErrors>=fe.condition.threshold;break;case"variety":_e=le.encounteredNRCs.size>=fe.condition.threshold;break}return _e?{...fe,earnedAt:Date.now()}:fe});return{...le,badges:he}})},[]),sn=w.useCallback(K=>{D(re=>{const le={...re,resolvedNRCs:new Set(re.resolvedNRCs).add(K),totalResolutions:re.totalResolutions+1,lastUpdated:Date.now()},he=re.badges.map(fe=>{if(fe.earnedAt)return fe;let _e=!1;switch(fe.condition.type){case"resolve":_e=le.totalResolutions>=fe.condition.threshold;break}return _e?{...fe,earnedAt:Date.now()}:fe});return{...le,badges:he}})},[]);rt.useEffect(()=>{if(l.length===0)return;const K=l[l.length-1];K.response.isNegative&&K.response.nrc&&_s(K.response.nrc)},[l,_s]);const ps=()=>{const K=localStorage.getItem("uds_tutorial_progress");if(K)try{return JSON.parse(K)}catch(re){console.error("Failed to parse tutorial progress:",re)}return{lessons:{},totalLessons:0,completedLessons:0,inProgressLessons:0,totalTimeSpent:0,currentStreak:0,longestStreak:0,lastActivityDate:new Date().toISOString().split("T")[0],badges:[],totalBadges:0,earnedBadges:0,serviceMastery:{},preferences:{autoStartNextLesson:!0,showHintsAutomatically:!0,difficultyPreference:"beginner"}}},[At,xo]=w.useState(ps);rt.useEffect(()=>{localStorage.setItem("uds_tutorial_progress",JSON.stringify(At))},[At]);const kd=w.useCallback(K=>{xo(re=>{const le=re.lessons[K]||{lessonId:K,status:"not-started",theoryCompleted:!1,exerciseCompleted:!1,quizCompleted:!1,quizAttempts:0,quizBestScore:0,hintsUsed:0,timeSpent:0,startedAt:Date.now(),lastAccessedAt:Date.now()},he=re.lessons[K]?.status==="not-started"||!re.lessons[K];return{...re,lessons:{...re.lessons,[K]:{...le,status:"in-progress",lastAccessedAt:Date.now()}},inProgressLessons:he?re.inProgressLessons+1:re.inProgressLessons}})},[]),Dd=w.useCallback((K,re)=>{xo(le=>{const he=le.lessons[K];if(!he)return le;const fe=he.status==="in-progress",_e=he.status!=="completed";return{...le,lessons:{...le.lessons,[K]:{...he,status:"completed",completedAt:Date.now(),quizBestScore:Math.max(he.quizBestScore,re)}},completedLessons:_e?le.completedLessons+1:le.completedLessons,inProgressLessons:fe?le.inProgressLessons-1:le.inProgressLessons}})},[]),Va=w.useCallback((K,re)=>{xo(le=>({...le,lessons:{...le.lessons,[K]:{...le.lessons[K]||{lessonId:K,status:"not-started",theoryCompleted:!1,exerciseCompleted:!1,quizCompleted:!1,quizAttempts:0,quizBestScore:0,hintsUsed:0,timeSpent:0,startedAt:Date.now(),lastAccessedAt:Date.now()},...re,lastAccessedAt:Date.now()}},totalTimeSpent:le.totalTimeSpent+(re.timeSpent||0)}))},[]),Ha=w.useCallback((K,re)=>{const le={id:`seq_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:K,description:re,steps:[],variables:{},createdAt:Date.now(),modifiedAt:Date.now()};O(fe=>[...fe,le]);const he=JSON.parse(localStorage.getItem("uds_sequences")||"[]");return he.push(le),localStorage.setItem("uds_sequences",JSON.stringify(he)),le},[]),qa=w.useCallback((K,re)=>{O(fe=>fe.map(_e=>_e.id===K?{..._e,...re,modifiedAt:Date.now()}:_e));const he=JSON.parse(localStorage.getItem("uds_sequences")||"[]").map(fe=>fe.id===K?{...fe,...re,modifiedAt:Date.now()}:fe);localStorage.setItem("uds_sequences",JSON.stringify(he))},[]),Os=w.useCallback(K=>{O(he=>he.filter(fe=>fe.id!==K));const le=JSON.parse(localStorage.getItem("uds_sequences")||"[]").filter(he=>he.id!==K);localStorage.setItem("uds_sequences",JSON.stringify(le))},[]),Ga=w.useCallback(async(K,re)=>{M.current=new AbortController;try{c([]);const le={sequence:K,currentStep:0,isRunning:!0,isPaused:!1,results:[],variables:{...K.variables},startedAt:Date.now()};V(le);const he=await KS.executeSequence(K,qt,re);he.results.forEach(fe=>{fe.response&&c(_e=>[..._e,{request:fe.step.request,response:fe.response}])}),V(he)}catch(le){console.error("Sequence execution error:",le),V(he=>he?{...he,isRunning:!1,completedAt:Date.now()}:void 0)}},[qt]),Wi=w.useCallback(()=>{V(K=>K?{...K,isPaused:!0,pausedAt:Date.now()}:void 0)},[]),jd=w.useCallback(()=>{V(K=>K?{...K,isPaused:!1,pausedAt:void 0}:void 0)},[]),Wl=w.useCallback(()=>{M.current?.abort(),V(K=>K?{...K,isRunning:!1,isPaused:!1,completedAt:Date.now()}:void 0)},[]),bo=w.useCallback(()=>{M.current?.abort(),V(void 0)},[]);rt.useEffect(()=>{(()=>{try{const re=localStorage.getItem("uds_sequences");if(re){const le=JSON.parse(re);O(le)}}catch(re){console.error("Failed to load sequences:",re)}})()},[]),rt.useEffect(()=>{(async()=>{const re=await kn.listScenarios();h(re)})()},[]),rt.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const Xi=w.useCallback((K,re,le)=>{const he=cu.dtcs.findIndex(Mt=>Mt.code===K);if(he===-1){console.warn(`DTC 0x${K.toString(16).toUpperCase()} not found in ECU config`);return}const fe=cu.dtcs[he],_e=Date.now();if(re){if(fe.status={...fe.status,testFailed:!0,testFailedThisOperationCycle:!0,confirmedDTC:!0,testFailedSinceLastClear:!0},fe.occurrenceCounter!==void 0&&fe.occurrenceCounter++,fe.firstFailureTimestamp||(fe.firstFailureTimestamp=_e),fe.mostRecentFailureTimestamp=_e,le&&fe.snapshots&&fe.snapshots.length>0){const Mt=fe.snapshots[0];Mt.recordNumber=1,Mt.data={vehicleSpeed:le.vehicleSpeedKph,engineRPM:le.engineRpm,coolantTemp:le.coolantTemperature,throttlePosition:0,fuelLevel:le.fuelLevel,batteryVoltage:I,engineLoad:0,intakeAirTemp:25,oilPressure:le.oilPressure,ambientTemp:22}}console.log(`DTC 0x${K.toString(16).toUpperCase()} ACTIVATED - ${fe.description}`)}else fe.status={...fe.status,testFailed:!1,testFailedThisOperationCycle:!1,pendingDTC:!1},fe.agingCounter!==void 0&&fe.agingCounter++,console.log(`DTC 0x${K.toString(16).toUpperCase()} DEACTIVATED - ${fe.description}`)},[]);return u.jsx(ZS.Provider,{value:{simulator:e,protocolState:s,requestHistory:l,metrics:v,sendRequest:qt,clearHistory:Zn,resetSimulator:Jn,saveScenario:go,loadScenario:yo,scenarios:f,replayState:m,saveEnhancedScenario:wd,loadScenarioById:Ed,deleteScenario:$l,startReplay:Ot,pauseReplay:Yl,resumeReplay:Fa,stopReplay:Nd,setReplaySpeed:Ql,stepForward:Rd,stepBackward:Td,learningProgress:R,recordNRCEncounter:_s,recordNRCResolution:sn,tutorialProgress:At,startLesson:kd,completeLesson:Dd,updateLessonProgress:Va,sequences:j,currentSequence:k,createSequence:Ha,updateSequence:qa,deleteSequenceById:Os,executeSequence:Ga,pauseSequence:Wi,resumeSequence:jd,stopSequence:Wl,clearSequenceExecution:bo,voltage:I,current:ve,ecuPower:$,toggleEcuPower:ge,setVoltage:ue,setCurrent:U,systemVoltage:_,targetVoltage:X,currentLimit:F,powerState:se,faultState:z,setPowerState:oe,setSystemVoltage:W,setTargetVoltage:ce,setCurrentLimit:Z,setFaultState:G,simulateCranking:Ye,rpsEnabled:ae,rpsPowerDownTime:Ce,setRpsPowerDownTime:Ne,rpsCountdown:pe,triggerRpsPowerDown:nn,simulateResetVoltageProfile:Ze,vehicleState:Ht,updateVehicleState:tn,ecuConfig:cu,updateDTCStatus:Xi},children:t})},li=()=>{const t=w.useContext(ZS);if(!t)throw new Error("useUDS must be used within a UDSProvider");return t},JS=t=>{w.useEffect(()=>{const e=s=>{if(s.key==="F1"){s.preventDefault(),t.onHelp?.();return}if(s.ctrlKey&&s.key==="k"){s.preventDefault(),t.onClearHistory?.();return}if(s.ctrlKey&&s.key==="m"){s.preventDefault(),t.onToggleManualMode?.();return}s.key==="Enter"&&!s.shiftKey&&!s.ctrlKey&&s.target.tagName==="INPUT"&&(s.preventDefault(),t.onSendRequest?.())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t])},Uk=({isOpen:t,onClose:e})=>{if(!t)return null;const s=()=>{e(),localStorage.removeItem("uds-tour-completed"),window.dispatchEvent(new Event("restart-tour"))};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"help-modal-title",children:u.jsxs("div",{className:"glass-panel p-6 max-w-4xl max-h-[90vh] overflow-y-auto m-4 custom-scrollbar bg-white dark:bg-dark-800",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{id:"help-modal-title",className:"text-2xl font-bold text-blue-600 dark:text-cyber-blue",children:"UDS Protocol Simulator - Help Guide"}),u.jsx("button",{onClick:e,className:"cyber-button text-sm","aria-label":"Close help modal",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("section",{className:"bg-cyber-blue/10 border border-cyber-blue/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-cyber-blue mb-1",children:" Interactive Onboarding Tour"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Take a guided tour of the simulator's features"})]}),u.jsx("button",{onClick:s,className:"cyber-button px-6 py-2 font-semibold hover:bg-cyber-blue hover:text-black transition-colors",children:"Start Tour"})]})}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"What is UDS?"}),u.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"Unified Diagnostic Services (UDS) is a standardized communication protocol used in automotive Electronic Control Units (ECUs). This simulator helps you learn and practice UDS protocols in a safe, interactive environment."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"How It Works"}),u.jsxs("div",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-cyber-blue/20 text-cyber-blue dark:text-cyber-blue flex items-center justify-center font-bold",children:"1"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-600 dark:text-cyber-blue",children:"Build Request:"})," Select a service from the dropdown or use Manual Mode to enter raw hex bytes. Use Quick Examples to load pre-configured requests."]})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-cyber-blue/20 text-cyber-blue dark:text-cyber-blue flex items-center justify-center font-bold",children:"2"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-600 dark:text-cyber-blue",children:"Send Request:"}),' Click "Send Request" to transmit the UDS command to the simulated ECU.']})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-cyber-blue/20 text-cyber-blue dark:text-cyber-blue flex items-center justify-center font-bold",children:"3"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-600 dark:text-cyber-blue",children:"View Response:"})," The Response Visualizer shows detailed breakdowns of positive or negative responses, including NRC (Negative Response Code) explanations."]})]}),u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-cyber-blue/20 text-cyber-blue dark:text-cyber-blue flex items-center justify-center font-bold",children:"4"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-blue-600 dark:text-cyber-blue",children:"Monitor State:"})," The Protocol State Dashboard shows current session type, security status, and communication state."]})]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"Common UDS Services"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x10 - Session Control"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Change diagnostic session (Default, Extended, Programming)"})]}),u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x22 - Read Data"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Read data by identifier (e.g., VIN, ECU info)"})]}),u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x27 - Security Access"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Request seed/send key for security unlocking"})]}),u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x19 - Read DTC"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Read Diagnostic Trouble Codes"})]}),u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x31 - Routine Control"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start/stop diagnostic routines"})]}),u.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-3 border border-dark-600",children:[u.jsx("div",{className:"font-mono text-cyber-blue font-bold",children:"0x2E - Write Data"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Write data by identifier"})]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"Understanding Responses"}),u.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[u.jsxs("div",{className:"flex items-center space-x-3 bg-cyber-green/10 p-3 rounded border border-cyber-green/30",children:[u.jsx("svg",{className:"w-5 h-5 text-green-600 dark:text-cyber-green flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-green-600 dark:text-cyber-green",children:"Positive Response:"})," SID + 0x40 (e.g., 0x22  0x62)"]})]}),u.jsxs("div",{className:"flex items-center space-x-3 bg-cyber-pink/10 p-3 rounded border border-cyber-pink/30",children:[u.jsx("svg",{className:"w-5 h-5 text-cyber-pink flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-cyber-pink",children:"Negative Response:"})," 0x7F + SID + NRC (Negative Response Code)"]})]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"Tips & Best Practices"}),u.jsxs("ul",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-blue-600 dark:text-cyber-blue mt-1",children:""}),u.jsx("span",{children:"Start with Quick Examples to understand request formats"})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-blue-600 dark:text-cyber-blue mt-1",children:""}),u.jsx("span",{children:"Use Manual Mode for custom hex sequences and advanced testing"})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-blue-600 dark:text-cyber-blue mt-1",children:""}),u.jsx("span",{children:"Watch the Protocol State Dashboard for session and security changes"})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-blue-600 dark:text-cyber-blue mt-1",children:""}),u.jsx("span",{children:"Export your session history for later analysis or sharing"})]}),u.jsxs("li",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-blue-600 dark:text-cyber-blue mt-1",children:""}),u.jsx("span",{children:"NRC codes provide valuable feedback - read them carefully to understand why requests fail"})]})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-cyber-green mb-3",children:"Keyboard Shortcuts"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between bg-dark-800/50 p-2 rounded border border-dark-600",children:[u.jsx("span",{className:"text-gray-400",children:"Send Request"}),u.jsx("kbd",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-cyber-blue border border-dark-500",children:"Enter"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-dark-800/50 p-2 rounded border border-dark-600",children:[u.jsx("span",{className:"text-gray-400",children:"Clear History"}),u.jsx("kbd",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-cyber-blue border border-dark-500",children:"Ctrl+K"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-dark-800/50 p-2 rounded border border-dark-600",children:[u.jsx("span",{className:"text-gray-400",children:"Toggle Manual Mode"}),u.jsx("kbd",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-cyber-blue border border-dark-500",children:"Ctrl+M"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-dark-800/50 p-2 rounded border border-dark-600",children:[u.jsx("span",{className:"text-gray-400",children:"Help"}),u.jsx("kbd",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-cyber-blue border border-dark-500",children:"F1"})]})]})]})]}),u.jsx("div",{className:"mt-6 pt-6 border-t border-dark-600",children:u.jsxs("p",{className:"text-sm text-gray-400 text-center",children:["For more information, visit the ",u.jsx("a",{href:"https://en.wikipedia.org/wiki/Unified_Diagnostic_Services",target:"_blank",rel:"noopener noreferrer",className:"text-cyber-blue hover:underline",children:"UDS Wikipedia page"})," or consult ISO 14229 standard documentation."]})})]})})},Pk=({isOpen:t,onClose:e,onLoadScenario:s,onExportScenario:a})=>{const[r,l]=w.useState([]),[c,f]=w.useState(null),[h,m]=w.useState(""),[g,x]=w.useState(null),[b,v]=w.useState("date"),[C,E]=w.useState("");w.useEffect(()=>{t&&(N(),R())},[t]);const N=async()=>{const _=await kn.listScenarios();l(_)},R=async()=>{const _=await kn.getStatistics();f(_)},D=async()=>{if(h.trim()){const _=await kn.searchScenarios(h);l(_)}else N()},j=async _=>{confirm("Are you sure you want to delete this scenario?")&&(await kn.deleteScenario(_),N(),R(),g?.id===_&&x(null))},O=async(_,W="json")=>{const X=await kn.exportScenario(_,W),ce=URL.createObjectURL(X),F=document.createElement("a");F.href=ce,F.download=`${_.name.replace(/\s+/g,"_")}.${W}`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(ce),a&&a(_)},k=_=>{s(_),e()},V=Array.from(new Set(r.flatMap(_=>_.metadata.tags))).sort(),M=r.filter(_=>!C||_.metadata.tags.includes(C)).sort((_,W)=>{switch(b){case"name":return _.name.localeCompare(W.name);case"date":return W.createdAt-_.createdAt;case"requests":return W.metadata.totalRequests-_.metadata.totalRequests;default:return 0}});return t?u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-blue-900/20 to-gray-900 border-2 border-cyan-500/30 rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden shadow-2xl shadow-cyan-500/20",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border-b border-cyan-500/30 p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 flex items-center gap-2",children:[u.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})}),"Scenario Library"]}),c&&u.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[c.totalScenarios," scenarios  ",c.totalRequests," total requests  ",c.averageSuccessRate,"% avg success rate"]})]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"flex gap-3 flex-wrap",children:[u.jsx("div",{className:"flex-1 min-w-[200px]",children:u.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),onKeyDown:_=>_.key==="Enter"&&D(),placeholder:"Search scenarios...",className:"w-full bg-gray-800/50 border border-cyan-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})}),u.jsx("button",{onClick:D,className:"px-4 py-2 bg-cyan-500/20 border border-cyan-500/50 rounded-lg text-cyan-400 hover:bg-cyan-500/30 transition-colors",children:"Search"}),u.jsxs("select",{value:b,onChange:_=>v(_.target.value),className:"bg-gray-800/50 border border-cyan-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[u.jsx("option",{value:"date",children:"Sort by Date"}),u.jsx("option",{value:"name",children:"Sort by Name"}),u.jsx("option",{value:"requests",children:"Sort by Requests"})]}),V.length>0&&u.jsxs("select",{value:C,onChange:_=>E(_.target.value),className:"bg-gray-800/50 border border-cyan-500/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[u.jsx("option",{value:"",children:"All Tags"}),V.map(_=>u.jsx("option",{value:_,children:_},_))]})]})]}),u.jsxs("div",{className:"flex h-[calc(90vh-200px)]",children:[u.jsx("div",{className:"w-1/2 border-r border-cyan-500/30 overflow-y-auto",children:M.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[u.jsx("svg",{className:"w-16 h-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("p",{children:"No scenarios found"}),u.jsx("p",{className:"text-sm mt-2",children:"Create your first scenario by saving your request history"})]}):u.jsx("div",{className:"p-4 space-y-3",children:M.map(_=>u.jsxs("div",{onClick:()=>x(_),className:`p-4 rounded-lg cursor-pointer transition-all ${g?.id===_.id?"bg-cyan-500/20 border-2 border-cyan-500":"bg-gray-800/30 border-2 border-cyan-500/20 hover:border-cyan-500/50"}`,children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:_.name}),u.jsx("p",{className:"text-sm text-gray-400 mb-2 line-clamp-2",children:_.metadata.description}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[u.jsxs("span",{children:[_.metadata.totalRequests," requests"]}),u.jsxs("span",{children:[_.metadata.successRate,"% success"]}),u.jsx("span",{children:Im(_.metadata.duration)})]}),_.metadata.tags.length>0&&u.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:_.metadata.tags.map(W=>u.jsx("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:W},W))}),u.jsx("div",{className:"text-xs text-gray-600 mt-2",children:new Date(_.createdAt).toLocaleString()})]},_.id))})}),u.jsx("div",{className:"w-1/2 overflow-y-auto p-6",children:g?u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:g.name}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Description"}),u.jsx("p",{className:"text-white",children:g.metadata.description})]}),g.metadata.author&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Author"}),u.jsx("p",{className:"text-white",children:g.metadata.author})]}),g.notes&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Notes"}),u.jsx("p",{className:"text-white whitespace-pre-wrap",children:g.notes})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Total Requests"}),u.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:g.metadata.totalRequests})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Success Rate"}),u.jsxs("p",{className:"text-2xl font-bold text-green-400",children:[g.metadata.successRate,"%"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Duration"}),u.jsx("p",{className:"text-2xl font-bold text-blue-400",children:Im(g.metadata.duration)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Version"}),u.jsx("p",{className:"text-lg text-white",children:g.version})]})]}),g.metadata.tags.length>0&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Tags"}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:g.metadata.tags.map(_=>u.jsx("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm",children:_},_))})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t border-cyan-500/30",children:[u.jsx("button",{onClick:()=>k(g),className:"flex-1 px-4 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg shadow-cyan-500/30",children:"Load & Replay"}),u.jsx("button",{onClick:()=>O(g,"json"),className:"px-4 py-3 bg-gray-700/50 border border-cyan-500/30 text-cyan-400 rounded-lg hover:bg-gray-700 transition-colors",title:"Export as JSON",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsx("button",{onClick:()=>O(g,"csv"),className:"px-4 py-3 bg-gray-700/50 border border-cyan-500/30 text-cyan-400 rounded-lg hover:bg-gray-700 transition-colors",title:"Export as CSV",children:"CSV"}),u.jsx("button",{onClick:()=>j(g.id),className:"px-4 py-3 bg-red-500/20 border border-red-500/50 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",title:"Delete scenario",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[u.jsx("svg",{className:"w-16 h-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("p",{children:"Select a scenario to view details"})]})})]})]})}):null},zk=[.5,1,2,5,10],Ik=({replayState:t,onPlay:e,onPause:s,onStop:a,onSpeedChange:r,onStepForward:l,onStepBackward:c})=>{const{isReplaying:f,currentStep:h,totalSteps:m,speed:g,isPaused:x}=t,b=m>0?h/m*100:0;return u.jsxs("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-2 border-purple-500/30 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-purple-400 font-semibold",children:"Replay Mode"})]}),u.jsxs("span",{className:"text-gray-400 text-sm",children:["Step ",h," of ",m]})]}),u.jsx("div",{className:"mb-4",children:u.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${b}%`}})})}),u.jsxs("div",{className:"flex items-center gap-3",children:[c&&u.jsx("button",{onClick:c,disabled:h===0,className:"p-2 bg-gray-700/50 border border-purple-500/30 rounded-lg text-purple-400 hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Step Backward",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.333 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z"})})}),!f||x?u.jsxs("button",{onClick:e,disabled:h>=m,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600 disabled:opacity-30 disabled:cursor-not-allowed transition-all shadow-lg shadow-purple-500/30 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M8 5v14l11-7z"})}),x?"Resume":"Play"]}):u.jsxs("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg font-semibold hover:from-yellow-600 hover:to-orange-600 transition-all shadow-lg shadow-yellow-500/30 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}),"Pause"]}),u.jsxs("button",{onClick:a,disabled:!f&&h===0,className:"px-4 py-2 bg-red-500/20 border border-red-500/50 text-red-400 rounded-lg hover:bg-red-500/30 disabled:opacity-30 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M6 6h12v12H6z"})}),"Stop"]}),l&&u.jsx("button",{onClick:l,disabled:h>=m,className:"p-2 bg-gray-700/50 border border-purple-500/30 rounded-lg text-purple-400 hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Step Forward",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z"})})}),u.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Speed:"}),u.jsx("select",{value:g,onChange:v=>r(Number(v.target.value)),className:"bg-gray-700/50 border border-purple-500/30 rounded-lg px-3 py-1.5 text-white text-sm focus:outline-none focus:border-purple-500",children:zk.map(v=>u.jsxs("option",{value:v,children:[v,"x"]},v))})]})]}),u.jsxs("div",{className:"mt-3 text-sm text-gray-400",children:[!f&&h===0&&u.jsx("p",{children:"Ready to replay. Click Play to start."}),f&&!x&&u.jsxs("p",{children:["Replaying scenario at ",g,"x speed..."]}),x&&u.jsx("p",{children:"Replay paused. Click Resume to continue."}),h>=m&&m>0&&u.jsx("p",{className:"text-green-400",children:" Replay completed!"})]})]})},Bk=({step:t,index:e,isSelected:s=!1,onEdit:a,onDelete:r,onMove:l,onToggleBreakpoint:c,canMoveUp:f,canMoveDown:h})=>{const[m,g]=w.useState(!1),x=()=>{if(!t.condition)return"Always";switch(t.condition.type){case"always":return"Always";case"if_positive":return"If Previous Positive";case"if_negative":return"If Previous Negative";case"if_value":return`If Value Matches [${t.condition.expectedValue?.map(v=>`0x${v.toString(16).toUpperCase()}`).join(", ")}]`;default:return"Unknown"}},b=XS(t.request.sid);return u.jsxs("div",{className:`
        border-2 rounded-lg p-4 transition-all
        ${s?"border-cyan-500 bg-cyan-50 dark:bg-cyan-500/10 shadow-lg shadow-cyan-500/20":"border-slate-200 dark:border-cyan-500/30 bg-white dark:bg-gray-800/30 hover:border-cyan-400 dark:hover:border-cyan-500/50"}
        ${t.breakpoint?"border-l-4 border-l-red-500":""}
      `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-cyan-100 dark:bg-cyan-500/20 text-cyan-600 dark:text-cyan-400 font-bold text-sm",children:e+1}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-slate-900 dark:text-white font-semibold",children:t.label||`Step ${e+1}`}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-gray-400",children:b})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:c,className:`p-1.5 rounded transition-colors ${t.breakpoint?"bg-red-100 dark:bg-red-500/20 text-red-500 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-500/30":"bg-slate-100 dark:bg-gray-700/50 text-slate-400 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700"}`,title:"Toggle breakpoint",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("circle",{cx:"10",cy:"10",r:"6"})})}),u.jsx("button",{onClick:()=>l("up"),disabled:!f,className:"p-1.5 rounded bg-slate-100 dark:bg-gray-700/50 text-slate-500 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),u.jsx("button",{onClick:()=>l("down"),disabled:!h,className:"p-1.5 rounded bg-slate-100 dark:bg-gray-700/50 text-slate-500 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),u.jsx("button",{onClick:()=>g(!m),className:"p-1.5 rounded bg-slate-100 dark:bg-gray-700/50 text-slate-500 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700 transition-colors",title:m?"Collapse":"Expand",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),u.jsx("button",{onClick:()=>a(t),className:"p-1.5 rounded bg-blue-50 dark:bg-blue-500/20 text-blue-500 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-500/30 transition-colors",title:"Edit step",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:r,className:"p-1.5 rounded bg-red-50 dark:bg-red-500/20 text-red-500 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-500/30 transition-colors",title:"Delete step",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-gray-400 mb-2",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.delay>0?`${t.delay}ms delay`:"No delay"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),x()]}),t.continueOnError&&u.jsxs("span",{className:"flex items-center gap-1 text-amber-500 dark:text-yellow-400",children:[u.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Continue on error"]})]}),m&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-cyan-500/20 space-y-2",children:[t.description&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 dark:text-gray-400",children:"Description:"}),u.jsx("p",{className:"text-sm text-slate-900 dark:text-white",children:t.description})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 dark:text-gray-400",children:"Request Data:"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[u.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-gray-700/50 rounded text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:["SID: 0x",t.request.sid.toString(16).toUpperCase().padStart(2,"0")]}),t.request.subFunction!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-gray-700/50 rounded text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:["SUB: 0x",t.request.subFunction.toString(16).toUpperCase().padStart(2,"0")]}),t.request.data&&t.request.data.length>0&&u.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-gray-700/50 rounded text-xs text-cyan-600 dark:text-cyan-400 font-mono",children:["DATA: ",t.request.data.map(v=>`0x${v.toString(16).toUpperCase().padStart(2,"0")}`).join(" ")]})]})]}),t.expectedResponse&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500 dark:text-gray-400",children:"Expected Response:"}),u.jsxs("div",{className:"text-sm mt-1",children:[t.expectedResponse.isPositive!==void 0&&u.jsx("span",{className:t.expectedResponse.isPositive?"text-emerald-500 dark:text-green-400":"text-red-500 dark:text-red-400",children:t.expectedResponse.isPositive?"Positive":"Negative"}),t.expectedResponse.nrc!==void 0&&u.jsxs("span",{className:"ml-2 text-amber-500 dark:text-yellow-400",children:["NRC: 0x",t.expectedResponse.nrc.toString(16).toUpperCase().padStart(2,"0")]})]})]})]})]})},Fk=({isOpen:t,onClose:e,sequence:s})=>{const{currentSequence:a,executeSequence:r,pauseSequence:l,resumeSequence:c,stopSequence:f,clearSequenceExecution:h}=li(),[m,g]=rt.useState(1),[x,b]=rt.useState(!0),v=async()=>{if(!s)return;const O={speed:m,stopOnError:x,skipBreakpoints:!1,dryRun:!1};try{await r(s,O)}catch(k){console.error("Execution failed:",k)}},C=()=>{l()},E=()=>{c()},N=()=>{f(),setTimeout(()=>{h()},1e3)},R=()=>{h(),e()};rt.useEffect(()=>{if(a&&!a.isRunning&&a.completedAt&&a.results.length>0&&a.results.every(k=>k.success)){const k=setTimeout(()=>{h(),e()},2e3);return()=>clearTimeout(k)}},[a,h,e]);const D=()=>!a||a.sequence.steps.length===0?0:a.currentStep/a.sequence.steps.length*100,j=()=>{if(!a||a.results.length===0)return 0;const O=a.results.filter(k=>k.success).length;return Math.round(O/a.results.length*100)};return t?u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-slate-900/95 dark:to-gray-900 border border-slate-300 dark:border-cyan-500/30 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl shadow-slate-500/20 dark:shadow-cyan-500/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 dark:from-cyan-500/10 dark:via-blue-500/10 dark:to-purple-500/10 border-b border-slate-200 dark:border-cyan-500/30 p-6",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400 flex items-center gap-2",children:[u.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Sequence Execution"]}),s&&u.jsxs("p",{className:"text-sm text-slate-600 dark:text-gray-400 mt-1",children:[s.name,"  ",s.steps.length," steps"]})]}),u.jsx("button",{onClick:R,className:"text-slate-500 hover:text-slate-900 dark:text-gray-400 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-800","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] bg-slate-50/50 dark:bg-transparent",children:a?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("span",{className:"text-sm text-slate-600 dark:text-gray-400",children:["Step ",a.currentStep+1," of ",a.sequence.steps.length]}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-gray-400",children:[Math.round(D()),"% Complete"]})]}),u.jsx("div",{className:"h-3 bg-slate-200 dark:bg-gray-800 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${D()}%`}})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400 mb-1",children:"Completed"}),u.jsx("div",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400",children:a.results.length})]}),u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400 mb-1",children:"Success Rate"}),u.jsxs("div",{className:"text-2xl font-bold text-emerald-500 dark:text-green-400",children:[j(),"%"]})]}),u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400 mb-1",children:"Duration"}),u.jsx("div",{className:"text-2xl font-bold text-blue-500 dark:text-blue-400",children:a.startedAt&&Im(Date.now()-a.startedAt)})]})]}),u.jsxs("div",{className:"flex gap-3",children:[a.isRunning&&!a.isPaused&&u.jsxs("button",{onClick:C,className:"flex-1 px-4 py-3 bg-amber-50 dark:bg-yellow-500/20 border border-amber-300 dark:border-yellow-500/50 text-amber-600 dark:text-yellow-400 rounded-lg hover:bg-amber-100 dark:hover:bg-yellow-500/30 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pause"]}),a.isPaused&&u.jsxs("button",{onClick:E,className:"flex-1 px-4 py-3 bg-emerald-50 dark:bg-green-500/20 border border-emerald-300 dark:border-green-500/50 text-emerald-600 dark:text-green-400 rounded-lg hover:bg-emerald-100 dark:hover:bg-green-500/30 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Resume"]}),a.isRunning?u.jsxs("button",{onClick:N,className:"flex-1 px-4 py-3 bg-red-50 dark:bg-red-500/20 border border-red-300 dark:border-red-500/50 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-500/30 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop"]}):u.jsxs("button",{onClick:R,className:"flex-1 px-4 py-3 bg-cyan-50 dark:bg-cyan-500/20 border border-cyan-300 dark:border-cyan-500/50 text-cyan-600 dark:text-cyan-400 rounded-lg hover:bg-cyan-100 dark:hover:bg-cyan-500/30 transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Done"]})]}),u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("h4",{className:"text-slate-900 dark:text-white font-semibold mb-3",children:"Execution Log"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.results.map((O,k)=>u.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${O.success?"bg-emerald-50 dark:bg-green-500/10 border border-emerald-200 dark:border-green-500/30":"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/30"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 dark:bg-gray-700 text-slate-700 dark:text-white text-xs font-medium",children:k+1}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:O.step.label}),O.success?u.jsx("svg",{className:"w-4 h-4 text-emerald-500 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):u.jsx("svg",{className:"w-4 h-4 text-red-500 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]}),u.jsxs("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:[O.response.isNegative?`Negative Response (NRC: 0x${O.response.nrc?.toString(16).toUpperCase()})`:"Positive Response","  ",O.duration,"ms"]}),O.error&&u.jsx("div",{className:"text-xs text-red-500 dark:text-red-400 mt-1",children:O.error})]})]},k))})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-2",children:"Playback Speed"}),u.jsxs("select",{value:m,onChange:O=>g(parseFloat(O.target.value)),className:"w-full bg-white dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",children:[u.jsx("option",{value:.5,children:"0.5x (Slow)"}),u.jsx("option",{value:1,children:"1x (Normal)"}),u.jsx("option",{value:2,children:"2x (Fast)"}),u.jsx("option",{value:5,children:"5x (Very Fast)"}),u.jsx("option",{value:10,children:"10x (Max)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-2",children:"Error Handling"}),u.jsxs("select",{value:x?"stop":"continue",onChange:O=>b(O.target.value==="stop"),className:"w-full bg-white dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",children:[u.jsx("option",{value:"stop",children:"Stop on Error"}),u.jsx("option",{value:"continue",children:"Continue on Error"})]})]})]}),u.jsxs("button",{onClick:v,disabled:!s,className:"w-full px-6 py-4 bg-gradient-to-r from-green-500 to-cyan-500 text-white rounded-lg font-semibold hover:from-green-600 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-green-500/30 flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Execute Sequence"]}),s&&u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("h4",{className:"text-slate-900 dark:text-white font-semibold mb-3",children:"Sequence Preview"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:s.steps.map((O,k)=>u.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-500/20 text-cyan-600 dark:text-cyan-400 text-xs font-medium",children:k+1}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:O.label}),O.breakpoint&&u.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500",title:"Breakpoint"})]},O.id))})]})]})})]})}):null},Vk=({isOpen:t,onClose:e,initialSequence:s})=>{const{sequences:a,createSequence:r,updateSequence:l,deleteSequenceById:c}=li(),[f,h]=w.useState(s||null),[m,g]=w.useState(null),[x,b]=w.useState(!1),[v,C]=w.useState(!1),[E,N]=w.useState(!1),[R,D]=w.useState([]),[j,O]=w.useState(null),[k,V]=w.useState(""),[M,_]=w.useState(""),[W,X]=w.useState("0x10"),[ce,F]=w.useState(""),[Z,se]=w.useState(""),[oe,z]=w.useState("100"),[G,I]=w.useState("always"),[ue,ve]=w.useState(!1);w.useEffect(()=>{s&&h(s)},[s]);const U=()=>{const ge=r("New Sequence","Description");h(ge),D([])},$=ge=>{h(ge),C(!1),D([])},te=()=>{f&&(l(f.id,f),alert("Sequence saved successfully!"))},ae=()=>{if(!f)return;const ge=KS.validateSequence(f);if(ge.isValid)D([]),alert(" Sequence is valid!");else{const Ye=ge.errors.map(Ze=>`Step ${Ze.stepOrder+1}: ${Ze.message}`);D(Ye)}},Ce=()=>{O(null),tn(),b(!0)},Ne=ge=>{O(ge),V(ge.label),_(ge.description||""),X(`0x${ge.request.sid.toString(16).toUpperCase()}`),F(ge.request.subFunction!==void 0?`0x${ge.request.subFunction.toString(16).toUpperCase()}`:""),se(ge.request.data?ge.request.data.map(Ye=>`0x${Ye.toString(16).toUpperCase()}`).join(" "):""),z(ge.delay.toString()),I(ge.condition?.type||"always"),ve(ge.continueOnError),b(!0)},pe=()=>{if(f)try{const ge=parseInt(W),Ye=ce?parseInt(ce):void 0,Ze=Z?Z.split(/\s+/).map(qt=>parseInt(qt)):[],nn={id:j?.id||`step_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,order:j?.order??f.steps.length,request:{sid:ge,subFunction:Ye,data:Ze,timestamp:Date.now()},label:k||`Step ${f.steps.length+1}`,description:M,delay:parseInt(oe)||0,continueOnError:ue,condition:{type:G}};if(j){const qt=f.steps.map(Zn=>Zn.id===j.id?nn:Zn);h({...f,steps:qt})}else h({...f,steps:[...f.steps,nn]});b(!1),tn()}catch{alert("Invalid step data. Please check your inputs.")}},Oe=ge=>{if(!f)return;const Ye=f.steps.filter(Ze=>Ze.id!==ge).map((Ze,nn)=>({...Ze,order:nn}));h({...f,steps:Ye})},Ae=(ge,Ye)=>{if(!f)return;const Ze=f.steps.findIndex(Zn=>Zn.id===ge);if(Ze===-1)return;const nn=Ye==="up"?Ze-1:Ze+1;if(nn<0||nn>=f.steps.length)return;const qt=[...f.steps];[qt[Ze],qt[nn]]=[qt[nn],qt[Ze]],qt.forEach((Zn,Jn)=>{Zn.order=Jn}),h({...f,steps:qt})},Ht=ge=>{if(!f)return;const Ye=f.steps.map(Ze=>Ze.id===ge?{...Ze,breakpoint:!Ze.breakpoint}:Ze);h({...f,steps:Ye})},cn=()=>{f&&confirm(`Are you sure you want to delete "${f.name}"?`)&&(c(f.id),h(null),alert("Sequence deleted"))},tn=()=>{V(""),_(""),X("0x10"),F(""),se(""),z("100"),I("always"),ve(!1)};return t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-slate-900/95 dark:to-gray-900 border border-slate-300 dark:border-cyan-500/30 rounded-xl max-w-7xl w-full max-h-[95vh] overflow-hidden shadow-2xl shadow-slate-500/20 dark:shadow-cyan-500/20",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 dark:from-cyan-500/10 dark:via-blue-500/10 dark:to-purple-500/10 border-b border-slate-200 dark:border-cyan-500/30 p-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400 flex items-center gap-2",children:[u.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Sequence Builder"]}),f&&u.jsxs("p",{className:"text-sm text-slate-600 dark:text-gray-400 mt-1",children:[f.name,"  ",f.steps.length," steps"]})]}),u.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-900 dark:text-gray-400 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-800","aria-label":"Close",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"flex gap-3 mt-4 flex-wrap",children:[u.jsx("button",{onClick:U,className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg shadow-cyan-500/30",children:"+ New Sequence"}),u.jsx("button",{onClick:()=>C(!v),className:"px-4 py-2 bg-slate-100 dark:bg-gray-700/50 border border-slate-300 dark:border-cyan-500/30 text-cyan-600 dark:text-cyan-400 rounded-lg hover:bg-slate-200 dark:hover:bg-gray-700 transition-colors",children:" Templates"}),f&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:Ce,className:"px-4 py-2 bg-emerald-50 dark:bg-green-500/20 border border-emerald-300 dark:border-green-500/50 text-emerald-600 dark:text-green-400 rounded-lg hover:bg-emerald-100 dark:hover:bg-green-500/30 transition-colors",children:"+ Add Step"}),u.jsx("button",{onClick:ae,className:"px-4 py-2 bg-blue-50 dark:bg-blue-500/20 border border-blue-300 dark:border-blue-500/50 text-blue-600 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-500/30 transition-colors",children:" Validate"}),u.jsx("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-gradient-to-r from-cyan-50 to-blue-50 dark:from-cyan-500/20 dark:to-blue-500/20 border border-cyan-300 dark:border-cyan-500/50 text-cyan-600 dark:text-cyan-400 rounded-lg hover:from-cyan-100 hover:to-blue-100 dark:hover:from-cyan-500/30 dark:hover:to-blue-500/30 transition-all font-semibold",disabled:!f||f.steps.length===0,children:" Execute"}),u.jsx("button",{onClick:te,className:"px-4 py-2 bg-purple-50 dark:bg-purple-500/20 border border-purple-300 dark:border-purple-500/50 text-purple-600 dark:text-purple-400 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-500/30 transition-colors",children:" Save"}),u.jsx("button",{onClick:cn,className:"px-4 py-2 bg-red-50 dark:bg-red-500/20 border border-red-300 dark:border-red-500/50 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-500/30 transition-colors",children:" Delete"})]})]}),R.length>0&&u.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-500/10 border border-red-300 dark:border-red-500/50 rounded-lg",children:[u.jsx("h4",{className:"text-red-600 dark:text-red-400 font-semibold mb-2",children:" Validation Errors:"}),u.jsx("ul",{className:"list-disc list-inside text-sm text-red-500 dark:text-red-300 space-y-1",children:R.map((ge,Ye)=>u.jsx("li",{children:ge},Ye))})]})]}),u.jsxs("div",{className:"flex h-[calc(95vh-200px)]",children:[v&&u.jsxs("div",{className:"w-80 border-r border-slate-200 dark:border-cyan-500/30 overflow-y-auto p-4 bg-slate-50 dark:bg-gray-800/20",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Available Sequences"}),u.jsxs("div",{className:"space-y-2",children:[a.map(ge=>u.jsxs("button",{onClick:()=>$(ge),className:"w-full text-left p-3 rounded-lg bg-white dark:bg-gray-800/50 border border-slate-200 dark:border-cyan-500/20 hover:border-cyan-500 dark:hover:border-cyan-500/50 transition-colors shadow-sm hover:shadow-md",children:[u.jsx("h4",{className:"text-slate-900 dark:text-white font-semibold",children:ge.name}),u.jsx("p",{className:"text-xs text-slate-600 dark:text-gray-400 mt-1",children:ge.description}),u.jsxs("p",{className:"text-xs text-cyan-600 dark:text-cyan-400 mt-1",children:[ge.steps.length," steps"]})]},ge.id)),a.length===0&&u.jsx("p",{className:"text-slate-500 dark:text-gray-500 text-sm",children:"No saved sequences yet"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50 dark:bg-transparent",children:f?u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-gray-800/30 rounded-lg border border-slate-200 dark:border-cyan-500/20 shadow-sm",children:[u.jsx("input",{type:"text",value:f.name,onChange:ge=>h({...f,name:ge.target.value}),className:"w-full bg-transparent text-xl font-bold text-slate-900 dark:text-white border-none outline-none mb-2 placeholder-slate-400 dark:placeholder-gray-500",placeholder:"Sequence Name"}),u.jsx("textarea",{value:f.description,onChange:ge=>h({...f,description:ge.target.value}),className:"w-full bg-transparent text-sm text-slate-600 dark:text-gray-400 border-none outline-none resize-none placeholder-slate-400 dark:placeholder-gray-600",placeholder:"Description",rows:2})]}),u.jsx("div",{className:"space-y-3",children:f.steps.length===0?u.jsx("div",{className:"text-center py-12 text-slate-500 dark:text-gray-500",children:u.jsx("p",{children:'No steps yet. Click "Add Step" to begin.'})}):f.steps.map((ge,Ye)=>u.jsx(Bk,{step:ge,index:Ye,isSelected:m===Ye,onEdit:Ne,onDelete:()=>Oe(ge.id),onMove:Ze=>Ae(ge.id,Ze),onToggleBreakpoint:()=>Ht(ge.id),canMoveUp:Ye>0,canMoveDown:Ye<f.steps.length-1},ge.id))})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 dark:text-gray-500",children:[u.jsx("svg",{className:"w-24 h-24 mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),u.jsx("p",{className:"text-lg",children:"Create a new sequence or load an existing one"})]})})]}),x&&u.jsx("div",{className:"absolute inset-0 bg-slate-900/60 dark:bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-slate-300 dark:border-cyan-500/50 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto p-6 shadow-2xl",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:j?"Edit Step":"Add New Step"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Step Label"}),u.jsx("input",{type:"text",value:k,onChange:ge=>V(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",placeholder:"e.g., Enter Diagnostic Session"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Description (optional)"}),u.jsx("textarea",{value:M,onChange:ge=>_(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white resize-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",rows:2,placeholder:"Additional details..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Service ID (SID)"}),u.jsx("input",{type:"text",value:W,onChange:ge=>X(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white font-mono focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",placeholder:"0x10"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Sub-function (optional)"}),u.jsx("input",{type:"text",value:ce,onChange:ge=>F(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white font-mono focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",placeholder:"0x01"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Data Bytes (space-separated)"}),u.jsx("input",{type:"text",value:Z,onChange:ge=>se(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white font-mono focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",placeholder:"0xF1 0x90"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Delay (ms)"}),u.jsx("input",{type:"number",value:oe,onChange:ge=>z(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-gray-400 mb-1",children:"Execution Condition"}),u.jsxs("select",{value:G,onChange:ge=>I(ge.target.value),className:"w-full bg-slate-50 dark:bg-gray-800 border border-slate-300 dark:border-cyan-500/30 rounded px-3 py-2 text-slate-900 dark:text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-colors",children:[u.jsx("option",{value:"always",children:"Always Execute"}),u.jsx("option",{value:"if_positive",children:"If Previous Positive"}),u.jsx("option",{value:"if_negative",children:"If Previous Negative"}),u.jsx("option",{value:"if_value",children:"If Value Matches"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"continueOnError",checked:ue,onChange:ge=>ve(ge.target.checked),className:"w-4 h-4 rounded border-slate-300 dark:border-gray-600 text-cyan-500 focus:ring-cyan-500"}),u.jsx("label",{htmlFor:"continueOnError",className:"text-sm text-slate-600 dark:text-gray-400",children:"Continue sequence if this step fails"})]}),u.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200 dark:border-cyan-500/30",children:[u.jsx("button",{onClick:pe,className:"flex-1 px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg shadow-cyan-500/30",children:j?"Update Step":"Add Step"}),u.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-slate-100 dark:bg-gray-700 text-slate-700 dark:text-white rounded-lg hover:bg-slate-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]})})]})}),E&&f&&u.jsx(Fk,{isOpen:E,onClose:()=>N(!1),sequence:f})]}):null},Hk={BASE_URL:"/UDS-SIMULATION/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},qk={ENABLE_ENHANCED_EXPORT:!0,ENABLE_SCENARIO_LIBRARY:!0,ENABLE_SCENARIO_REPLAY:!0,ENABLE_NRC_LEARNING:!1,ENABLE_SCENARIO_BUILDER:!1,ENABLE_ADVANCED_HEX_EDITOR:!1,ENABLE_TUTORIALS:!1},fl=t=>{const e=`VITE_${t}`,s=Hk[e];if(s!==void 0)return s==="true"||s===!0;const a=`feature_flag_${t}`,r=localStorage.getItem(a);return r!==null?r==="true":qk[t]},ld=()=>{const{requestHistory:t,clearHistory:e,replayState:s,startReplay:a,pauseReplay:r,resumeReplay:l,stopReplay:c,setReplaySpeed:f,stepForward:h,stepBackward:m,saveEnhancedScenario:g}=li(),{theme:x,toggleTheme:b,highContrast:v,toggleHighContrast:C}=Op(),[E,N]=w.useState(!1),[R,D]=w.useState(!1),[j,O]=w.useState(!1),[k,V]=w.useState(!1),[M,_]=w.useState(!1),[W,X]=w.useState(!1),ce=w.useCallback(()=>{N(!0),O(!1)},[]);JS({onHelp:ce,onClearHistory:e});const F=()=>{const I=t.map(Oe=>Oe.request),ue=t.map(Oe=>Oe.response),ve=I.map((Oe,Ae)=>Ae===0?0:Math.max(0,Oe.timestamp-I[Ae-1].timestamp)),U=ue.filter(Oe=>!Oe.isNegative).length,$=ue.length>0?Math.round(U/ue.length*100):0,te=I.length>1?I[I.length-1].timestamp-I[0].timestamp:0,ae={id:`exported_${Date.now()}`,name:`UDS Session Export (${new Date().toLocaleDateString()})`,description:`Exported UDS session with ${I.length} requests`,version:"1.0.0",metadata:{author:"UDS Simulator",description:`Exported session with ${I.length} requests, ${$}% success rate`,tags:["exported","session"],duration:te,totalRequests:I.length,successRate:$},requests:I,responses:ue,timings:ve,createdAt:Date.now(),notes:`Exported on ${new Date().toISOString()}`},Ce=new Blob([JSON.stringify(ae,null,2)],{type:"application/json"}),Ne=URL.createObjectURL(Ce),pe=document.createElement("a");pe.href=Ne,pe.download=`uds-session-${Date.now()}.json`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(Ne),D(!0),setTimeout(()=>D(!1),3e3)},Z=()=>{const I=document.createElement("input");I.type="file",I.accept="application/json",I.onchange=async ue=>{const ve=ue.target.files?.[0];if(ve)try{const U=await ve.text(),$=JSON.parse(U);if($.id&&$.name&&$.requests&&Array.isArray($.requests)){const te={id:$.id,name:$.name,description:$.description||"Imported scenario",version:$.version||"1.0.0",metadata:$.metadata||{description:`Imported scenario with ${$.requests.length} requests`,tags:["imported"],duration:0,totalRequests:$.requests.length,successRate:100},requests:$.requests,responses:$.responses||[],timings:$.timings||$.requests.map(()=>1e3),createdAt:$.createdAt||Date.now(),notes:$.notes};a(te),alert(`Scenario "${te.name}" imported successfully! (${te.requests.length} requests)`)}else if($.requestHistory&&Array.isArray($.requestHistory)){const te=$.requestHistory.map(pe=>pe.request),ae=$.requestHistory.map(pe=>pe.response),Ce=te.map((pe,Oe)=>Oe===0?0:Math.max(0,pe.timestamp-te[Oe-1].timestamp)),Ne={id:`imported_${Date.now()}`,name:`Imported Session (${new Date($.exportDate||Date.now()).toLocaleDateString()})`,description:"Imported from exported session file",version:$.version||"1.0.0",metadata:{description:`Imported session with ${$.totalRequests||te.length} requests`,tags:["imported"],duration:te.length>1?te[te.length-1].timestamp-te[0].timestamp:0,totalRequests:te.length,successRate:ae.length>0?Math.round(ae.filter(pe=>!pe.isNegative).length/ae.length*100):100},requests:te,responses:ae,timings:Ce,createdAt:Date.now()};a(Ne),alert(`Session imported successfully! (${te.length} requests)`)}else{const te=await kn.importScenario(ve);a(te),alert(`Scenario "${te.name}" imported successfully!`)}}catch(U){console.error("Error importing file:",U),alert(`Error importing file: ${U}`)}},I.click()},se=async()=>{if(t.length===0){alert("No requests to save. Please send some requests first.");return}_(!0)},oe=async I=>{try{await g(I),_(!1),alert(`Scenario "${I.name}" saved successfully!`)}catch(ue){console.error("Error saving scenario:",ue),alert(`Error saving scenario: ${ue}`)}},z=I=>{a(I),V(!1)},G=()=>{s.isPaused&&l()};return u.jsxs(u.Fragment,{children:[u.jsx("header",{className:"header-container border-b sticky top-0 z-50",children:u.jsxs("div",{className:"px-4 sm:px-6 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),u.jsxs("div",{className:"hidden sm:block",children:[u.jsx("div",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"UDS Simulator"}),u.jsx("div",{className:"text-xs header-subtitle",children:"Unified Diagnostic Services"})]})]}),u.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[u.jsxs(vs,{to:"/",className:"px-3 py-1.5 text-xs font-medium header-link-home border rounded-lg transition-all",children:[u.jsx("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),u.jsxs(vs,{to:"/learn",className:"px-3 py-1.5 text-xs font-medium header-link-learn border rounded-lg transition-all",children:[u.jsx("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Learn UDS"]}),u.jsxs(vs,{to:"/cluster",className:"px-3 py-1.5 text-xs font-medium header-link-cluster border rounded-lg transition-all",children:[u.jsxs("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"})]}),"Cluster Dashboard"]}),u.jsxs(vs,{to:"/report",className:"px-3 py-1.5 text-xs font-medium header-link-report border rounded-lg transition-all",children:[u.jsx("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Reports"]}),fl("ENABLE_SCENARIO_LIBRARY")&&u.jsx("button",{onClick:()=>V(!0),className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all",children:"Scenarios"}),u.jsx("button",{onClick:()=>X(!0),className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all",children:"Sequences"}),fl("ENABLE_ENHANCED_EXPORT")&&u.jsx("button",{onClick:se,disabled:t.length===0,className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"}),u.jsx("button",{onClick:F,disabled:t.length===0,className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Export"}),u.jsx("button",{onClick:Z,className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all",children:"Import"}),u.jsx("button",{onClick:b,className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all","data-theme-toggle":!0,children:x==="dark"?"Light":"Dark"}),u.jsx("button",{onClick:C,className:"px-3 py-1.5 text-xs font-medium header-nav-btn rounded-lg transition-all",children:"High Contrast"})]}),u.jsx("button",{onClick:()=>O(!j),className:"lg:hidden p-2 header-mobile-btn rounded-lg",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),j&&u.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t header-mobile-menu space-y-2",children:[u.jsx(vs,{to:"/",onClick:()=>O(!1),className:"block px-3 py-2 text-sm header-link-home border rounded-lg",children:"Home"}),u.jsx(vs,{to:"/learn",onClick:()=>O(!1),className:"block px-3 py-2 text-sm header-link-learn border rounded-lg",children:"Learn UDS"}),u.jsx(vs,{to:"/cluster",onClick:()=>O(!1),className:"block px-3 py-2 text-sm header-link-cluster border rounded-lg",children:"Cluster Dashboard"}),u.jsx(vs,{to:"/report",onClick:()=>O(!1),className:"block px-3 py-2 text-sm header-link-report border rounded-lg",children:"Reports"}),u.jsx("button",{onClick:()=>{X(!0),O(!1)},className:"block w-full text-left px-3 py-2 text-sm header-mobile-link rounded-lg",children:"Sequences"}),u.jsx("button",{onClick:()=>{F(),O(!1)},className:"block w-full text-left px-3 py-2 text-sm header-mobile-link rounded-lg",disabled:t.length===0,children:"Export"}),u.jsx("button",{onClick:()=>{Z(),O(!1)},className:"block w-full text-left px-3 py-2 text-sm header-mobile-link rounded-lg",children:"Import"}),u.jsx("button",{onClick:()=>{b(),O(!1)},className:"block w-full text-left px-3 py-2 text-sm header-mobile-link rounded-lg",children:x==="dark"?"Light Mode":"Dark Mode"}),u.jsx("button",{onClick:()=>{C(),O(!1)},className:"block w-full text-left px-3 py-2 text-sm header-mobile-link rounded-lg",children:v?"Normal Contrast":"High Contrast"})]})]})}),u.jsx(Uk,{isOpen:E,onClose:()=>N(!1)}),fl("ENABLE_SCENARIO_LIBRARY")&&u.jsx(Pk,{isOpen:k,onClose:()=>V(!1),onLoadScenario:z}),u.jsx(Vk,{isOpen:W,onClose:()=>X(!1)}),fl("ENABLE_SCENARIO_REPLAY")&&s.isReplaying&&u.jsx("div",{className:"container mx-auto px-4 py-2",children:u.jsx(Ik,{replayState:s,onPlay:G,onPause:r,onStop:c,onSpeedChange:f,onStepForward:h,onStepBackward:m})}),fl("ENABLE_ENHANCED_EXPORT")&&M&&u.jsx(Gk,{onSave:oe,onCancel:()=>_(!1)}),R&&u.jsxs("div",{className:"fixed bottom-4 right-4 bg-emerald-500/90 text-white px-4 py-2 rounded-lg shadow-lg backdrop-blur-sm animate-fade-in z-50 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"Session exported successfully!"})]})]})},Gk=({onSave:t,onCancel:e})=>{const[s,a]=w.useState(""),[r,l]=w.useState(""),[c,f]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState(""),b=v=>{if(v.preventDefault(),!s.trim()){alert("Please enter a scenario name");return}t({name:s.trim(),description:r.trim()||"No description provided",author:c.trim()||void 0,tags:h.split(",").map(C=>C.trim()).filter(C=>C),notes:g.trim()||void 0})};return u.jsx("div",{className:"fixed inset-0 header-dialog-overlay backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"header-dialog-panel border rounded-xl max-w-md w-full p-6 shadow-2xl",children:[u.jsx("h2",{className:"text-2xl font-bold header-dialog-title mb-4",children:"Save Scenario"}),u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm header-dialog-label mb-1",children:"Scenario Name *"}),u.jsx("input",{type:"text",value:s,onChange:v=>a(v.target.value),className:"w-full header-dialog-input border rounded-lg px-4 py-2 focus:outline-none",placeholder:"e.g., DTC Read Test",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm header-dialog-label mb-1",children:"Description"}),u.jsx("textarea",{value:r,onChange:v=>l(v.target.value),className:"w-full header-dialog-input border rounded-lg px-4 py-2 focus:outline-none",placeholder:"Describe what this scenario tests...",rows:3})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm header-dialog-label mb-1",children:"Author"}),u.jsx("input",{type:"text",value:c,onChange:v=>f(v.target.value),className:"w-full header-dialog-input border rounded-lg px-4 py-2 focus:outline-none",placeholder:"Your name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm header-dialog-label mb-1",children:"Tags (comma-separated)"}),u.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),className:"w-full header-dialog-input border rounded-lg px-4 py-2 focus:outline-none",placeholder:"e.g., dtc, diagnostic, test"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm header-dialog-label mb-1",children:"Notes"}),u.jsx("textarea",{value:g,onChange:v=>x(v.target.value),className:"w-full header-dialog-input border rounded-lg px-4 py-2 focus:outline-none",placeholder:"Additional notes...",rows:2})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-semibold hover:from-cyan-600 hover:to-blue-600 transition-all",children:"Save Scenario"}),u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 header-dialog-cancel-btn border rounded-lg transition-colors",children:"Cancel"})]})]})]})})};function $n(t,e,{checkForDefaultPrevented:s=!0}={}){return function(r){if(t?.(r),s===!1||!r.defaultPrevented)return e?.(r)}}function e2(t,e=[]){let s=[];function a(l,c){const f=w.createContext(c),h=s.length;s=[...s,c];const m=x=>{const{scope:b,children:v,...C}=x,E=b?.[t]?.[h]||f,N=w.useMemo(()=>C,Object.values(C));return u.jsx(E.Provider,{value:N,children:v})};m.displayName=l+"Provider";function g(x,b){const v=b?.[t]?.[h]||f,C=w.useContext(v);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,g]}const r=()=>{const l=s.map(c=>w.createContext(c));return function(f){const h=f?.[t]||l;return w.useMemo(()=>({[`__scope${t}`]:{...f,[t]:h}}),[f,h])}};return r.scopeName=t,[a,$k(r,...e)]}function $k(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const a=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const c=a.reduce((f,{useScope:h,scopeName:m})=>{const x=h(l)[`__scope${m}`];return{...f,...x}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return s.scopeName=e.scopeName,s}var Aa=globalThis?.document?w.useLayoutEffect:()=>{},Yk=OR[" useInsertionEffect ".trim().toString()]||Aa;function Qk({prop:t,defaultProp:e,onChange:s=()=>{},caller:a}){const[r,l,c]=Wk({defaultProp:e,onChange:s}),f=t!==void 0,h=f?t:r;{const g=w.useRef(t!==void 0);w.useEffect(()=>{const x=g.current;x!==f&&console.warn(`${a} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,a])}const m=w.useCallback(g=>{if(f){const x=Xk(g)?g(t):g;x!==t&&c.current?.(x)}else l(g)},[f,t,l,c]);return[h,m]}function Wk({defaultProp:t,onChange:e}){const[s,a]=w.useState(t),r=w.useRef(s),l=w.useRef(e);return Yk(()=>{l.current=e},[e]),w.useEffect(()=>{r.current!==s&&(l.current?.(s),r.current=s)},[s,r]),[s,a,l]}function Xk(t){return typeof t=="function"}function Bb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function t2(...t){return e=>{let s=!1;const a=t.map(r=>{const l=Bb(r,e);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let r=0;r<a.length;r++){const l=a[r];typeof l=="function"?l():Bb(t[r],null)}}}}function oo(...t){return w.useCallback(t2(...t),t)}const Kk=["top","right","bottom","left"],Bi=Math.min,Dn=Math.max,Fu=Math.round,du=Math.floor,Es=t=>({x:t,y:t}),Zk={left:"right",right:"left",bottom:"top",top:"bottom"},Jk={start:"end",end:"start"};function Bm(t,e,s){return Dn(t,Bi(e,s))}function si(t,e){return typeof t=="function"?t(e):t}function ii(t){return t.split("-")[0]}function lo(t){return t.split("-")[1]}function Ap(t){return t==="x"?"y":"x"}function Mp(t){return t==="y"?"height":"width"}const eD=new Set(["top","bottom"]);function Cs(t){return eD.has(ii(t))?"y":"x"}function Lp(t){return Ap(Cs(t))}function tD(t,e,s){s===void 0&&(s=!1);const a=lo(t),r=Lp(t),l=Mp(r);let c=r==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Vu(c)),[c,Vu(c)]}function nD(t){const e=Vu(t);return[Fm(t),e,Fm(e)]}function Fm(t){return t.replace(/start|end/g,e=>Jk[e])}const Fb=["left","right"],Vb=["right","left"],sD=["top","bottom"],iD=["bottom","top"];function aD(t,e,s){switch(t){case"top":case"bottom":return s?e?Vb:Fb:e?Fb:Vb;case"left":case"right":return e?sD:iD;default:return[]}}function rD(t,e,s,a){const r=lo(t);let l=aD(ii(t),s==="start",a);return r&&(l=l.map(c=>c+"-"+r),e&&(l=l.concat(l.map(Fm)))),l}function Vu(t){return t.replace(/left|right|bottom|top/g,e=>Zk[e])}function oD(t){return{top:0,right:0,bottom:0,left:0,...t}}function n2(t){return typeof t!="number"?oD(t):{top:t,right:t,bottom:t,left:t}}function Hu(t){const{x:e,y:s,width:a,height:r}=t;return{width:a,height:r,top:s,left:e,right:e+a,bottom:s+r,x:e,y:s}}function Hb(t,e,s){let{reference:a,floating:r}=t;const l=Cs(e),c=Lp(e),f=Mp(c),h=ii(e),m=l==="y",g=a.x+a.width/2-r.width/2,x=a.y+a.height/2-r.height/2,b=a[f]/2-r[f]/2;let v;switch(h){case"top":v={x:g,y:a.y-r.height};break;case"bottom":v={x:g,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:x};break;case"left":v={x:a.x-r.width,y:x};break;default:v={x:a.x,y:a.y}}switch(lo(e)){case"start":v[c]-=b*(s&&m?-1:1);break;case"end":v[c]+=b*(s&&m?-1:1);break}return v}const lD=async(t,e,s)=>{const{placement:a="bottom",strategy:r="absolute",middleware:l=[],platform:c}=s,f=l.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:r}),{x:g,y:x}=Hb(m,a,h),b=a,v={},C=0;for(let E=0;E<f.length;E++){const{name:N,fn:R}=f[E],{x:D,y:j,data:O,reset:k}=await R({x:g,y:x,initialPlacement:a,placement:b,strategy:r,middlewareData:v,rects:m,platform:c,elements:{reference:t,floating:e}});g=D??g,x=j??x,v={...v,[N]:{...v[N],...O}},k&&C<=50&&(C++,typeof k=="object"&&(k.placement&&(b=k.placement),k.rects&&(m=k.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:r}):k.rects),{x:g,y:x}=Hb(m,b,h)),E=-1)}return{x:g,y:x,placement:b,strategy:r,middlewareData:v}};async function Nl(t,e){var s;e===void 0&&(e={});const{x:a,y:r,platform:l,rects:c,elements:f,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:b=!1,padding:v=0}=si(e,t),C=n2(v),N=f[b?x==="floating"?"reference":"floating":x],R=Hu(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(N)))==null||s?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:h})),D=x==="floating"?{x:a,y:r,width:c.floating.width,height:c.floating.height}:c.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),O=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},k=Hu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:j,strategy:h}):D);return{top:(R.top-k.top+C.top)/O.y,bottom:(k.bottom-R.bottom+C.bottom)/O.y,left:(R.left-k.left+C.left)/O.x,right:(k.right-R.right+C.right)/O.x}}const cD=t=>({name:"arrow",options:t,async fn(e){const{x:s,y:a,placement:r,rects:l,platform:c,elements:f,middlewareData:h}=e,{element:m,padding:g=0}=si(t,e)||{};if(m==null)return{};const x=n2(g),b={x:s,y:a},v=Lp(r),C=Mp(v),E=await c.getDimensions(m),N=v==="y",R=N?"top":"left",D=N?"bottom":"right",j=N?"clientHeight":"clientWidth",O=l.reference[C]+l.reference[v]-b[v]-l.floating[C],k=b[v]-l.reference[v],V=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let M=V?V[j]:0;(!M||!await(c.isElement==null?void 0:c.isElement(V)))&&(M=f.floating[j]||l.floating[C]);const _=O/2-k/2,W=M/2-E[C]/2-1,X=Bi(x[R],W),ce=Bi(x[D],W),F=X,Z=M-E[C]-ce,se=M/2-E[C]/2+_,oe=Bm(F,se,Z),z=!h.arrow&&lo(r)!=null&&se!==oe&&l.reference[C]/2-(se<F?X:ce)-E[C]/2<0,G=z?se<F?se-F:se-Z:0;return{[v]:b[v]+G,data:{[v]:oe,centerOffset:se-oe-G,...z&&{alignmentOffset:G}},reset:z}}}),uD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var s,a;const{placement:r,middlewareData:l,rects:c,initialPlacement:f,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...N}=si(t,e);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const R=ii(r),D=Cs(f),j=ii(f)===f,O=await(h.isRTL==null?void 0:h.isRTL(m.floating)),k=b||(j||!E?[Vu(f)]:nD(f)),V=C!=="none";!b&&V&&k.push(...rD(f,E,C,O));const M=[f,...k],_=await Nl(e,N),W=[];let X=((a=l.flip)==null?void 0:a.overflows)||[];if(g&&W.push(_[R]),x){const se=tD(r,c,O);W.push(_[se[0]],_[se[1]])}if(X=[...X,{placement:r,overflows:W}],!W.every(se=>se<=0)){var ce,F;const se=(((ce=l.flip)==null?void 0:ce.index)||0)+1,oe=M[se];if(oe&&(!(x==="alignment"?D!==Cs(oe):!1)||X.every(I=>Cs(I.placement)===D?I.overflows[0]>0:!0)))return{data:{index:se,overflows:X},reset:{placement:oe}};let z=(F=X.filter(G=>G.overflows[0]<=0).sort((G,I)=>G.overflows[1]-I.overflows[1])[0])==null?void 0:F.placement;if(!z)switch(v){case"bestFit":{var Z;const G=(Z=X.filter(I=>{if(V){const ue=Cs(I.placement);return ue===D||ue==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(ue=>ue>0).reduce((ue,ve)=>ue+ve,0)]).sort((I,ue)=>I[1]-ue[1])[0])==null?void 0:Z[0];G&&(z=G);break}case"initialPlacement":z=f;break}if(r!==z)return{reset:{placement:z}}}return{}}}};function qb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Gb(t){return Kk.some(e=>t[e]>=0)}const dD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:s}=e,{strategy:a="referenceHidden",...r}=si(t,e);switch(a){case"referenceHidden":{const l=await Nl(e,{...r,elementContext:"reference"}),c=qb(l,s.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Gb(c)}}}case"escaped":{const l=await Nl(e,{...r,altBoundary:!0}),c=qb(l,s.floating);return{data:{escapedOffsets:c,escaped:Gb(c)}}}default:return{}}}}},s2=new Set(["left","top"]);async function fD(t,e){const{placement:s,platform:a,elements:r}=t,l=await(a.isRTL==null?void 0:a.isRTL(r.floating)),c=ii(s),f=lo(s),h=Cs(s)==="y",m=s2.has(c)?-1:1,g=l&&h?-1:1,x=si(e,t);let{mainAxis:b,crossAxis:v,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof C=="number"&&(v=f==="end"?C*-1:C),h?{x:v*g,y:b*m}:{x:b*m,y:v*g}}const hD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var s,a;const{x:r,y:l,placement:c,middlewareData:f}=e,h=await fD(e,t);return c===((s=f.offset)==null?void 0:s.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:r+h.x,y:l+h.y,data:{...h,placement:c}}}}},mD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:a,placement:r}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:R,y:D}=N;return{x:R,y:D}}},...h}=si(t,e),m={x:s,y:a},g=await Nl(e,h),x=Cs(ii(r)),b=Ap(x);let v=m[b],C=m[x];if(l){const N=b==="y"?"top":"left",R=b==="y"?"bottom":"right",D=v+g[N],j=v-g[R];v=Bm(D,v,j)}if(c){const N=x==="y"?"top":"left",R=x==="y"?"bottom":"right",D=C+g[N],j=C-g[R];C=Bm(D,C,j)}const E=f.fn({...e,[b]:v,[x]:C});return{...E,data:{x:E.x-s,y:E.y-a,enabled:{[b]:l,[x]:c}}}}}},pD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:s,y:a,placement:r,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:h=!0,crossAxis:m=!0}=si(t,e),g={x:s,y:a},x=Cs(r),b=Ap(x);let v=g[b],C=g[x];const E=si(f,e),N=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(h){const j=b==="y"?"height":"width",O=l.reference[b]-l.floating[j]+N.mainAxis,k=l.reference[b]+l.reference[j]-N.mainAxis;v<O?v=O:v>k&&(v=k)}if(m){var R,D;const j=b==="y"?"width":"height",O=s2.has(ii(r)),k=l.reference[x]-l.floating[j]+(O&&((R=c.offset)==null?void 0:R[x])||0)+(O?0:N.crossAxis),V=l.reference[x]+l.reference[j]+(O?0:((D=c.offset)==null?void 0:D[x])||0)-(O?N.crossAxis:0);C<k?C=k:C>V&&(C=V)}return{[b]:v,[x]:C}}}},gD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var s,a;const{placement:r,rects:l,platform:c,elements:f}=e,{apply:h=()=>{},...m}=si(t,e),g=await Nl(e,m),x=ii(r),b=lo(r),v=Cs(r)==="y",{width:C,height:E}=l.floating;let N,R;x==="top"||x==="bottom"?(N=x,R=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(R=x,N=b==="end"?"top":"bottom");const D=E-g.top-g.bottom,j=C-g.left-g.right,O=Bi(E-g[N],D),k=Bi(C-g[R],j),V=!e.middlewareData.shift;let M=O,_=k;if((s=e.middlewareData.shift)!=null&&s.enabled.x&&(_=j),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(M=D),V&&!b){const X=Dn(g.left,0),ce=Dn(g.right,0),F=Dn(g.top,0),Z=Dn(g.bottom,0);v?_=C-2*(X!==0||ce!==0?X+ce:Dn(g.left,g.right)):M=E-2*(F!==0||Z!==0?F+Z:Dn(g.top,g.bottom))}await h({...e,availableWidth:_,availableHeight:M});const W=await c.getDimensions(f.floating);return C!==W.width||E!==W.height?{reset:{rects:!0}}:{}}}};function cd(){return typeof window<"u"}function co(t){return i2(t)?(t.nodeName||"").toLowerCase():"#document"}function _n(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(i2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function i2(t){return cd()?t instanceof Node||t instanceof _n(t).Node:!1}function ds(t){return cd()?t instanceof Element||t instanceof _n(t).Element:!1}function Ts(t){return cd()?t instanceof HTMLElement||t instanceof _n(t).HTMLElement:!1}function $b(t){return!cd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _n(t).ShadowRoot}const yD=new Set(["inline","contents"]);function Il(t){const{overflow:e,overflowX:s,overflowY:a,display:r}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+s)&&!yD.has(r)}const xD=new Set(["table","td","th"]);function bD(t){return xD.has(co(t))}const vD=[":popover-open",":modal"];function ud(t){return vD.some(e=>{try{return t.matches(e)}catch{return!1}})}const SD=["transform","translate","scale","rotate","perspective"],CD=["transform","translate","scale","rotate","perspective","filter"],wD=["paint","layout","strict","content"];function Up(t){const e=Pp(),s=ds(t)?fs(t):t;return SD.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!e&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!e&&(s.filter?s.filter!=="none":!1)||CD.some(a=>(s.willChange||"").includes(a))||wD.some(a=>(s.contain||"").includes(a))}function ED(t){let e=Fi(t);for(;Ts(e)&&!Kr(e);){if(Up(e))return e;if(ud(e))return null;e=Fi(e)}return null}function Pp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ND=new Set(["html","body","#document"]);function Kr(t){return ND.has(co(t))}function fs(t){return _n(t).getComputedStyle(t)}function dd(t){return ds(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fi(t){if(co(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$b(t)&&t.host||ks(t);return $b(e)?e.host:e}function a2(t){const e=Fi(t);return Kr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&Il(e)?e:a2(e)}function Rl(t,e,s){var a;e===void 0&&(e=[]),s===void 0&&(s=!0);const r=a2(t),l=r===((a=t.ownerDocument)==null?void 0:a.body),c=_n(r);if(l){const f=Vm(c);return e.concat(c,c.visualViewport||[],Il(r)?r:[],f&&s?Rl(f):[])}return e.concat(r,Rl(r,[],s))}function Vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function r2(t){const e=fs(t);let s=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const r=Ts(t),l=r?t.offsetWidth:s,c=r?t.offsetHeight:a,f=Fu(s)!==l||Fu(a)!==c;return f&&(s=l,a=c),{width:s,height:a,$:f}}function zp(t){return ds(t)?t:t.contextElement}function qr(t){const e=zp(t);if(!Ts(e))return Es(1);const s=e.getBoundingClientRect(),{width:a,height:r,$:l}=r2(e);let c=(l?Fu(s.width):s.width)/a,f=(l?Fu(s.height):s.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const RD=Es(0);function o2(t){const e=_n(t);return!Pp()||!e.visualViewport?RD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TD(t,e,s){return e===void 0&&(e=!1),!s||e&&s!==_n(t)?!1:e}function Ma(t,e,s,a){e===void 0&&(e=!1),s===void 0&&(s=!1);const r=t.getBoundingClientRect(),l=zp(t);let c=Es(1);e&&(a?ds(a)&&(c=qr(a)):c=qr(t));const f=TD(l,s,a)?o2(l):Es(0);let h=(r.left+f.x)/c.x,m=(r.top+f.y)/c.y,g=r.width/c.x,x=r.height/c.y;if(l){const b=_n(l),v=a&&ds(a)?_n(a):a;let C=b,E=Vm(C);for(;E&&a&&v!==C;){const N=qr(E),R=E.getBoundingClientRect(),D=fs(E),j=R.left+(E.clientLeft+parseFloat(D.paddingLeft))*N.x,O=R.top+(E.clientTop+parseFloat(D.paddingTop))*N.y;h*=N.x,m*=N.y,g*=N.x,x*=N.y,h+=j,m+=O,C=_n(E),E=Vm(C)}}return Hu({width:g,height:x,x:h,y:m})}function fd(t,e){const s=dd(t).scrollLeft;return e?e.left+s:Ma(ks(t)).left+s}function l2(t,e){const s=t.getBoundingClientRect(),a=s.left+e.scrollLeft-fd(t,s),r=s.top+e.scrollTop;return{x:a,y:r}}function kD(t){let{elements:e,rect:s,offsetParent:a,strategy:r}=t;const l=r==="fixed",c=ks(a),f=e?ud(e.floating):!1;if(a===c||f&&l)return s;let h={scrollLeft:0,scrollTop:0},m=Es(1);const g=Es(0),x=Ts(a);if((x||!x&&!l)&&((co(a)!=="body"||Il(c))&&(h=dd(a)),Ts(a))){const v=Ma(a);m=qr(a),g.x=v.x+a.clientLeft,g.y=v.y+a.clientTop}const b=c&&!x&&!l?l2(c,h):Es(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-h.scrollLeft*m.x+g.x+b.x,y:s.y*m.y-h.scrollTop*m.y+g.y+b.y}}function DD(t){return Array.from(t.getClientRects())}function jD(t){const e=ks(t),s=dd(t),a=t.ownerDocument.body,r=Dn(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=Dn(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-s.scrollLeft+fd(t);const f=-s.scrollTop;return fs(a).direction==="rtl"&&(c+=Dn(e.clientWidth,a.clientWidth)-r),{width:r,height:l,x:c,y:f}}const Yb=25;function _D(t,e){const s=_n(t),a=ks(t),r=s.visualViewport;let l=a.clientWidth,c=a.clientHeight,f=0,h=0;if(r){l=r.width,c=r.height;const g=Pp();(!g||g&&e==="fixed")&&(f=r.offsetLeft,h=r.offsetTop)}const m=fd(a);if(m<=0){const g=a.ownerDocument,x=g.body,b=getComputedStyle(x),v=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,C=Math.abs(a.clientWidth-x.clientWidth-v);C<=Yb&&(l-=C)}else m<=Yb&&(l+=m);return{width:l,height:c,x:f,y:h}}const OD=new Set(["absolute","fixed"]);function AD(t,e){const s=Ma(t,!0,e==="fixed"),a=s.top+t.clientTop,r=s.left+t.clientLeft,l=Ts(t)?qr(t):Es(1),c=t.clientWidth*l.x,f=t.clientHeight*l.y,h=r*l.x,m=a*l.y;return{width:c,height:f,x:h,y:m}}function Qb(t,e,s){let a;if(e==="viewport")a=_D(t,s);else if(e==="document")a=jD(ks(t));else if(ds(e))a=AD(e,s);else{const r=o2(t);a={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hu(a)}function c2(t,e){const s=Fi(t);return s===e||!ds(s)||Kr(s)?!1:fs(s).position==="fixed"||c2(s,e)}function MD(t,e){const s=e.get(t);if(s)return s;let a=Rl(t,[],!1).filter(f=>ds(f)&&co(f)!=="body"),r=null;const l=fs(t).position==="fixed";let c=l?Fi(t):t;for(;ds(c)&&!Kr(c);){const f=fs(c),h=Up(c);!h&&f.position==="fixed"&&(r=null),(l?!h&&!r:!h&&f.position==="static"&&!!r&&OD.has(r.position)||Il(c)&&!h&&c2(t,c))?a=a.filter(g=>g!==c):r=f,c=Fi(c)}return e.set(t,a),a}function LD(t){let{element:e,boundary:s,rootBoundary:a,strategy:r}=t;const c=[...s==="clippingAncestors"?ud(e)?[]:MD(e,this._c):[].concat(s),a],f=c[0],h=c.reduce((m,g)=>{const x=Qb(e,g,r);return m.top=Dn(x.top,m.top),m.right=Bi(x.right,m.right),m.bottom=Bi(x.bottom,m.bottom),m.left=Dn(x.left,m.left),m},Qb(e,f,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function UD(t){const{width:e,height:s}=r2(t);return{width:e,height:s}}function PD(t,e,s){const a=Ts(e),r=ks(e),l=s==="fixed",c=Ma(t,!0,l,e);let f={scrollLeft:0,scrollTop:0};const h=Es(0);function m(){h.x=fd(r)}if(a||!a&&!l)if((co(e)!=="body"||Il(r))&&(f=dd(e)),a){const v=Ma(e,!0,l,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else r&&m();l&&!a&&r&&m();const g=r&&!a&&!l?l2(r,f):Es(0),x=c.left+f.scrollLeft-h.x-g.x,b=c.top+f.scrollTop-h.y-g.y;return{x,y:b,width:c.width,height:c.height}}function Zh(t){return fs(t).position==="static"}function Wb(t,e){if(!Ts(t)||fs(t).position==="fixed")return null;if(e)return e(t);let s=t.offsetParent;return ks(t)===s&&(s=s.ownerDocument.body),s}function u2(t,e){const s=_n(t);if(ud(t))return s;if(!Ts(t)){let r=Fi(t);for(;r&&!Kr(r);){if(ds(r)&&!Zh(r))return r;r=Fi(r)}return s}let a=Wb(t,e);for(;a&&bD(a)&&Zh(a);)a=Wb(a,e);return a&&Kr(a)&&Zh(a)&&!Up(a)?s:a||ED(t)||s}const zD=async function(t){const e=this.getOffsetParent||u2,s=this.getDimensions,a=await s(t.floating);return{reference:PD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ID(t){return fs(t).direction==="rtl"}const BD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:ks,getClippingRect:LD,getOffsetParent:u2,getElementRects:zD,getClientRects:DD,getDimensions:UD,getScale:qr,isElement:ds,isRTL:ID};function d2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FD(t,e){let s=null,a;const r=ks(t);function l(){var f;clearTimeout(a),(f=s)==null||f.disconnect(),s=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),l();const m=t.getBoundingClientRect(),{left:g,top:x,width:b,height:v}=m;if(f||e(),!b||!v)return;const C=du(x),E=du(r.clientWidth-(g+b)),N=du(r.clientHeight-(x+v)),R=du(g),j={rootMargin:-C+"px "+-E+"px "+-N+"px "+-R+"px",threshold:Dn(0,Bi(1,h))||1};let O=!0;function k(V){const M=V[0].intersectionRatio;if(M!==h){if(!O)return c();M?c(!1,M):a=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!d2(m,t.getBoundingClientRect())&&c(),O=!1}try{s=new IntersectionObserver(k,{...j,root:r.ownerDocument})}catch{s=new IntersectionObserver(k,j)}s.observe(t)}return c(!0),l}function VD(t,e,s,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,m=zp(t),g=r||l?[...m?Rl(m):[],...Rl(e)]:[];g.forEach(R=>{r&&R.addEventListener("scroll",s,{passive:!0}),l&&R.addEventListener("resize",s)});const x=m&&f?FD(m,s):null;let b=-1,v=null;c&&(v=new ResizeObserver(R=>{let[D]=R;D&&D.target===m&&v&&(v.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var j;(j=v)==null||j.observe(e)})),s()}),m&&!h&&v.observe(m),v.observe(e));let C,E=h?Ma(t):null;h&&N();function N(){const R=Ma(t);E&&!d2(E,R)&&s(),E=R,C=requestAnimationFrame(N)}return s(),()=>{var R;g.forEach(D=>{r&&D.removeEventListener("scroll",s),l&&D.removeEventListener("resize",s)}),x?.(),(R=v)==null||R.disconnect(),v=null,h&&cancelAnimationFrame(C)}}const HD=hD,qD=mD,GD=uD,$D=gD,YD=dD,Xb=cD,QD=pD,WD=(t,e,s)=>{const a=new Map,r={platform:BD,...s},l={...r.platform,_c:a};return lD(t,e,{...r,platform:l})};var XD=typeof document<"u",KD=function(){},Ou=XD?w.useLayoutEffect:KD;function qu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let s,a,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==e.length)return!1;for(a=s;a--!==0;)if(!qu(t[a],e[a]))return!1;return!0}if(r=Object.keys(t),s=r.length,s!==Object.keys(e).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(e,r[a]))return!1;for(a=s;a--!==0;){const l=r[a];if(!(l==="_owner"&&t.$$typeof)&&!qu(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function f2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kb(t,e){const s=f2(t);return Math.round(e*s)/s}function Jh(t){const e=w.useRef(t);return Ou(()=>{e.current=t}),e}function ZD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:s="absolute",middleware:a=[],platform:r,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:h,open:m}=t,[g,x]=w.useState({x:0,y:0,strategy:s,placement:e,middlewareData:{},isPositioned:!1}),[b,v]=w.useState(a);qu(b,a)||v(a);const[C,E]=w.useState(null),[N,R]=w.useState(null),D=w.useCallback(I=>{I!==V.current&&(V.current=I,E(I))},[]),j=w.useCallback(I=>{I!==M.current&&(M.current=I,R(I))},[]),O=l||C,k=c||N,V=w.useRef(null),M=w.useRef(null),_=w.useRef(g),W=h!=null,X=Jh(h),ce=Jh(r),F=Jh(m),Z=w.useCallback(()=>{if(!V.current||!M.current)return;const I={placement:e,strategy:s,middleware:b};ce.current&&(I.platform=ce.current),WD(V.current,M.current,I).then(ue=>{const ve={...ue,isPositioned:F.current!==!1};se.current&&!qu(_.current,ve)&&(_.current=ve,_p.flushSync(()=>{x(ve)}))})},[b,e,s,ce,F]);Ou(()=>{m===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,x(I=>({...I,isPositioned:!1})))},[m]);const se=w.useRef(!1);Ou(()=>(se.current=!0,()=>{se.current=!1}),[]),Ou(()=>{if(O&&(V.current=O),k&&(M.current=k),O&&k){if(X.current)return X.current(O,k,Z);Z()}},[O,k,Z,X,W]);const oe=w.useMemo(()=>({reference:V,floating:M,setReference:D,setFloating:j}),[D,j]),z=w.useMemo(()=>({reference:O,floating:k}),[O,k]),G=w.useMemo(()=>{const I={position:s,left:0,top:0};if(!z.floating)return I;const ue=Kb(z.floating,g.x),ve=Kb(z.floating,g.y);return f?{...I,transform:"translate("+ue+"px, "+ve+"px)",...f2(z.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ue,top:ve}},[s,f,z.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:Z,refs:oe,elements:z,floatingStyles:G}),[g,Z,oe,z,G])}const JD=t=>{function e(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:a,padding:r}=typeof t=="function"?t(s):t;return a&&e(a)?a.current!=null?Xb({element:a.current,padding:r}).fn(s):{}:a?Xb({element:a,padding:r}).fn(s):{}}}},e5=(t,e)=>({...HD(t),options:[t,e]}),t5=(t,e)=>({...qD(t),options:[t,e]}),n5=(t,e)=>({...QD(t),options:[t,e]}),s5=(t,e)=>({...GD(t),options:[t,e]}),i5=(t,e)=>({...$D(t),options:[t,e]}),a5=(t,e)=>({...YD(t),options:[t,e]}),r5=(t,e)=>({...JD(t),options:[t,e]});function o5(t){const e=l5(t),s=w.forwardRef((a,r)=>{const{children:l,...c}=a,f=w.Children.toArray(l),h=f.find(u5);if(h){const m=h.props.children,g=f.map(x=>x===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:x);return u.jsx(e,{...c,ref:r,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return u.jsx(e,{...c,ref:r,children:l})});return s.displayName=`${t}.Slot`,s}function l5(t){const e=w.forwardRef((s,a)=>{const{children:r,...l}=s;if(w.isValidElement(r)){const c=f5(r),f=d5(l,r.props);return r.type!==w.Fragment&&(f.ref=a?t2(a,c):c),w.cloneElement(r,f)}return w.Children.count(r)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c5=Symbol("radix.slottable");function u5(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c5}function d5(t,e){const s={...e};for(const a in e){const r=t[a],l=e[a];/^on[A-Z]/.test(a)?r&&l?s[a]=(...f)=>{const h=l(...f);return r(...f),h}:r&&(s[a]=r):a==="style"?s[a]={...r,...l}:a==="className"&&(s[a]=[r,l].filter(Boolean).join(" "))}return{...t,...s}}function f5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var h5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ia=h5.reduce((t,e)=>{const s=o5(`Primitive.${e}`),a=w.forwardRef((r,l)=>{const{asChild:c,...f}=r,h=c?s:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(h,{...f,ref:l})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function m5(t,e){t&&_p.flushSync(()=>t.dispatchEvent(e))}var p5="Arrow",h2=w.forwardRef((t,e)=>{const{children:s,width:a=10,height:r=5,...l}=t;return u.jsx(Ia.svg,{...l,ref:e,width:a,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});h2.displayName=p5;var g5=h2;function hd(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...s)=>e.current?.(...s),[])}function y5(t){const[e,s]=w.useState(void 0);return Aa(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let c,f;if("borderBoxSize"in l){const h=l.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,f=m.blockSize}else c=t.offsetWidth,f=t.offsetHeight;s({width:c,height:f})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else s(void 0)},[t]),e}var Ip="Popper",[m2,p2]=e2(Ip),[x5,g2]=m2(Ip),y2=t=>{const{__scopePopper:e,children:s}=t,[a,r]=w.useState(null);return u.jsx(x5,{scope:e,anchor:a,onAnchorChange:r,children:s})};y2.displayName=Ip;var x2="PopperAnchor",b2=w.forwardRef((t,e)=>{const{__scopePopper:s,virtualRef:a,...r}=t,l=g2(x2,s),c=w.useRef(null),f=oo(e,c),h=w.useRef(null);return w.useEffect(()=>{const m=h.current;h.current=a?.current||c.current,m!==h.current&&l.onAnchorChange(h.current)}),a?null:u.jsx(Ia.div,{...r,ref:f})});b2.displayName=x2;var Bp="PopperContent",[b5,v5]=m2(Bp),v2=w.forwardRef((t,e)=>{const{__scopePopper:s,side:a="bottom",sideOffset:r=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:v="optimized",onPlaced:C,...E}=t,N=g2(Bp,s),[R,D]=w.useState(null),j=oo(e,pe=>D(pe)),[O,k]=w.useState(null),V=y5(O),M=V?.width??0,_=V?.height??0,W=a+(l!=="center"?"-"+l:""),X=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ce=Array.isArray(m)?m:[m],F=ce.length>0,Z={padding:X,boundary:ce.filter(C5),altBoundary:F},{refs:se,floatingStyles:oe,placement:z,isPositioned:G,middlewareData:I}=ZD({strategy:"fixed",placement:W,whileElementsMounted:(...pe)=>VD(...pe,{animationFrame:v==="always"}),elements:{reference:N.anchor},middleware:[e5({mainAxis:r+_,alignmentAxis:c}),h&&t5({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?n5():void 0,...Z}),h&&s5({...Z}),i5({...Z,apply:({elements:pe,rects:Oe,availableWidth:Ae,availableHeight:Ht})=>{const{width:cn,height:tn}=Oe.reference,ge=pe.floating.style;ge.setProperty("--radix-popper-available-width",`${Ae}px`),ge.setProperty("--radix-popper-available-height",`${Ht}px`),ge.setProperty("--radix-popper-anchor-width",`${cn}px`),ge.setProperty("--radix-popper-anchor-height",`${tn}px`)}}),O&&r5({element:O,padding:f}),w5({arrowWidth:M,arrowHeight:_}),b&&a5({strategy:"referenceHidden",...Z})]}),[ue,ve]=w2(z),U=hd(C);Aa(()=>{G&&U?.()},[G,U]);const $=I.arrow?.x,te=I.arrow?.y,ae=I.arrow?.centerOffset!==0,[Ce,Ne]=w.useState();return Aa(()=>{R&&Ne(window.getComputedStyle(R).zIndex)},[R]),u.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:G?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(b5,{scope:s,placedSide:ue,onArrowChange:k,arrowX:$,arrowY:te,shouldHideArrow:ae,children:u.jsx(Ia.div,{"data-side":ue,"data-align":ve,...E,ref:j,style:{...E.style,animation:G?void 0:"none"}})})})});v2.displayName=Bp;var S2="PopperArrow",S5={top:"bottom",right:"left",bottom:"top",left:"right"},C2=w.forwardRef(function(e,s){const{__scopePopper:a,...r}=e,l=v5(S2,a),c=S5[l.placedSide];return u.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:u.jsx(g5,{...r,ref:s,style:{...r.style,display:"block"}})})});C2.displayName=S2;function C5(t){return t!==null}var w5=t=>({name:"transformOrigin",options:t,fn(e){const{placement:s,rects:a,middlewareData:r}=e,c=r.arrow?.centerOffset!==0,f=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,g]=w2(s),x={start:"0%",center:"50%",end:"100%"}[g],b=(r.arrow?.x??0)+f/2,v=(r.arrow?.y??0)+h/2;let C="",E="";return m==="bottom"?(C=c?x:`${b}px`,E=`${-h}px`):m==="top"?(C=c?x:`${b}px`,E=`${a.floating.height+h}px`):m==="right"?(C=`${-h}px`,E=c?x:`${v}px`):m==="left"&&(C=`${a.floating.width+h}px`,E=c?x:`${v}px`),{data:{x:C,y:E}}}});function w2(t){const[e,s="center"]=t.split("-");return[e,s]}var E5=y2,N5=b2,R5=v2,T5=C2,k5="Portal",E2=w.forwardRef((t,e)=>{const{container:s,...a}=t,[r,l]=w.useState(!1);Aa(()=>l(!0),[]);const c=s||r&&globalThis?.document?.body;return c?ck.createPortal(u.jsx(Ia.div,{...a,ref:e}),c):null});E2.displayName=k5;function D5(t,e){return w.useReducer((s,a)=>e[s][a]??s,t)}var Fp=t=>{const{present:e,children:s}=t,a=j5(e),r=typeof s=="function"?s({present:a.isPresent}):w.Children.only(s),l=oo(a.ref,_5(r));return typeof s=="function"||a.isPresent?w.cloneElement(r,{ref:l}):null};Fp.displayName="Presence";function j5(t){const[e,s]=w.useState(),a=w.useRef(null),r=w.useRef(t),l=w.useRef("none"),c=t?"mounted":"unmounted",[f,h]=D5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=fu(a.current);l.current=f==="mounted"?m:"none"},[f]),Aa(()=>{const m=a.current,g=r.current;if(g!==t){const b=l.current,v=fu(m);t?h("MOUNT"):v==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&b!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,h]),Aa(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,x=v=>{const E=fu(a.current).includes(CSS.escape(v.animationName));if(v.target===e&&E&&(h("ANIMATION_END"),!r.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=v=>{v.target===e&&(l.current=fu(a.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(m=>{a.current=m?getComputedStyle(m):null,s(m)},[])}}function fu(t){return t?.animationName||"none"}function _5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function O5(t,e=globalThis?.document){const s=hd(t);w.useEffect(()=>{const a=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[s,e])}var A5="DismissableLayer",Hm="dismissableLayer.update",M5="dismissableLayer.pointerDownOutside",L5="dismissableLayer.focusOutside",Zb,N2=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R2=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...h}=t,m=w.useContext(N2),[g,x]=w.useState(null),b=g?.ownerDocument??globalThis?.document,[,v]=w.useState({}),C=oo(e,M=>x(M)),E=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(N),D=g?E.indexOf(g):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,O=D>=R,k=z5(M=>{const _=M.target,W=[...m.branches].some(X=>X.contains(_));!O||W||(r?.(M),c?.(M),M.defaultPrevented||f?.())},b),V=I5(M=>{const _=M.target;[...m.branches].some(X=>X.contains(_))||(l?.(M),c?.(M),M.defaultPrevented||f?.())},b);return O5(M=>{D===m.layers.size-1&&(a?.(M),!M.defaultPrevented&&f&&(M.preventDefault(),f()))},b),w.useEffect(()=>{if(g)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Zb=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Jb(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Zb)}},[g,b,s,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Jb())},[g,m]),w.useEffect(()=>{const M=()=>v({});return document.addEventListener(Hm,M),()=>document.removeEventListener(Hm,M)},[]),u.jsx(Ia.div,{...h,ref:C,style:{pointerEvents:j?O?"auto":"none":void 0,...t.style},onFocusCapture:$n(t.onFocusCapture,V.onFocusCapture),onBlurCapture:$n(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:$n(t.onPointerDownCapture,k.onPointerDownCapture)})});R2.displayName=A5;var U5="DismissableLayerBranch",P5=w.forwardRef((t,e)=>{const s=w.useContext(N2),a=w.useRef(null),r=oo(e,a);return w.useEffect(()=>{const l=a.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),u.jsx(Ia.div,{...t,ref:r})});P5.displayName=U5;function z5(t,e=globalThis?.document){const s=hd(t),a=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!a.current){let h=function(){T2(M5,s,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);a.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>a.current=!0}}function I5(t,e=globalThis?.document){const s=hd(t),a=w.useRef(!1);return w.useEffect(()=>{const r=l=>{l.target&&!a.current&&T2(L5,s,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Jb(){const t=new CustomEvent(Hm);document.dispatchEvent(t)}function T2(t,e,s,{discrete:a}){const r=s.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),a?m5(r,l):r.dispatchEvent(l)}var em,md="HoverCard",[k2]=e2(md,[p2]),pd=p2(),[B5,gd]=k2(md),D2=t=>{const{__scopeHoverCard:e,children:s,open:a,defaultOpen:r,onOpenChange:l,openDelay:c=700,closeDelay:f=300}=t,h=pd(e),m=w.useRef(0),g=w.useRef(0),x=w.useRef(!1),b=w.useRef(!1),[v,C]=Qk({prop:a,defaultProp:r??!1,onChange:l,caller:md}),E=w.useCallback(()=>{clearTimeout(g.current),m.current=window.setTimeout(()=>C(!0),c)},[c,C]),N=w.useCallback(()=>{clearTimeout(m.current),!x.current&&!b.current&&(g.current=window.setTimeout(()=>C(!1),f))},[f,C]),R=w.useCallback(()=>C(!1),[C]);return w.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(g.current)},[]),u.jsx(B5,{scope:e,open:v,onOpenChange:C,onOpen:E,onClose:N,onDismiss:R,hasSelectionRef:x,isPointerDownOnContentRef:b,children:u.jsx(E5,{...h,children:s})})};D2.displayName=md;var j2="HoverCardTrigger",_2=w.forwardRef((t,e)=>{const{__scopeHoverCard:s,...a}=t,r=gd(j2,s),l=pd(s);return u.jsx(N5,{asChild:!0,...l,children:u.jsx(Ia.a,{"data-state":r.open?"open":"closed",...a,ref:e,onPointerEnter:$n(t.onPointerEnter,$u(r.onOpen)),onPointerLeave:$n(t.onPointerLeave,$u(r.onClose)),onFocus:$n(t.onFocus,r.onOpen),onBlur:$n(t.onBlur,r.onClose),onTouchStart:$n(t.onTouchStart,c=>c.preventDefault())})})});_2.displayName=j2;var Vp="HoverCardPortal",[F5,V5]=k2(Vp,{forceMount:void 0}),O2=t=>{const{__scopeHoverCard:e,forceMount:s,children:a,container:r}=t,l=gd(Vp,e);return u.jsx(F5,{scope:e,forceMount:s,children:u.jsx(Fp,{present:s||l.open,children:u.jsx(E2,{asChild:!0,container:r,children:a})})})};O2.displayName=Vp;var Gu="HoverCardContent",A2=w.forwardRef((t,e)=>{const s=V5(Gu,t.__scopeHoverCard),{forceMount:a=s.forceMount,...r}=t,l=gd(Gu,t.__scopeHoverCard);return u.jsx(Fp,{present:a||l.open,children:u.jsx(H5,{"data-state":l.open?"open":"closed",...r,onPointerEnter:$n(t.onPointerEnter,$u(l.onOpen)),onPointerLeave:$n(t.onPointerLeave,$u(l.onClose)),ref:e})})});A2.displayName=Gu;var H5=w.forwardRef((t,e)=>{const{__scopeHoverCard:s,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:c,...f}=t,h=gd(Gu,s),m=pd(s),g=w.useRef(null),x=oo(e,g),[b,v]=w.useState(!1);return w.useEffect(()=>{if(b){const C=document.body;return em=C.style.userSelect||C.style.webkitUserSelect,C.style.userSelect="none",C.style.webkitUserSelect="none",()=>{C.style.userSelect=em,C.style.webkitUserSelect=em}}},[b]),w.useEffect(()=>{if(g.current){const C=()=>{v(!1),h.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(h.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",C),()=>{document.removeEventListener("pointerup",C),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!1}}},[h.isPointerDownOnContentRef,h.hasSelectionRef]),w.useEffect(()=>{g.current&&G5(g.current).forEach(E=>E.setAttribute("tabindex","-1"))}),u.jsx(R2,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:r,onFocusOutside:$n(l,C=>{C.preventDefault()}),onDismiss:h.onDismiss,children:u.jsx(R5,{...m,...f,onPointerDown:$n(f.onPointerDown,C=>{C.currentTarget.contains(C.target)&&v(!0),h.hasSelectionRef.current=!1,h.isPointerDownOnContentRef.current=!0}),ref:x,style:{...f.style,userSelect:b?"text":void 0,WebkitUserSelect:b?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),q5="HoverCardArrow",M2=w.forwardRef((t,e)=>{const{__scopeHoverCard:s,...a}=t,r=pd(s);return u.jsx(T5,{...r,...a,ref:e})});M2.displayName=q5;function $u(t){return e=>e.pointerType==="touch"?void 0:t()}function G5(t){const e=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;s.nextNode();)e.push(s.currentNode);return e}var $5=D2,Y5=_2,Q5=O2,W5=A2,X5=M2;const K5=({serviceId:t,serviceName:e,description:s,useCases:a,parameters:r,example:l,exampleHex:c,onLoadExample:f,children:h})=>u.jsxs($5,{openDelay:200,closeDelay:300,children:[u.jsx(Y5,{asChild:!0,children:h}),u.jsx(Q5,{children:u.jsxs(W5,{className:"z-50 max-w-md rounded-lg border border-cyber-blue/30 bg-black/95 p-4 shadow-2xl backdrop-blur-sm animate-fade-in data-[side=bottom]:animate-slideUpAndFade data-[side=right]:animate-slideLeftAndFade data-[side=left]:animate-slideRightAndFade data-[side=top]:animate-slideDownAndFade",sideOffset:5,children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"border-b border-cyber-blue/30 pb-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"font-mono text-sm font-bold text-cyber-blue",children:t}),u.jsx("span",{className:"rounded bg-cyber-blue/10 px-2 py-0.5 text-xs text-cyber-blue",children:"Diagnostic"})]}),u.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:e})]}),u.jsx("div",{children:u.jsx("p",{className:"text-xs leading-relaxed text-gray-300",children:s})}),a.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"mb-1 text-xs font-semibold text-cyber-purple",children:"Common Use Cases:"}),u.jsx("ul",{className:"ml-4 list-disc space-y-0.5 text-xs text-gray-400",children:a.map((m,g)=>u.jsx("li",{children:m},g))})]}),r&&r.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"mb-1 text-xs font-semibold text-cyber-green",children:"Key Parameters:"}),u.jsx("ul",{className:"ml-4 list-disc space-y-0.5 text-xs text-gray-400",children:r.map((m,g)=>u.jsx("li",{children:m},g))})]}),l&&u.jsxs("div",{children:[u.jsx("h5",{className:"mb-1 text-xs font-semibold text-cyber-pink",children:"Example:"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("code",{className:"block rounded bg-black/50 p-2 font-mono text-xs text-cyan-400",children:l}),c&&f&&u.jsx("button",{onClick:m=>{m.stopPropagation(),f(c)},className:"self-end rounded border border-cyber-blue/50 bg-cyber-blue/10 px-3 py-1 text-xs font-bold text-cyber-blue transition-all hover:bg-cyber-blue hover:text-black hover:shadow-[0_0_10px_rgba(0,255,255,0.5)] active:scale-95",children:"Try Example"})]})]})]}),u.jsx(X5,{className:"fill-black/95 stroke-cyber-blue/30"})]})})]}),L2={"0x10":{serviceId:"0x10",serviceName:"Diagnostic Session Control",description:"Enables different diagnostic sessions with varying access levels and capabilities. Essential for accessing protected diagnostic functions.",useCases:["Switch to programming session for ECU flashing","Enter extended diagnostic mode for advanced tests","Return to default session after diagnostics"],parameters:["Session Type: 0x01 (Default), 0x02 (Programming), 0x03 (Extended)"],example:"Request: 10 03  Switch to Extended Session",exampleHex:"10 03",quickExamples:[{label:"Default Session",hex:"10 01"},{label:"Programming Session",hex:"10 02"},{label:"Extended Session",hex:"10 03"}]},"0x11":{serviceId:"0x11",serviceName:"ECU Reset",description:"Performs different types of ECU resets including soft reset, hard reset, and key-off/on cycles.",useCases:["Restart ECU after software update","Clear temporary fault codes","Apply new configuration settings"],parameters:["Reset Type: 0x01 (Hard), 0x02 (Key Off/On), 0x03 (Soft)"],example:"Request: 11 01  Perform Hard Reset",exampleHex:"11 01",quickExamples:[{label:"Hard Reset",hex:"11 01"},{label:"Key Off/On Reset",hex:"11 02"},{label:"Soft Reset",hex:"11 03"}]},"0x14":{serviceId:"0x14",serviceName:"Clear Diagnostic Information",description:"Clears stored diagnostic trouble codes (DTCs) and related freeze frame data from ECU memory.",useCases:["Clear fault codes after repair","Reset diagnostic counters","Remove stored freeze frame data"],parameters:["Group of DTC: 0xFFFFFF (All DTCs)"],example:"Request: 14 FF FF FF  Clear All DTCs",exampleHex:"14 FF FF FF",quickExamples:[{label:"Clear All DTCs",hex:"14 FF FF FF"}]},"0x19":{serviceId:"0x19",serviceName:"Read DTC Information",description:"Retrieves diagnostic trouble codes (DTCs) and related information like status, severity, freeze frames, and extended data. Supports 15 subfunctions per ISO 14229.",useCases:["Read current fault codes by status","Count DTCs matching specific criteria","Retrieve freeze frame (snapshot) data","Get extended data (counters, aging)","Filter DTCs by severity level"],parameters:["Sub-function: 0x01-0x0F (15 report types)","Status Mask: 0x01 (Failed), 0x04 (Pending), 0x08 (Confirmed), 0xFF (All)","Severity Mask: 0x20 (Check Soon), 0x40 (Check Now), 0x80 (Critical)"],example:"Request: 19 02 FF  Read all DTCs with any status",exampleHex:"19 02 FF",quickExamples:[{label:"Count All DTCs",hex:"19 01 FF"},{label:"Read All DTCs",hex:"19 02 FF"},{label:"Read Confirmed",hex:"19 02 08"},{label:"Read Pending",hex:"19 02 04"},{label:"Snapshot IDs",hex:"19 03"},{label:"Supported DTCs",hex:"19 0A"},{label:"First Failed",hex:"19 0B"},{label:"Most Recent",hex:"19 0D"},{label:"Count by Severity",hex:"19 07 80 FF"},{label:"Read by Severity",hex:"19 08 80 FF"}]},"0x22":{serviceId:"0x22",serviceName:"Read Data By Identifier",description:"Reads specific data values from ECU using standardized data identifiers (DIDs). Most commonly used diagnostic service.",useCases:["Read VIN (Vehicle Identification Number)","Check ECU software version","Monitor sensor values in real-time"],parameters:["Data Identifier (DID): 2-byte hex value (e.g., 0xF190 for VIN)"],example:"Request: 22 F1 90  Read VIN",exampleHex:"22 F1 90",quickExamples:[{label:"Read VIN",hex:"22 F1 90"},{label:"Read ECU Power",hex:"22 F1 80"},{label:"Read Vehicle Speed",hex:"22 01 00"}]},"0x23":{serviceId:"0x23",serviceName:"Read Memory By Address",description:"Reads raw memory content from ECU at specified addresses. Requires enhanced security access.",useCases:["Debug ECU memory issues","Extract calibration data","Verify memory integrity"],parameters:["Memory Address: Starting address","Memory Size: Number of bytes to read"],example:"Request: 23 44 12 34 56 78 02  Read 2 bytes from 0x12345678",exampleHex:"23 44 12 34 56 78 02"},"0x27":{serviceId:"0x27",serviceName:"Security Access",description:"Implements challenge-response authentication to unlock protected diagnostic functions and prevent unauthorized access.",useCases:["Unlock programming session","Enable write operations","Access protected calibration data"],parameters:["Request Seed: 0x01, 0x03, 0x05... (odd)","Send Key: 0x02, 0x04, 0x06... (even)"],example:"Request: 27 01  Request Seed, then 27 02 [key]  Send Key",exampleHex:"27 01",quickExamples:[{label:"Request Seed (Lvl 1)",hex:"27 01"},{label:"Send Key (Lvl 1)",hex:"27 02 00 00"},{label:"Request Seed (Lvl 3)",hex:"27 03"}]},"0x28":{serviceId:"0x28",serviceName:"Communication Control",description:"Enables or disables specific communication types (normal messages, network messages, etc.) for testing purposes.",useCases:["Disable normal messages during reprogramming","Test network isolation","Control message flow during diagnostics"],parameters:["Control Type: 0x00 (Enable), 0x01 (Disable)","Communication Type: Normal, Network, etc."],example:"Request: 28 00 03  Enable Normal & Network Messages",exampleHex:"28 00 03",quickExamples:[{label:"Enable All Msgs",hex:"28 00 03"},{label:"Disable Non-Diag",hex:"28 01 01"},{label:"Disable All Msgs",hex:"28 03 03"}]},"0x2A":{serviceId:"0x2A",serviceName:"Read Data By Periodic ID",description:"Configures ECU to send specific data values periodically at defined intervals without repeated requests.",useCases:["Monitor real-time sensor data streams","Log periodic vehicle parameters","Set up continuous data logging"],parameters:["Transmission Mode: Slow, Medium, Fast, Stop","Periodic Data Identifier (PDID)"],example:"Request: 2A 01 F1  Start slow periodic transmission of PDID 0xF1",exampleHex:"2A 01 F1",quickExamples:[{label:"Start Slow Trans.",hex:"2A 01 F1"},{label:"Stop Transmission",hex:"2A 04 F1"}]},"0x2E":{serviceId:"0x2E",serviceName:"Write Data By Identifier",description:"Writes specific data values to ECU using data identifiers. Requires security access for protected DIDs.",useCases:["Configure ECU parameters","Update calibration values","Set vehicle configuration options"],parameters:["Data Identifier (DID): 2-byte hex value","Data Record: Values to write"],example:"Request: 2E F1 00 01 02 03  Write [01 02 03] to DID 0xF100",exampleHex:"2E F1 00 01 02 03",quickExamples:[{label:"Write Config",hex:"2E F1 00 01"},{label:"Reset Calibration",hex:"2E F1 01 00"}]},"0x31":{serviceId:"0x31",serviceName:"Routine Control",description:"Starts, stops, or requests results from diagnostic routines (self-tests, calibrations, actuator tests).",useCases:["Run actuator self-tests","Execute calibration procedures","Perform component diagnostics"],parameters:["Sub-function: 0x01 (Start), 0x02 (Stop), 0x03 (Request Results)","Routine Identifier: Specific routine ID"],example:"Request: 31 01 F0 01  Start routine 0xF001",exampleHex:"31 01 F0 01",quickExamples:[{label:"Start Routine",hex:"31 01 F0 01"},{label:"Stop Routine",hex:"31 02 F0 01"},{label:"Request Results",hex:"31 03 F0 01"}]},"0x34":{serviceId:"0x34",serviceName:"Request Download",description:"Initiates a data download sequence from tester to ECU. First step in ECU reprogramming process.",useCases:["Start ECU software flashing","Download calibration files","Update ECU firmware"],parameters:["Memory Address: Target location","Memory Size: Total download size","Data Format: Compression/encryption settings"],example:"Request: 34 00 44 12 34 56 78 44 00 00 10 00  Request download to 0x12345678, size 0x1000",exampleHex:"34 00 44 12 34 56 78 44 00 00 10 00"},"0x35":{serviceId:"0x35",serviceName:"Request Upload",description:"Initiates a data upload sequence from ECU to tester. Used for extracting firmware or calibration data.",useCases:["Backup ECU software","Extract calibration data","Read out firmware for analysis"],parameters:["Memory Address: Source location","Memory Size: Total upload size","Data Format: Compression/encryption settings"],example:"Request: 35 00 44 12 34 56 78 44 00 00 10 00  Request upload from 0x12345678, size 0x1000",exampleHex:"35 00 44 12 34 56 78 44 00 00 10 00"},"0x36":{serviceId:"0x36",serviceName:"Transfer Data",description:"Transfers data blocks during download/upload sequences. Called repeatedly after Request Download/Upload.",useCases:["Send firmware blocks during flashing","Receive calibration data chunks","Transfer data in multi-block sequences"],parameters:["Block Sequence Counter: Increments with each block","Transfer Data: Actual payload bytes"],example:"Request: 36 01 [data]  Transfer block #1, then 36 02 [data]  Transfer block #2",exampleHex:"36 01 00 00"},"0x37":{serviceId:"0x37",serviceName:"Request Transfer Exit",description:"Finalizes and validates a download/upload sequence. Last step after all Transfer Data blocks.",useCases:["Complete ECU flashing process","Finalize calibration upload","Verify data transfer integrity"],parameters:["Optional: Transfer completion parameters"],example:"Request: 37  Exit transfer after all blocks sent",exampleHex:"37"},"0x3E":{serviceId:"0x3E",serviceName:"Tester Present",description:"Indicates to the ECU that the tester is still present and active. Used to maintain non-default sessions and unlock states.",useCases:["Keep session active (prevent timeout)","Maintain security unlock state","Periodic heartbeat during idle times"],parameters:["Sub-function: 0x00 (Response Required), 0x80 (Suppress Response)"],example:'Request: 3E 00  "I am here, please confirm"',exampleHex:"3E 00",quickExamples:[{label:"With Response",hex:"3E 00"},{label:"Suppress Response",hex:"3E 80"}]},"0x3D":{serviceId:"0x3D",serviceName:"Write Memory By Address",description:"Writes raw data to specific memory addresses in ECU. Requires security access and precise addressing.",useCases:["Direct memory patching","Low-level calibration updates","Memory repair operations"],parameters:["Memory Address: Target location","Memory Size: Number of bytes","Data Record: Bytes to write"],example:"Request: 3D 44 12 34 56 78 02 AB CD  Write [AB CD] to 0x12345678",exampleHex:"3D 44 12 34 56 78 02 AB CD",quickExamples:[{label:"Write Memory",hex:"3D 44 12 34 56 78 02 AB CD"}]}},Z5=({id:t,name:e,icon:s,description:a,isSelected:r,onClick:l,onLoadExample:c})=>{const f=`0x${t.toString(16).toUpperCase().padStart(2,"0")}`,h=L2[f],m=u.jsxs("button",{onClick:l,className:`group relative p-4 transition-all text-left overflow-hidden ${r?"bg-cyber-blue/20 border-2 border-cyber-blue shadow-neon-cyan":"bg-dark-800/50 border border-dark-600 hover:border-cyber-blue/50 hover:bg-dark-800"} cyber-shape`,"aria-pressed":r,"aria-label":`Select ${e.replace(/^0x\w+ - /,"")}`,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyber-blue/10 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] pointer-events-none"}),u.jsxs("div",{className:"flex items-center gap-3 mb-2 relative z-10",children:[u.jsx("span",{className:"text-2xl filter drop-shadow-lg","aria-hidden":"true",children:s}),u.jsx("span",{className:`font-mono text-sm font-bold px-2 py-0.5 rounded ${r?"bg-cyber-blue text-dark-900":"bg-dark-900 text-cyber-blue border border-cyber-blue/30"}`,children:f})]}),u.jsx("h3",{className:`font-bold text-sm mb-1 transition-colors relative z-10 ${r?"text-cyber-blue text-glow":"text-gray-200 group-hover:text-cyber-blue"}`,children:e.replace(/^0x\w+ - /,"")}),u.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 relative z-10",children:a}),r&&u.jsx("div",{className:"absolute top-2 right-2 animate-fade-in z-10",children:u.jsx("div",{className:"w-2 h-2 bg-cyber-blue rounded-full shadow-neon-cyan animate-pulse"})})]});return h?u.jsx(K5,{...h,onLoadExample:c,children:m}):m},ev=[{id:"template-session-default",name:"Default Session",description:"Switch to default diagnostic session",bytes:[16,1],category:"Session Control",tags:["session","default","basic"]},{id:"template-session-extended",name:"Extended Session",description:"Switch to extended diagnostic session",bytes:[16,3],category:"Session Control",tags:["session","extended"]},{id:"template-session-programming",name:"Programming Session",description:"Switch to programming session",bytes:[16,2],category:"Session Control",tags:["session","programming","flash"]},{id:"template-security-seed",name:"Security Seed Request",description:"Request security access seed (level 1)",bytes:[39,1],category:"Security Access",tags:["security","seed","unlock"]},{id:"template-security-key",name:"Security Key Send",description:"Send security key (level 2) - placeholder bytes",bytes:[39,2,0,0,0,0],category:"Security Access",tags:["security","key","unlock"]},{id:"template-read-vin",name:"Read VIN",description:"Read Vehicle Identification Number",bytes:[34,241,144],category:"Read Data",tags:["read","vin","identifier"]},{id:"template-read-dtc-current",name:"Read Current DTCs",description:"Read current diagnostic trouble codes",bytes:[25,2,8],category:"DTC",tags:["dtc","trouble","current"]},{id:"template-clear-dtc",name:"Clear All DTCs",description:"Clear all diagnostic trouble codes",bytes:[20,255,255,255],category:"DTC",tags:["clear","dtc","reset"]},{id:"template-ecu-reset-hard",name:"Hard ECU Reset",description:"Perform hard reset of ECU",bytes:[17,1],category:"ECU Reset",tags:["reset","hard","reboot"]},{id:"template-ecu-reset-soft",name:"Soft ECU Reset",description:"Perform soft reset of ECU",bytes:[17,3],category:"ECU Reset",tags:["reset","soft","reboot"]},{id:"template-tester-present",name:"Tester Present",description:"Keep session active with tester present",bytes:[62,0],category:"Communication",tags:["tester","present","keepalive"]}],Li={16:{name:"Diagnostic Session Control",description:"Control diagnostic session type"},17:{name:"ECU Reset",description:"Reset the ECU"},20:{name:"Clear DTC",description:"Clear diagnostic trouble codes"},25:{name:"Read DTC Information",description:"Read diagnostic trouble codes"},34:{name:"Read Data By Identifier",description:"Read data using identifier"},35:{name:"Read Memory By Address",description:"Read memory at specific address"},39:{name:"Security Access",description:"Unlock security access"},40:{name:"Communication Control",description:"Control communication"},42:{name:"Read Data By Periodic ID",description:"Read periodic data"},46:{name:"Write Data By Identifier",description:"Write data using identifier"},49:{name:"Routine Control",description:"Control ECU routines"},52:{name:"Request Download",description:"Initiate download sequence"},54:{name:"Transfer Data",description:"Transfer data blocks"},55:{name:"Request Transfer Exit",description:"Exit transfer mode"},61:{name:"Write Memory By Address",description:"Write to memory address"},62:{name:"Tester Present",description:"Keep session active"}},hu=[{name:"Service IDs",colorClass:"bg-cyber-blue/20 border-cyber-blue",description:"UDS Service Identifiers",bytes:[16,17,20,25,34,35,39,40,42,46,49,52,54,55,61,62]},{name:"Common Sub-Functions",colorClass:"bg-purple-500/20 border-purple-500",description:"Frequently used sub-function bytes",bytes:[1,2,3,4,5,6,7,8]},{name:"Common Data",colorClass:"bg-green-500/20 border-green-500",description:"Common data bytes",bytes:[0,255]}],J5=({onByteSelect:t,recentBytes:e,highlightedBytes:s=[]})=>{const[a,r]=w.useState(""),[l,c]=w.useState("all"),f=w.useMemo(()=>Array.from({length:256},(b,v)=>v),[]),h=w.useMemo(()=>{let b=f;if(l!=="all"){const v=hu.find(C=>C.name===l);v&&(b=b.filter(C=>v.bytes.includes(C)))}if(a.trim()){const v=a.toLowerCase();b=b.filter(C=>{const E=C.toString(16).toUpperCase().padStart(2,"0"),N=C.toString(),R=Li[C];return E.includes(v.toUpperCase())||N.includes(v)||R&&R.name.toLowerCase().includes(v)})}return b},[f,l,a]),m=(b,v)=>{const C={type:"palette-byte",byte:v,metadata:{description:Li[v]?.name}};b.dataTransfer.setData("application/json",JSON.stringify(C)),b.dataTransfer.effectAllowed="copy"},g=b=>hu.find(v=>v.bytes.includes(b)),x=b=>{const v=e.includes(b),C=s.includes(b),E=!!Li[b],N=g(b),R=b.toString(16).toUpperCase().padStart(2,"0");return u.jsxs("button",{draggable:!0,onDragStart:D=>m(D,b),onClick:()=>t(b),className:`
          group relative px-2 py-1.5 rounded text-xs font-mono
          transition-all duration-200 border
          ${E?"bg-cyber-blue/10 border-cyber-blue/50 hover:bg-cyber-blue/20":N?`${N.colorClass} hover:opacity-80`:"bg-dark-700/50 border-dark-600 hover:bg-dark-600"}
          ${v?"ring-2 ring-purple-500/50":""}
          ${C?"ring-2 ring-yellow-500/50":""}
          hover:scale-105 active:scale-95 cursor-grab active:cursor-grabbing
        `,title:Li[b]?.name||`Byte 0x${R}`,children:[u.jsx("span",{className:"text-white",children:R}),u.jsx("div",{className:"absolute hidden group-hover:block bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-dark-900 border border-dark-600 rounded shadow-lg text-xs whitespace-nowrap z-50",children:Li[b]?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-cyber-blue font-semibold",children:Li[b].name}),u.jsxs("div",{className:"text-gray-400 text-[10px]",children:["0x",R," (",b,")"]})]}):u.jsxs("div",{className:"text-gray-300",children:["0x",R," (",b,")"]})})]},b)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-2 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"Byte Palette"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Click or drag bytes to add them to your request"})]}),u.jsx("div",{className:"mb-3",children:u.jsx("input",{type:"text",value:a,onChange:b=>r(b.target.value),placeholder:"Search hex, decimal, or service name...",className:"w-full cyber-input text-xs"})}),u.jsxs("div",{className:"mb-3 flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>c("all"),className:`px-2 py-1 rounded text-xs transition-colors ${l==="all"?"bg-cyber-blue text-white":"bg-dark-700 text-gray-400 hover:bg-dark-600"}`,children:["All (",f.length,")"]}),hu.map(b=>u.jsxs("button",{onClick:()=>c(b.name),className:`px-2 py-1 rounded text-xs transition-colors ${l===b.name?"bg-cyber-blue text-white":"bg-dark-700 text-gray-400 hover:bg-dark-600"}`,title:b.description,children:[b.name," (",b.bytes.length,")"]},b.name))]}),e.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("h4",{className:"text-xs text-gray-400 mb-1.5",children:"Recent"}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.slice(0,8).map(x)})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:[u.jsx("div",{className:"grid grid-cols-8 gap-1.5 pb-2",children:h.map(x)}),h.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("p",{className:"text-sm",children:"No bytes found"}),u.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-dark-600",children:[u.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"Legend"}),u.jsxs("div",{className:"space-y-1 text-[10px]",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-cyber-blue/10 border border-cyber-blue/50"}),u.jsx("span",{className:"text-gray-400",children:"Service ID"})]}),hu.slice(1).map(b=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-4 h-4 rounded ${b.colorClass}`}),u.jsx("span",{className:"text-gray-400",children:b.name})]},b.name)),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-dark-700/50 border border-dark-600"}),u.jsx("span",{className:"text-gray-400",children:"Other bytes"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded bg-dark-700/50 border border-dark-600 ring-2 ring-purple-500/50"}),u.jsx("span",{className:"text-gray-400",children:"Recently used"})]})]})]})]})};class ej{validateByteSequence(e){const s=[],a=[];if(e.length===0)return a.push("Empty byte sequence"),{valid:!0,errors:s,warnings:a};const r=e[0];switch(Li[r]||a.push(`Byte 0x${r.toString(16).toUpperCase().padStart(2,"0")} is not a standard UDS Service ID`),r){case ie.DIAGNOSTIC_SESSION_CONTROL:if(e.length<2)s.push("Session Control requires sub-function (byte 2)");else{const l=e[1];[1,2,3,4].includes(l)||a.push(`Sub-function 0x${l.toString(16).toUpperCase().padStart(2,"0")} may not be valid for Session Control`)}e.length>2&&a.push("Session Control typically only requires 2 bytes");break;case ie.ECU_RESET:if(e.length<2)s.push("ECU Reset requires sub-function (byte 2)");else{const l=e[1];[1,2,3,4,5].includes(l)||a.push(`Sub-function 0x${l.toString(16).toUpperCase().padStart(2,"0")} may not be valid for ECU Reset`)}e.length>2&&a.push("ECU Reset typically only requires 2 bytes");break;case ie.CLEAR_DIAGNOSTIC_INFORMATION:e.length!==4&&s.push("Clear DTC requires exactly 4 bytes (SID + 3-byte group)");break;case ie.READ_DTC_INFORMATION:e.length<2&&s.push("Read DTC requires sub-function (byte 2)");break;case ie.READ_DATA_BY_IDENTIFIER:e.length<3?s.push("Read Data By ID requires at least 3 bytes (SID + 2-byte DID)"):(e.length-1)%2!==0&&a.push("Data Identifiers should be 2 bytes each");break;case ie.SECURITY_ACCESS:e.length<2?s.push("Security Access requires sub-function (byte 2)"):e[1]%2===0&&e.length<3&&s.push("Security key send requires key bytes (typically 4-8 bytes)");break;case ie.WRITE_DATA_BY_IDENTIFIER:e.length<4&&s.push("Write Data By ID requires at least 4 bytes (SID + 2-byte DID + data)");break;case ie.ROUTINE_CONTROL:e.length<4&&s.push("Routine Control requires at least 4 bytes (SID + sub-fn + 2-byte RID)");break}return{valid:s.length===0,errors:s,warnings:a}}suggestNextByte(e){const s=[];if(e.length===0)return[{value:16,reason:"Diagnostic Session Control",confidence:.9},{value:34,reason:"Read Data By Identifier",confidence:.8},{value:39,reason:"Security Access",confidence:.7},{value:25,reason:"Read DTC Information",confidence:.6},{value:62,reason:"Tester Present",confidence:.5}];switch(e[0]){case ie.DIAGNOSTIC_SESSION_CONTROL:e.length===1&&s.push({value:1,reason:"Default Session",confidence:.7},{value:3,reason:"Extended Session",confidence:.9},{value:2,reason:"Programming Session",confidence:.6});break;case ie.ECU_RESET:e.length===1&&s.push({value:1,reason:"Hard Reset",confidence:.8},{value:3,reason:"Soft Reset",confidence:.7},{value:2,reason:"Key Off/On Reset",confidence:.6});break;case ie.CLEAR_DIAGNOSTIC_INFORMATION:e.length===1?s.push({value:255,reason:"All DTC groups (first byte)",confidence:.9}):e.length===2?s.push({value:255,reason:"All DTC groups (second byte)",confidence:.9}):e.length===3&&s.push({value:255,reason:"All DTC groups (third byte)",confidence:.9});break;case ie.READ_DTC_INFORMATION:e.length===1?s.push({value:2,reason:"Report DTC by status mask",confidence:.8},{value:10,reason:"Report supported DTCs",confidence:.6}):e.length===2&&e[1]===2&&s.push({value:8,reason:"Test failed status mask",confidence:.8});break;case ie.READ_DATA_BY_IDENTIFIER:e.length===1?s.push({value:241,reason:"Common DID prefix (VIN, etc.)",confidence:.7}):e.length===2&&e[1]===241&&s.push({value:144,reason:"VIN Data Identifier",confidence:.9},{value:135,reason:"Part Number",confidence:.6});break;case ie.SECURITY_ACCESS:e.length===1?s.push({value:1,reason:"Request Seed (Level 1)",confidence:.9},{value:2,reason:"Send Key (Level 2)",confidence:.7}):e.length===2&&e[1]===2&&s.push({value:0,reason:"Key byte placeholder",confidence:.5});break;case ie.ROUTINE_CONTROL:e.length===1&&s.push({value:1,reason:"Start Routine",confidence:.8},{value:2,reason:"Stop Routine",confidence:.6},{value:3,reason:"Request Routine Results",confidence:.5});break;case 62:e.length===1&&s.push({value:0,reason:"Standard tester present",confidence:.9});break}return s}getByteDescription(e,s,a){if(s===0){const r=Li[e];return r?`${r.name} (0x${e.toString(16).toUpperCase().padStart(2,"0")})`:`Unknown Service ID (0x${e.toString(16).toUpperCase().padStart(2,"0")})`}if(s===1&&a.length>0)switch(a[0]){case ie.DIAGNOSTIC_SESSION_CONTROL:return{1:"Default Session",2:"Programming Session",3:"Extended Diagnostic Session",4:"Safety System Session"}[e]||`Sub-function 0x${e.toString(16).toUpperCase().padStart(2,"0")}`;case ie.ECU_RESET:return{1:"Hard Reset",2:"Key Off/On Reset",3:"Soft Reset",4:"Enable Rapid Power Shutdown",5:"Disable Rapid Power Shutdown"}[e]||`Reset Type 0x${e.toString(16).toUpperCase().padStart(2,"0")}`;case ie.SECURITY_ACCESS:return e%2===1?`Request Seed (Level ${Math.floor(e/2)+1})`:`Send Key (Level ${e/2})`;case ie.ROUTINE_CONTROL:return{1:"Start Routine",2:"Stop Routine",3:"Request Routine Results"}[e]||`Routine Type 0x${e.toString(16).toUpperCase().padStart(2,"0")}`}return`Data byte 0x${e.toString(16).toUpperCase().padStart(2,"0")}`}detectProtocolViolations(e){const s=[];if(e.length===0)return s;e.length>4095&&s.push("Message exceeds maximum UDS length (4095 bytes)");const a=e[0];return(a===0||a>=64&&a<=79||a>=192&&a<=255)&&s.push(`Service ID 0x${a.toString(16).toUpperCase().padStart(2,"0")} is reserved or invalid`),s}categorizeByte(e,s,a){if(s===0)return"sid";if(s===1&&a.length>0){const r=a[0];if([16,17,25,39,40,42,49,62].includes(r))return"subfunction"}return(a[0]===34||a[0]===46)&&(s===1||s===2)?"identifier":"data"}}const Yt=new ej,tj=({bytes:t,onBytesChange:e,onByteHover:s})=>{const[a,r]=w.useState(null),[l,c]=w.useState(null),f=(C,E)=>{C.preventDefault(),r(null);try{const N=JSON.parse(C.dataTransfer.getData("application/json"));if(N.type==="palette-byte"){const R={value:N.byte,id:`byte-${Date.now()}-${Math.random()}`,category:Yt.categorizeByte(N.byte,E,t.map(O=>O.value)),description:Yt.getByteDescription(N.byte,E,t.map(O=>O.value))},D=[...t];D.splice(E,0,R);const j=D.map((O,k)=>({...O,category:Yt.categorizeByte(O.value,k,D.map(V=>V.value)),description:Yt.getByteDescription(O.value,k,D.map(V=>V.value))}));e(j)}else if(N.type==="editor-byte"&&N.sourceIndex!==void 0&&N.sourceIndex!==E){const R=[...t],[D]=R.splice(N.sourceIndex,1),j=N.sourceIndex<E?E-1:E;R.splice(j,0,D);const O=R.map((k,V)=>({...k,category:Yt.categorizeByte(k.value,V,R.map(M=>M.value)),description:Yt.getByteDescription(k.value,V,R.map(M=>M.value))}));e(O)}}catch(N){console.error("Error handling drop:",N)}},h=C=>{f(C,t.length)},m=(C,E)=>{C.preventDefault(),r(E)},g=(C,E,N)=>{const R={type:"editor-byte",byte:E.value,sourceIndex:N,metadata:{label:E.label,category:E.category,description:E.description}};C.dataTransfer.setData("application/json",JSON.stringify(R)),C.dataTransfer.effectAllowed="move"},x=C=>{const E=t.filter((R,D)=>D!==C),N=E.map((R,D)=>({...R,category:Yt.categorizeByte(R.value,D,E.map(j=>j.value)),description:Yt.getByteDescription(R.value,D,E.map(j=>j.value))}));e(N),c(null)},b=()=>{t.length>0&&confirm("Clear all bytes?")&&(e([]),c(null))},v=C=>{switch(C){case"sid":return"bg-cyber-blue/20 border-cyber-blue text-cyber-blue";case"subfunction":return"bg-purple-500/20 border-purple-500 text-purple-300";case"identifier":return"bg-yellow-500/20 border-yellow-500 text-yellow-300";case"data":return"bg-green-500/20 border-green-500 text-green-300";default:return"bg-gray-500/20 border-gray-500 text-gray-300"}};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-semibold text-gray-200 flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Request Builder"]}),u.jsxs("p",{className:"text-xs text-gray-400",children:[t.length," byte",t.length!==1?"s":""]})]}),t.length>0&&u.jsx("button",{onClick:b,className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",title:"Clear all bytes",children:"Clear All"})]}),u.jsx("div",{className:"flex-1 min-h-[200px] bg-dark-800/50 rounded-lg border-2 border-dashed border-dark-600 p-4 overflow-y-auto custom-scrollbar",onDrop:h,onDragOver:C=>{C.preventDefault(),t.length===0&&r(0)},onDragLeave:()=>r(null),children:t.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[u.jsx("svg",{className:"w-12 h-12 mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("p",{className:"text-sm font-medium",children:"Drag bytes here"}),u.jsx("p",{className:"text-xs mt-1",children:"or click bytes in the palette to add them"})]}):u.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.map((C,E)=>{const N=C.value.toString(16).toUpperCase().padStart(2,"0"),R=l===E,D=a===E;return u.jsxs(rt.Fragment,{children:[D&&u.jsx("div",{className:"w-1 h-8 bg-cyber-blue rounded animate-pulse"}),u.jsxs("div",{draggable:!0,onDragStart:j=>g(j,C,E),onDragOver:j=>m(j,E),onClick:()=>{c(R?null:E),s?.(C,E)},className:`
                      group relative px-3 py-2 rounded border-2 cursor-move
                      transition-all duration-200
                      ${v(C.category)}
                      ${R?"ring-2 ring-cyber-blue shadow-neon":""}
                      hover:scale-105 active:scale-95 active:cursor-grabbing
                    `,children:[u.jsx("div",{className:"absolute -top-2 -left-2 w-5 h-5 bg-dark-900 border border-dark-600 rounded-full flex items-center justify-center text-[9px] text-gray-400 font-mono",children:E}),u.jsx("div",{className:"font-mono text-sm font-bold",children:N}),C.label&&u.jsx("div",{className:"text-[9px] mt-0.5 opacity-70",children:C.label}),(R||E===l)&&u.jsx("button",{onClick:j=>{j.stopPropagation(),x(E)},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors",title:"Delete byte",children:u.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),u.jsxs("div",{className:"absolute hidden group-hover:block bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-dark-900 border border-dark-600 rounded shadow-lg text-xs whitespace-nowrap z-50",children:[u.jsx("div",{className:"text-white font-semibold",children:C.description||`Byte ${E}`}),u.jsxs("div",{className:"text-gray-400 text-[10px]",children:["Position: ",E," | Value: 0x",N," (",C.value,")"]}),C.category&&u.jsxs("div",{className:"text-gray-500 text-[10px] capitalize",children:["Type: ",C.category]})]})]})]},C.id)}),a===t.length&&u.jsx("div",{className:"w-1 h-8 bg-cyber-blue rounded animate-pulse"})]})}),u.jsxs("div",{className:"mt-3 bg-dark-900/50 rounded-lg p-3 border border-dark-600",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-xs text-gray-400",children:"Hex Preview"}),t.length>0&&u.jsx("button",{onClick:()=>{const C=t.map(E=>E.value.toString(16).toUpperCase().padStart(2,"0")).join(" ");navigator.clipboard.writeText(C)},className:"text-xs text-cyber-blue hover:text-cyber-blue/80 transition-colors",title:"Copy to clipboard",children:"Copy"})]}),u.jsx("div",{className:"font-mono text-cyber-green text-sm break-all",children:t.length>0?t.map(C=>C.value.toString(16).toUpperCase().padStart(2,"0")).join(" "):"No bytes yet..."})]})]})},nj=({isOpen:t,onClose:e,onApply:s,initialBytes:a=[]})=>{const[r,l]=w.useState([]),[c,f]=w.useState([]),[h,m]=w.useState([]),[g,x]=w.useState(!1),[b,v]=w.useState(!0);w.useEffect(()=>{if(t&&a.length>0){const M=a.map((_,W)=>({value:_,id:`byte-init-${W}`,category:Yt.categorizeByte(_,W,a),description:Yt.getByteDescription(_,W,a)}));l(M)}},[t,a]),w.useEffect(()=>{const M=localStorage.getItem("hexEditor_customTemplates");if(M)try{m(JSON.parse(M))}catch(W){console.error("Error loading custom templates:",W)}const _=localStorage.getItem("hexEditor_recentBytes");if(_)try{f(JSON.parse(_))}catch(W){console.error("Error loading recent bytes:",W)}},[]);const C=w.useMemo(()=>Yt.validateByteSequence(r.map(M=>M.value)),[r]),E=w.useMemo(()=>!b||r.length>20?[]:Yt.suggestNextByte(r.map(M=>M.value)),[r,b]),N=M=>{const _={value:M,id:`byte-${Date.now()}-${Math.random()}`,category:Yt.categorizeByte(M,r.length,r.map(X=>X.value)),description:Yt.getByteDescription(M,r.length,r.map(X=>X.value))};l([...r,_]);const W=[M,...c.filter(X=>X!==M)].slice(0,16);f(W),localStorage.setItem("hexEditor_recentBytes",JSON.stringify(W))},R=M=>{const _=[...ev,...h].find(W=>W.id===M);if(_){const W=_.bytes.map((X,ce)=>({value:X,id:`byte-template-${ce}`,category:Yt.categorizeByte(X,ce,_.bytes),description:Yt.getByteDescription(X,ce,_.bytes)}));l(W),x(!1)}},D=()=>{if(r.length===0)return;const M=prompt("Enter template name:");if(!M)return;const _=prompt("Enter template description:");if(!_)return;const W={id:`custom-${Date.now()}`,name:M,description:_,bytes:r.map(ce=>ce.value),category:"Custom"},X=[...h,W];m(X),localStorage.setItem("hexEditor_customTemplates",JSON.stringify(X)),alert("Template saved!")},j=()=>{C.errors.length>0&&!confirm("There are validation errors. Apply anyway?")||(s(r.map(M=>M.value)),e())},O=M=>{N(M)};if(!t)return null;const k=[...ev,...h],V=k.reduce((M,_)=>(M[_.category]||(M[_.category]=[]),M[_.category].push(_),M),{});return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-6xl h-[90vh] bg-dark-900 rounded-xl border-2 border-cyber-blue/30 shadow-2xl flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-700",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-100 flex items-center",children:[u.jsx("svg",{className:"w-6 h-6 mr-2 text-cyber-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),"Advanced Hex Editor"]}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Visual byte-level request builder"})]}),u.jsx("button",{onClick:e,className:"p-2 rounded hover:bg-dark-700 transition-colors",title:"Close",children:u.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{className:"w-80 border-r border-dark-700 p-4 overflow-y-auto custom-scrollbar",children:u.jsx(J5,{onByteSelect:N,recentBytes:c})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar",children:u.jsx(tj,{bytes:r,onBytesChange:l})}),u.jsxs("div",{className:"border-t border-dark-700 p-4 bg-dark-800/50",children:[(C.errors.length>0||C.warnings.length>0)&&u.jsxs("div",{className:"mb-3",children:[C.errors.map((M,_)=>u.jsxs("div",{className:"text-xs text-red-400 flex items-start mb-1",children:[u.jsx("svg",{className:"w-4 h-4 mr-1.5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),M]},`error-${_}`)),C.warnings.map((M,_)=>u.jsxs("div",{className:"text-xs text-yellow-400 flex items-start mb-1",children:[u.jsx("svg",{className:"w-4 h-4 mr-1.5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),M]},`warning-${_}`))]}),E.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("h4",{className:"text-xs text-gray-400 mb-2",children:"Suggested Next Bytes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:E.slice(0,5).map((M,_)=>u.jsxs("button",{onClick:()=>O(M.value),className:"px-2 py-1 rounded text-xs bg-cyber-blue/20 text-cyber-blue border border-cyber-blue/50 hover:bg-cyber-blue/30 transition-colors",title:`Confidence: ${(M.confidence*100).toFixed(0)}%`,children:["0x",M.value.toString(16).toUpperCase().padStart(2,"0")," - ",M.reason]},_))})]}),u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>x(!g),className:"text-xs text-gray-400 hover:text-gray-200 flex items-center mb-2 transition-colors",children:[u.jsx("svg",{className:`w-4 h-4 mr-1 transition-transform ${g?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Templates (",k.length,")"]}),g&&u.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto custom-scrollbar",children:Object.entries(V).map(([M,_])=>u.jsxs(rt.Fragment,{children:[u.jsx("div",{className:"col-span-2 text-xs text-gray-500 font-semibold mt-2 first:mt-0",children:M}),_.map(W=>u.jsxs("button",{onClick:()=>R(W.id),className:"text-left px-2 py-1.5 rounded text-xs bg-dark-700 hover:bg-dark-600 transition-colors border border-dark-600",title:W.description,children:[u.jsx("div",{className:"text-gray-100 font-medium truncate",children:W.name}),u.jsx("div",{className:"text-gray-500 text-[10px] font-mono",children:W.bytes.map(X=>X.toString(16).toUpperCase().padStart(2,"0")).join(" ")})]},W.id))]},M))})]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-dark-700",children:[u.jsxs("div",{className:"flex gap-2",children:[r.length>0&&u.jsx("button",{onClick:D,className:"px-3 py-2 rounded text-sm bg-dark-700 text-gray-300 hover:bg-dark-600 transition-colors",children:" Save as Template"}),u.jsxs("label",{className:"flex items-center text-xs text-gray-400 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:b,onChange:M=>v(M.target.checked),className:"mr-2"}),"Show suggestions"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 rounded text-sm bg-dark-700 text-gray-300 hover:bg-dark-600 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:j,disabled:r.length===0,className:`px-4 py-2 rounded text-sm font-bold transition-all ${r.length===0?"bg-dark-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-cyber-blue to-cyber-purple text-white hover:shadow-neon"}`,children:"Apply to Request"})]})]})]})})},U2=({initialRequest:t})=>{const{sendRequest:e}=li(),[s,a]=w.useState(""),[r,l]=w.useState(""),[c,f]=w.useState(""),[h,m]=w.useState(!1),[g,x]=w.useState(""),[b,v]=w.useState(!1),[C,E]=w.useState(""),N=w.useRef(!1),[R,D]=w.useState(()=>{const Z=localStorage.getItem("uds_service_view_mode");return Z==="grid"||Z==="dropdown"?Z:"dropdown"});rt.useEffect(()=>{localStorage.setItem("uds_service_view_mode",R)},[R]);const[j,O]=w.useState(!1);rt.useEffect(()=>{if(t){x(t),m(!0);const Z=t.split(" ").map(se=>parseInt(se,16));if(Z.length>0&&!isNaN(Z[0])){const se=Z[0];_.some(z=>z.id===se)&&(a(se),Z.length>1&&l(Z[1].toString(16).toUpperCase().padStart(2,"0")),Z.length>2&&f(Z.slice(2).map(z=>z.toString(16).toUpperCase().padStart(2,"0")).join(" ")),m(!1))}}},[t]);const k=Z=>{if(!Z.trim())return{valid:!0,error:""};const se=Z.replace(/\s+/g,"");return/^[0-9A-Fa-f]+$/.test(se)?se.length%2!==0?{valid:!1,error:"Incomplete hex byte. Each byte needs 2 hex digits."}:{valid:!0,error:""}:{valid:!1,error:"Invalid hex format. Use only 0-9, A-F characters."}},V=Z=>{f(Z);const se=k(Z);E(se.error)},M=Z=>{x(Z);const se=k(Z);E(se.error)},_=[{id:ie.DIAGNOSTIC_SESSION_CONTROL,name:"0x10 - Diagnostic Session Control"},{id:ie.ECU_RESET,name:"0x11 - ECU Reset"},{id:ie.CLEAR_DIAGNOSTIC_INFORMATION,name:"0x14 - Clear DTC"},{id:ie.READ_DTC_INFORMATION,name:"0x19 - Read DTC Information"},{id:ie.READ_DATA_BY_IDENTIFIER,name:"0x22 - Read Data By Identifier"},{id:ie.READ_MEMORY_BY_ADDRESS,name:"0x23 - Read Memory"},{id:ie.SECURITY_ACCESS,name:"0x27 - Security Access"},{id:ie.COMMUNICATION_CONTROL,name:"0x28 - Communication Control"},{id:ie.READ_DATA_BY_PERIODIC_IDENTIFIER,name:"0x2A - Periodic Data"},{id:ie.WRITE_DATA_BY_IDENTIFIER,name:"0x2E - Write Data By Identifier"},{id:ie.ROUTINE_CONTROL,name:"0x31 - Routine Control"},{id:ie.REQUEST_DOWNLOAD,name:"0x34 - Request Download"},{id:ie.REQUEST_UPLOAD,name:"0x35 - Request Upload"},{id:ie.TRANSFER_DATA,name:"0x36 - Transfer Data"},{id:ie.REQUEST_TRANSFER_EXIT,name:"0x37 - Transfer Exit"},{id:ie.TESTER_PRESENT,name:"0x3E - Tester Present"},{id:ie.WRITE_MEMORY_BY_ADDRESS,name:"0x3D - Write Memory"},{id:ie.ACCESS_TIMING_PARAMETER,name:"0x83 - Access Timing Parameter"},{id:ie.CONTROL_DTC_SETTING,name:"0x85 - Control DTC Setting"}],W={[ie.DIAGNOSTIC_SESSION_CONTROL]:{icon:"",color:"text-cyan-400",description:"Control diagnostic session types (default, extended, programming)"},[ie.ECU_RESET]:{icon:"",color:"text-purple-400",description:"Reset ECU (hard reset, key off/on, soft reset)"},[ie.CLEAR_DIAGNOSTIC_INFORMATION]:{icon:"",color:"text-red-400",description:"Clear diagnostic trouble codes and freeze frame data"},[ie.READ_DTC_INFORMATION]:{icon:"",color:"text-orange-400",description:"Read diagnostic trouble codes with status information"},[ie.READ_DATA_BY_IDENTIFIER]:{icon:"",color:"text-green-400",description:"Read data like VIN, ECU info, sensor values by identifier"},[ie.READ_MEMORY_BY_ADDRESS]:{icon:"",color:"text-blue-400",description:"Read ECU memory at specific addresses"},[ie.SECURITY_ACCESS]:{icon:"",color:"text-yellow-400",description:"Request seed and send key for security unlock"},[ie.COMMUNICATION_CONTROL]:{icon:"",color:"text-indigo-400",description:"Enable/disable transmission and reception of messages"},[ie.READ_DATA_BY_PERIODIC_IDENTIFIER]:{icon:"",color:"text-pink-400",description:"Start/stop periodic transmission of data identifiers"},[ie.WRITE_DATA_BY_IDENTIFIER]:{icon:"",color:"text-lime-400",description:"Write data to ECU using identifier (configuration, calibration)"},[ie.ROUTINE_CONTROL]:{icon:"",color:"text-teal-400",description:"Start, stop, or request results of ECU routines"},[ie.REQUEST_DOWNLOAD]:{icon:"",color:"text-violet-400",description:"Initiate data transfer from tester to ECU (flashing)"},[ie.REQUEST_UPLOAD]:{icon:"",color:"text-sky-400",description:"Initiate data transfer from ECU to tester (reading)"},[ie.TRANSFER_DATA]:{icon:"",color:"text-fuchsia-400",description:"Transfer data blocks during download/upload sequence"},[ie.REQUEST_TRANSFER_EXIT]:{icon:"",color:"text-emerald-400",description:"Terminate data transfer and verify integrity"},[ie.TESTER_PRESENT]:{icon:"",color:"text-amber-400",description:"Keep diagnostic session active (Heartbeat)"},[ie.WRITE_MEMORY_BY_ADDRESS]:{icon:"",color:"text-rose-400",description:"Write data directly to ECU memory addresses"},[ie.ACCESS_TIMING_PARAMETER]:{icon:"",color:"text-orange-400",description:"Read and modify ECU timing parameters (P2, P2*)"},[ie.CONTROL_DTC_SETTING]:{icon:"",color:"text-gray-400",description:"Enable or disable DTC storage during maintenance"}},X=w.useCallback(async()=>{if(!N.current&&!(h&&!g.trim())&&!(!s&&!h||C)){N.current=!0,v(!0);try{let Z=[];if(h)Z=Xh(g);else if(Z=[s],r&&Z.push(parseInt(r,16)),c){const I=Xh(c);Z.push(...I)}const se=[16,17,25,39,40,42,49,62,133],oe=Z[0],z=se.includes(oe),G=z?{sid:oe,subFunction:Z.length>1?Z[1]:void 0,data:Z.slice(2),timestamp:Date.now()}:{sid:oe,data:Z.slice(1),timestamp:Date.now()};console.log("[RequestBuilder]  Sending request:"),console.log("  - SID:",`0x${oe.toString(16).toUpperCase().padStart(2,"0")}`),console.log("  - Has Sub-Function:",z),z&&console.log("  - Sub-Function:",G.subFunction!==void 0?`0x${G.subFunction.toString(16).toUpperCase().padStart(2,"0")}`:"none"),console.log("  - Data:",G.data),console.log("  - Data Length:",G.data?.length),await e(G),h&&(x(""),E(""))}catch(Z){console.error("Error sending request:",Z)}finally{N.current=!1,v(!1)}}},[s,h,C,g,r,c,e]),ce=w.useCallback(()=>{m(Z=>!Z),E("")},[]);JS({onSendRequest:X,onToggleManualMode:ce});const F=Z=>{const se=Z.replace(/\s+/g,"");if(se.length<2)return;const oe=parseInt(se.substring(0,2),16);a(oe);const z=[16,17,25,39,40,49,62,133];let G="",I="";se.length>2&&(z.includes(oe)?(G=se.substring(2,4),se.length>4&&(I=se.substring(4).match(/.{1,2}/g)?.join(" ")||"")):I=se.substring(2).match(/.{1,2}/g)?.join(" ")||""),l(G),f(I),m(!1)};return u.jsxs("div",{className:"glass-panel cyber-shape p-6 animate-slide-up h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-bold text-cyber-blue",children:"Request Builder"}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:ce,className:`px-3 py-1 text-sm rounded transition-all ${h?"bg-cyber-blue text-dark-900 font-bold":"bg-dark-700 text-gray-400 hover:text-gray-200 border border-dark-600"}`,"aria-label":"Toggle manual mode (Ctrl+M)",title:"Ctrl+M",children:h?"Builder Mode":"Manual Mode"})})]}),h?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Manual Hex Frame (space-separated bytes)"}),u.jsxs("button",{onClick:()=>O(!0),className:"cyber-button text-xs px-3 py-1.5 flex items-center gap-1",title:"Open Advanced Hex Editor",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),"Visual Editor"]})]}),u.jsx("textarea",{value:g,onChange:Z=>M(Z.target.value),placeholder:"e.g., 10 03 or 22 F1 90",className:`w-full cyber-input font-mono h-24 resize-none !bg-dark-800 !text-gray-100 ${C&&g?"border-cyber-pink":""}`,"aria-label":"Manual hex input","aria-invalid":!!C&&!!g}),C&&g?u.jsxs("p",{className:"text-xs text-cyber-pink mt-1 flex items-center",children:[u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),C]}):u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter raw hex bytes including SID, sub-function, and data"})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-sm text-gray-400",children:"Service (SID)"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>D("grid"),className:`p-1.5 rounded transition-colors ${R==="grid"?"bg-cyber-blue/20 text-cyber-blue":"text-gray-400 hover:text-gray-200"}`,"aria-label":"Grid view",title:"Grid view",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),u.jsx("button",{onClick:()=>D("dropdown"),className:`p-1.5 rounded transition-colors ${R==="dropdown"?"bg-cyber-blue/20 text-cyber-blue":"text-gray-400 hover:text-gray-200"}`,"aria-label":"List view",title:"List view",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),R==="grid"?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[500px] overflow-y-auto custom-scrollbar p-1",children:[_.map(Z=>{const se=W[Z.id]||{icon:"",color:"text-gray-400",description:"UDS diagnostic service"};return u.jsx(Z5,{id:Z.id,name:Z.name,icon:se.icon,description:se.description,color:se.color,isSelected:s===Z.id,onClick:()=>a(Z.id),onLoadExample:F},Z.id)}),_.length===0&&u.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[u.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("p",{children:"No services found"})]})]}):u.jsxs("select",{id:"service-select",value:s,onChange:Z=>a(Z.target.value?Number(Z.target.value):""),className:"w-full cyber-input !text-gray-100 dark:!text-gray-100","aria-label":"Select UDS service",children:[u.jsx("option",{value:"",children:"Select a service..."}),_.length>0?_.map(Z=>u.jsx("option",{value:Z.id,children:Z.name},Z.id)):u.jsx("option",{disabled:!0,children:"No services found"})]})]}),s&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subfunction-input",className:"block text-sm text-gray-400 mb-2",children:"Sub-Function (Optional)"}),u.jsx("input",{id:"subfunction-input",type:"text",value:r,onChange:Z=>l(Z.target.value),placeholder:"e.g., 01, 02, 03...",className:"w-full cyber-input font-mono !text-white dark:!text-white","aria-label":"Sub-function parameter in hexadecimal"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Data (Hex bytes, space-separated)"}),u.jsx("input",{type:"text",value:c,onChange:Z=>V(Z.target.value),placeholder:"e.g., F1 90 or 00 01 02 03",className:`w-full cyber-input font-mono !text-white dark:!text-white ${C&&c?"border-cyber-pink":""}`,"aria-label":"Data input in hexadecimal format","aria-invalid":!!C&&!!c}),C&&c&&u.jsxs("p",{className:"text-xs text-cyber-pink mt-1 flex items-center",children:[u.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),C]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:s?"Service Examples":"Quick Examples"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",role:"group","aria-label":"Quick example requests",children:(()=>{const Z=s?`0x${s.toString(16).toUpperCase().padStart(2,"0")}`:"";return((Z?L2[Z]:null)?.quickExamples||[{label:"Extended Session",hex:"10 03"},{label:"Security Seed",hex:"27 01"},{label:"Read VIN",hex:"22 F1 90"},{label:"Read DTCs",hex:"19 02 08"},{label:"ECU Reset",hex:"11 01"}]).map((z,G)=>u.jsx("button",{onClick:()=>F(z.hex),className:"cyber-button text-xs py-2 hover:scale-105 hover:shadow-lg transition-all duration-300","aria-label":`Load ${z.label} example`,children:z.label},G))})()})]})]}),u.jsxs("div",{className:"mt-4 preview-box rounded-lg p-4 border border-dark-600 bg-dark-800/50",children:[u.jsx("h3",{className:"text-sm text-gray-400 mb-2",children:"Preview"}),u.jsx("div",{className:"font-mono text-cyber-green text-sm",children:h?g||"Enter hex data...":u.jsxs(u.Fragment,{children:[s?`${s.toString(16).toUpperCase().padStart(2,"0")}`:"XX",r&&` ${r.toUpperCase()}`,c&&` ${c.toUpperCase()}`]})})]}),u.jsx("button",{onClick:X,disabled:!s&&!h||h&&!g.trim()||b||!!C,className:`
          w-full mt-6 py-3 rounded-lg font-bold cyber-shape
          transition-all duration-300
          ${!s&&!h||h&&!g.trim()||b||C?"bg-dark-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-cyber-blue via-purple-500 to-cyber-purple text-white hover:shadow-neon hover:scale-105 bg-size-200 animate-gradient-shift active:scale-95"}
        `,"aria-label":"Send UDS request",children:b?u.jsxs("span",{className:"flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Send Request"]})}),u.jsx(nj,{isOpen:j,onClose:()=>O(!1),onApply:Z=>{const se=Z.map(oe=>oe.toString(16).toUpperCase().padStart(2,"0")).join(" ");x(se),M(se),O(!1)},initialBytes:g.trim()?Xh(g):[]})]})},sj=({nrc:t,isOpen:e,onClose:s,onTryCorrection:a,onMarkResolved:r})=>{const[l,c]=w.useState("overview"),[f,h]=w.useState(null);if(!e)return null;const m=Dk[t];if(!m)return u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-slate-900 border-2 border-red-500 rounded-lg max-w-md w-full p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-xl font-bold text-red-400",children:["Unknown NRC: 0x",t.toString(16).toUpperCase().padStart(2,"0")]}),u.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("p",{className:"text-slate-300",children:"No learning content available for this error code."})]})});const g=(b,v)=>{const C=`${v.sid.toString(16).padStart(2,"0")} ${v.subFunction?v.subFunction.toString(16).padStart(2,"0")+" ":""}${v.data?.map(E=>E.toString(16).padStart(2,"0")).join(" ")||""}`.trim();navigator.clipboard.writeText(C),h(b),setTimeout(()=>h(null),2e3)},x=b=>{a(b),r&&r()};return u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 overflow-y-auto",children:u.jsxs("div",{className:"bg-slate-900 border-2 border-cyan-500/50 rounded-lg max-w-4xl w-full my-8 shadow-2xl shadow-cyan-500/20",children:[u.jsx("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 p-6 rounded-t-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-red-500 p-3 rounded-lg",children:u.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:m.title}),u.jsxs("p",{className:"text-cyan-100",children:["NRC: 0x",t.toString(16).toUpperCase().padStart(2,"0")]})]})]}),u.jsx("button",{onClick:s,className:"text-white/80 hover:text-white transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsx("div",{className:"border-b border-slate-700 bg-slate-800/50",children:u.jsxs("div",{className:"flex gap-1 p-2",children:[u.jsxs("button",{onClick:()=>c("overview"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="overview"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"inline w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Overview"]}),u.jsxs("button",{onClick:()=>c("troubleshooting"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="troubleshooting"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"inline w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Troubleshooting"]}),u.jsxs("button",{onClick:()=>c("examples"),className:`px-4 py-2 rounded-lg font-medium transition-all ${l==="examples"?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[u.jsx("svg",{className:"inline w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Examples"]})]})}),u.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[l==="overview"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"What Does This Error Mean?"]}),u.jsx("p",{className:"text-slate-300 leading-relaxed",children:m.description})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Common Causes"}),u.jsx("ul",{className:"space-y-2",children:m.commonCauses.map((b,v)=>u.jsxs("li",{className:"flex items-start gap-3 text-slate-300",children:[u.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full mt-2 flex-shrink-0"}),u.jsx("span",{children:b})]},v))})]}),u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-400 mb-2",children:"ISO Reference"}),u.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:m.isoReference})]}),m.relatedNRCs.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Related Error Codes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:m.relatedNRCs.map(b=>u.jsxs("span",{className:"px-3 py-1 bg-slate-800 border border-slate-600 rounded-full text-sm text-cyan-300 font-mono",children:["0x",b.toString(16).toUpperCase().padStart(2,"0")]},b))})]})]}),l==="troubleshooting"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Step-by-Step Troubleshooting"]}),u.jsx("div",{className:"space-y-4",children:m.troubleshootingSteps.map((b,v)=>u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-cyan-600 rounded-full flex items-center justify-center text-white font-bold",children:v+1}),u.jsx("div",{className:"flex-1 bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:u.jsx("p",{className:"text-slate-300",children:b})})]},v))})]}),u.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-white font-medium mb-1",children:"Need More Help?"}),u.jsx("p",{className:"text-slate-300 text-sm",children:"Check the Examples tab to see correct vs. incorrect requests, or try one of the suggested corrections."})]})]})})]}),l==="examples"&&u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Example Solutions"}),m.examples.map((b,v)=>u.jsxs("div",{className:"mb-6 bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[u.jsx("p",{className:"text-slate-300 mb-4",children:b.explanation}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"border border-red-500/30 bg-red-900/10 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),u.jsx("span",{className:"font-semibold text-red-400",children:"Incorrect"})]}),u.jsxs("code",{className:"text-sm text-red-300 font-mono block",children:[b.incorrect.sid.toString(16).toUpperCase().padStart(2,"0"),b.incorrect.subFunction&&" "+b.incorrect.subFunction.toString(16).toUpperCase().padStart(2,"0"),b.incorrect.data&&b.incorrect.data.length>0&&" "+b.incorrect.data.map(C=>C.toString(16).toUpperCase().padStart(2,"0")).join(" ")]})]}),u.jsxs("div",{className:"border border-green-500/30 bg-green-900/10 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{className:"font-semibold text-green-400",children:"Correct"})]}),u.jsx("button",{onClick:()=>g(v,b.correct),className:"text-slate-400 hover:text-green-400 transition-colors",title:"Copy to clipboard",children:f===v?u.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),u.jsxs("code",{className:"text-sm text-green-300 font-mono block",children:[b.correct.sid.toString(16).toUpperCase().padStart(2,"0"),b.correct.subFunction&&" "+b.correct.subFunction.toString(16).toUpperCase().padStart(2,"0"),b.correct.data&&b.correct.data.length>0&&" "+b.correct.data.map(C=>C.toString(16).toUpperCase().padStart(2,"0")).join(" ")]}),u.jsx("button",{onClick:()=>x(b.correct),className:"mt-3 w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Try This Correction"})]})]})]},v))]})})]}),u.jsxs("div",{className:"border-t border-slate-700 bg-slate-800/50 p-4 rounded-b-lg flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-slate-400",children:" Learning UDS? Encountering errors is the best way to learn!"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:s,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Close"}),r&&u.jsxs("button",{onClick:()=>{r(),s()},className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Mark as Understood"]})]})]})]})})},ma=t=>t.toString(16).toUpperCase().padStart(2,"0"),ij=(t,e,s)=>{const{request:a,response:r}=t;if(r.isNegative)return e===0?"Negative Response Code (NRC)":e===1?"Service ID that failed":e===2&&r.nrc?`${fk(r.nrc)}`:"Additional NRC data";if(e===0)return"Positive Response (SID + 0x40)";switch(a.sid){case 16:if(e===1)return{1:"Default Session",2:"Programming Session",3:"Extended Session"}[s]||"Session Type";if(e===2)return"Session Parameter / P2 Server Max High Byte";if(e===3)return`P2 Server Max Low Byte (${(r.data[2]<<8|s)/10}ms)`;if(e===4)return"P2* High Byte";if(e===5)return`P2* Low Byte (${(r.data[4]<<8|s)*10}ms)`;break;case 17:if(e===1)return{1:"Hard Reset",2:"Key Off/On Reset",3:"Soft Reset"}[s]||"Reset Type";if(e===2)return"Power Down Time (seconds)";break;case 34:if(e===1)return"Data Identifier High Byte";if(e===2)return"Data Identifier Low Byte";if(e>=3)return`Data Byte ${e-2}`;break;case 39:if(e===1)return s%2===1?"Request Seed":"Send Key";if(e>=2&&a.subFunction&&a.subFunction%2===1)return`Seed Byte ${e-1}`;if(e>=2)return"Security Access Response";break;case 46:if(e===1)return"Data Identifier High Byte";if(e===2)return"Data Identifier Low Byte";break;case 49:if(e===1)return{1:"Start Routine",2:"Stop Routine",3:"Request Routine Results"}[s]||"Routine Control Type";if(e===2)return"Routine Identifier High Byte";if(e===3)return"Routine Identifier Low Byte";if(e>=4)return`Routine Status Info ${e-3}`;break;case 20:if(e===1)return"DTC Group High Byte";if(e===2)return"DTC Group Mid Byte";if(e===3)return"DTC Group Low Byte";break;case 25:if(e===1)return`Sub-function: ${{1:"reportNumberOfDTCByStatusMask",2:"reportDTCByStatusMask",3:"reportDTCSnapshotIdentification",4:"reportDTCSnapshotRecordByDTCNumber",6:"reportDTCExtDataRecordByDTCNumber",7:"reportNumberOfDTCBySeverityMaskRecord",8:"reportDTCBySeverityMaskRecord",9:"reportSeverityInformationOfDTC",10:"reportSupportedDTC",11:"reportFirstTestFailedDTC",12:"reportFirstConfirmedDTC",13:"reportMostRecentTestFailedDTC",14:"reportMostRecentConfirmedDTC",15:"reportMirrorMemoryDTCByStatusMask"}[s]||"Unknown (0x"+s.toString(16).toUpperCase()+")"}`;const l=a.subFunction||r.data[1];if(l===1||l===7){if(e===2)return"DTC Status Availability Mask";if(e===3)return"DTC Format Identifier (ISO 14229-1)";if(e===4)return"DTC Count High Byte";if(e===5)return`DTC Count Low Byte (Total: ${r.data[4]<<8|s} DTCs)`}else if(l===2||l===10||l===11||l===12||l===13||l===14||l===15){if(e===2)return"DTC Status Availability Mask";if(e>=3){const c=(e-3)%4,f=Math.floor((e-3)/4)+1;if(c===0)return`DTC #${f} High Byte`;if(c===1)return`DTC #${f} Middle Byte`;if(c===2)return`DTC #${f} Low Byte`;if(c===3){const h=[];return s&8&&h.push("Confirmed"),s&4&&h.push("Pending"),s&1&&h.push("Failed"),`DTC #${f} Status (${h.join(", ")||"No flags"})`}}}else if(l===3){if(e===2)return"DTC High Byte";if(e===3)return"DTC Middle Byte";if(e===4)return"DTC Low Byte";if(e>=5)return`Snapshot Record Number ${e-4}`}else if(l===4){if(e===2)return"DTC High Byte";if(e===3)return"DTC Middle Byte";if(e===4)return"DTC Low Byte";if(e===5)return"DTC Status Byte";if(e===6)return"Snapshot Record Number";if(e===7)return"Number of DIDs in Snapshot";if(e>=8)return`Freeze Frame Data Byte ${e-7}`}else if(l===6){if(e===2)return"DTC High Byte";if(e===3)return"DTC Middle Byte";if(e===4)return"DTC Low Byte";if(e===5)return"DTC Status Byte";if(e===6)return"Extended Data Record Number";if(e>=7)return`Extended Data Byte ${e-6}`}else if(l===8||l===9){if(e===2)return"DTC Status Availability Mask";if(e>=3){const c=(e-3)%6,f=Math.floor((e-3)/6)+1;if(c===0){const h=s>>5&7;return`DTC #${f} Severity (${["No Info","Maint Due","Check Soon","Check Now","Critical","Critical","Critical","Critical"][h]})`}if(c===1)return`DTC #${f} Functional Unit`;if(c===2)return`DTC #${f} High Byte`;if(c===3)return`DTC #${f} Middle Byte`;if(c===4)return`DTC #${f} Low Byte`;if(c===5)return`DTC #${f} Status`}}return`DTC Data Byte ${e-2}`;case 52:if(e===1)return"Length Format Identifier";if(e===2)return"Max Block Length High Byte";if(e===3)return"Max Block Length Low Byte";break;case 54:if(e===1)return"Block Sequence Counter";break;case 55:return"Transfer Exit Response"}return e===1?"Sub-function / Parameter":`Data Byte ${e-1}`},P2=()=>{const{requestHistory:t,clearHistory:e,recordNRCResolution:s,ecuPower:a}=li(),r=FS(),l=w.useRef(null),c=w.useRef(0),[f,h]=w.useState(!1),[m,g]=w.useState(null),[x,b]=w.useState([]),[v,C]=w.useState({totalRequests:0,totalResponses:0,activeFlow:!1}),E=()=>{if(t.length===0){alert("No terminal data to generate report. Please send some UDS requests first.");return}const k=t.map(F=>F.request),V=t.map(F=>F.response),M=k.map((F,Z)=>Z===0?0:Math.max(0,F.timestamp-k[Z-1].timestamp)),_=V.filter(F=>!F.isNegative).length,W=V.length>0?Math.round(_/V.length*100):0,X=k.length>1?k[k.length-1].timestamp-k[0].timestamp:0,ce={id:`terminal_report_${Date.now()}`,name:`Terminal Output Report (${new Date().toLocaleString()})`,description:`Generated from current terminal session with ${k.length} requests`,version:"1.0.0",metadata:{author:"UDS Simulator",description:`Terminal session with ${k.length} requests, ${W}% success rate`,tags:["terminal","live-session"],duration:X,totalRequests:k.length,successRate:W,createdAt:Date.now()},requests:k,responses:V,timings:M,createdAt:Date.now()};sessionStorage.setItem("currentReport",JSON.stringify(ce)),r("/report",{state:{reportData:ce}})};w.useEffect(()=>{if(t.length>c.current){const k=t[t.length-1],V=[ma(k.request.sid),...k.request.subFunction!==void 0?[ma(k.request.subFunction)]:[],...k.request.data?.map(_=>ma(_))||[]],M={id:`req-${k.request.timestamp}`,direction:"request",bytes:V,timestamp:k.request.timestamp,isAnimating:!0};b(_=>[..._,M]),C(_=>({..._,totalRequests:_.totalRequests+1,activeFlow:!0})),setTimeout(()=>{b(_=>_.filter(W=>W.id!==M.id)),setTimeout(()=>{const _=k.response.data.map(X=>ma(X)),W={id:`res-${k.response.timestamp}`,direction:"response",bytes:_,timestamp:k.response.timestamp,isAnimating:!0};b(X=>[...X,W]),C(X=>({...X,totalResponses:X.totalResponses+1})),setTimeout(()=>{b(X=>X.filter(ce=>ce.id!==W.id)),C(X=>({...X,activeFlow:!1}))},2500)},500)},2500),c.current=t.length}},[t]);const N=(k,V,M)=>{g({nrc:k,request:V,response:M}),h(!0)},R=k=>{console.log("Try correction:",k),h(!1)},D=()=>{m&&s(m.nrc)};w.useEffect(()=>{l.current&&l.current.scrollTo({top:0,behavior:"smooth"})},[t]);const j=k=>({16:"Diagnostic Session Control",17:"ECU Reset",20:"Clear DTC",25:"Read DTC Information",34:"Read Data By Identifier",35:"Read Memory",39:"Security Access",40:"Communication Control",42:"Periodic Data",46:"Write Data By Identifier",49:"Routine Control",52:"Request Download",54:"Transfer Data",55:"Transfer Exit",61:"Write Memory"})[k]||`Unknown Service (0x${k.toString(16).toUpperCase()})`,O=k=>new Date(k).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});return u.jsxs("div",{className:"glass-panel cyber-shape p-0 animate-slide-up terminal-container relative overflow-hidden flex flex-col h-full",style:{animationDelay:"0.1s"},children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-0 bg-[length:100%_2px,3px_100%] hidden dark:block opacity-20"}),u.jsxs("div",{className:"terminal-header flex items-center justify-between px-4 py-3 relative z-10 shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex gap-1.5",children:[u.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${a?"bg-red-500/30":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.8)] animate-pulse"}`,title:a?"Ignition On":"Ignition Off"}),u.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/30 transition-all duration-300",title:"Standby"}),u.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${a?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.8)] animate-pulse":"bg-green-500/30"}`,title:a?"ECU Online":"ECU Offline"})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[u.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("h2",{className:"text-sm font-mono text-gray-700 dark:text-gray-300 font-bold tracking-wide",children:"TERMINAL_OUTPUT"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-800/50 border border-gray-700 rounded-md",children:[u.jsx("span",{className:"text-[10px] text-gray-500",children:"LATENCY"}),u.jsx("span",{className:"text-[10px] font-mono text-emerald-400",children:"7ms"})]}),u.jsxs("div",{className:"flex items-center gap-3 text-[10px] font-mono text-gray-600 dark:text-gray-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),"TX: ",v.totalRequests]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"}),"RX: ",v.totalResponses]})]}),u.jsx("button",{onClick:E,className:"text-[10px] font-mono text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-900/50 hover:bg-blue-50 dark:hover:bg-blue-900/20 px-2 py-1 rounded transition-colors uppercase",disabled:t.length===0,title:"Generate report from current terminal data",children:"REPORT"}),u.jsx("button",{onClick:e,className:"text-[10px] font-mono text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 border border-red-200 dark:border-red-900/50 hover:bg-red-50 dark:hover:bg-red-900/20 px-2 py-1 rounded transition-colors uppercase",disabled:t.length===0,children:"CLEAR"})]})]}),u.jsxs("div",{className:"relative py-3 px-4 flex items-center justify-between h-24 !bg-gray-50 dark:!bg-gray-900/40 border-b border-gray-200 dark:border-gray-800 shrink-0",children:[u.jsx("div",{className:"flex flex-col items-center justify-center gap-2 z-20 h-full",children:u.jsx("div",{className:"w-10 h-10 bg-cyan-900/30 rounded-lg flex items-center justify-center border border-cyan-700/50 shadow-[0_0_15px_rgba(6,182,212,0.3)]",children:u.jsx("span",{className:"text-xs font-bold text-cyan-500",children:"CLI"})})}),u.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-6 mx-4 h-full relative",children:[u.jsxs("div",{className:"relative w-full h-4 flex items-center",children:[u.jsx("div",{className:"absolute left-[-10px] text-[10px] font-mono text-cyan-600/70 font-bold",children:"TX"}),u.jsxs("div",{className:"w-full h-px bg-gradient-to-r from-cyan-900/50 via-cyan-500/30 to-cyan-900/50 relative",children:[u.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-cyan-500/50 text-[10px]",children:""}),u.jsx("div",{className:"absolute left-1/3 top-1/2 -translate-y-1/2 text-cyan-500/20 text-[8px]",children:""}),u.jsx("div",{className:"absolute left-2/3 top-1/2 -translate-y-1/2 text-cyan-500/20 text-[8px]",children:""}),x.filter(k=>k.direction==="request").map(k=>u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 bg-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.8)] rounded-full animate-packet-request"},k.id))]})]}),u.jsxs("div",{className:"relative w-full h-4 flex items-center",children:[u.jsx("div",{className:"absolute left-[-10px] text-[10px] font-mono text-purple-600/70 font-bold",children:"RX"}),u.jsxs("div",{className:"w-full h-px bg-gradient-to-r from-purple-900/50 via-purple-500/30 to-purple-900/50 relative",children:[u.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-purple-500/50 text-[10px]",children:""}),u.jsx("div",{className:"absolute left-1/3 top-1/2 -translate-y-1/2 text-purple-500/20 text-[8px]",children:""}),u.jsx("div",{className:"absolute left-2/3 top-1/2 -translate-y-1/2 text-purple-500/20 text-[8px]",children:""}),x.filter(k=>k.direction==="response").map(k=>u.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-2 h-2 bg-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.8)] rounded-full animate-packet-response"},k.id))]})]})]}),u.jsx("div",{className:"flex flex-col items-center justify-center gap-2 z-20 h-full",children:u.jsxs("div",{className:"w-10 h-10 bg-purple-900/30 rounded-lg flex items-center justify-center border border-purple-700/50 relative shadow-[0_0_15px_rgba(168,85,247,0.3)]",children:[v.activeFlow&&u.jsx("div",{className:"absolute inset-0 border border-purple-500 rounded-lg animate-ping opacity-20"}),u.jsx("span",{className:"text-xs font-bold text-purple-500",children:"ECU"})]})})]}),u.jsx("div",{ref:l,className:"h-[400px] overflow-y-auto p-4 font-mono text-sm custom-scrollbar scroll-smooth",children:t.length===0?u.jsxs("div",{className:"terminal-empty-state",children:[u.jsx("p",{className:"font-mono",children:"No active session data"}),u.jsx("p",{className:"text-xs",children:"Waiting for UDS commands..."})]}):u.jsxs("div",{className:"space-y-1",children:[[...t].reverse().map((k,V)=>u.jsxs("div",{className:"animate-fade-in mb-3",children:[u.jsxs("div",{className:"terminal-log-entry terminal-log-tx group",children:[u.jsxs("span",{className:"text-gray-500 dark:text-gray-500 mr-2 text-xs",children:["[",O(k.request.timestamp),"]"]}),u.jsx("span",{className:"text-cyan-500 font-bold mr-2",children:" TX"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300 mr-2 font-medium",children:j(k.request.sid)}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 font-mono",children:dk([k.request.sid,...k.request.subFunction?[k.request.subFunction]:[],...k.request.data||[]])})]}),u.jsxs("div",{className:`terminal-log-entry group mt-1 ${k.response.isNegative?"terminal-log-rx-negative":"terminal-log-rx-positive"}`,children:[u.jsxs("span",{className:"text-gray-500 dark:text-gray-500 mr-2 text-xs",children:["[",O(k.response.timestamp),"]"]}),u.jsx("span",{className:`font-bold mr-2 ${k.response.isNegative?"text-red-500":"text-purple-500"}`,children:k.response.isNegative?" RX":" RX"}),k.response.isNegative?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-red-600 dark:text-red-400 mr-2",children:"NEGATIVE RESPONSE"}),u.jsx("span",{className:"text-red-700 font-bold",children:k.response.nrc?`NRC 0x${ma(k.response.nrc)}`:"Error"}),k.response.nrc&&u.jsx("button",{onClick:()=>N(k.response.nrc,k.request,k.response),className:"ml-2 text-[10px] bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-1.5 rounded border border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/50 transition-colors",children:"? HELP"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-purple-600 dark:text-purple-300 mr-2 font-medium",children:"POSITIVE RESPONSE"}),u.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:k.response.data.map(M=>ma(M)).join(" ")})]})]}),u.jsx("div",{className:"terminal-byte-breakdown py-2 mt-1 mb-2",children:k.response.data.map((M,_)=>u.jsxs("div",{className:"terminal-byte-row",children:[u.jsx("span",{className:"terminal-byte-index",children:_}),u.jsx("span",{className:"terminal-byte-value",children:ma(M)}),u.jsx("span",{className:"terminal-byte-interpretation",children:ij(k,_,M)})]},_))})]},`${k.request.timestamp}-${V}`)),u.jsx("div",{className:"mt-4 text-cyan-500 terminal-cursor text-lg",children:"_"})]})}),m&&u.jsx(sj,{isOpen:f,onClose:()=>h(!1),nrc:m.nrc,request:m.request,response:m.response,onTryCorrection:R,onMarkResolved:D})]})},Hp=()=>{const{protocolState:t,ecuPower:e,toggleEcuPower:s,voltage:a,current:r}=li(),[l,c]=w.useState(null);w.useEffect(()=>{if(!e){c(null);return}if(t.currentSession===me.DEFAULT){c(null);return}const b=()=>{const C=Date.now()-t.lastActivityTime,E=Math.max(0,t.sessionTimeout-C);c(E)};b();const v=setInterval(b,100);return()=>clearInterval(v)},[e,t.currentSession,t.lastActivityTime,t.sessionTimeout]);const f=b=>{switch(b){case me.DEFAULT:return"Default";case me.PROGRAMMING:return"Programming";case me.EXTENDED:return"Extended";case me.SAFETY:return"Safety";default:return"Unknown"}},h=b=>{if(!e)return"text-gray-600 dark:text-gray-500";switch(b){case me.DEFAULT:return"text-green-700 dark:text-cyber-green";case me.PROGRAMMING:return"text-purple-700 dark:text-cyber-purple";case me.EXTENDED:return"text-blue-700 dark:text-cyber-blue";case me.SAFETY:return"text-orange-700 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},m=l!==null?Math.min(100,l/t.sessionTimeout*100):0,g=w.useMemo(()=>Array(12).fill(0).map(()=>Math.random()*100),[e]),x=l!==null?`${Math.ceil(l/1e3)}s`:e?"--":"0s";return u.jsxs("div",{className:`glass-panel p-4 mb-6 relative overflow-hidden transition-all duration-500 ${e?"":"grayscale-[0.8] opacity-80"}`,children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-cyber-blue/5 to-transparent opacity-20 pointer-events-none transition-opacity duration-500 ${e?"":"opacity-0"}`}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6 lg:gap-0 relative z-10",children:[u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center lg:justify-start gap-4 px-4",children:[u.jsx("button",{onClick:s,className:`w-12 h-12 rounded-lg flex items-center justify-center border transition-all duration-300 hover:scale-105 active:scale-95 ${e?"border-emerald-400 dark:border-emerald-500/50 bg-emerald-100 dark:bg-emerald-500/10 shadow-[0_0_15px_rgba(16,185,129,0.3)]":"border-red-300 dark:border-red-500/50 bg-red-100 dark:bg-red-500/10"}`,children:u.jsx("svg",{className:`w-6 h-6 transition-colors duration-300 ${e?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-[10px] uppercase tracking-[0.2em] mb-1 ${e?"text-emerald-700 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:"Ignition"}),u.jsx("div",{className:`text-lg font-bold font-mono transition-all duration-300 ${e?"text-emerald-700 dark:text-emerald-400 text-glow":"text-red-600 dark:text-red-400"}`,children:e?"ON":"OFF"})]})]}),u.jsx("div",{className:"hidden lg:block w-px h-12 bg-gradient-to-b from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center gap-4 px-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border transition-all duration-300 ${e?"border-emerald-400 dark:border-emerald-500/50 bg-emerald-100 dark:bg-emerald-500/10":"border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800"}`,children:u.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${e?"bg-emerald-500 dark:bg-emerald-400 animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.8)]":"bg-gray-400 dark:bg-gray-600"}`})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-[10px] uppercase tracking-[0.2em] mb-1 ${e?"text-emerald-700 dark:text-emerald-400":"text-gray-500"}`,children:"System"}),u.jsx("div",{className:`text-lg font-bold font-mono transition-all duration-300 ${e?"text-emerald-700 dark:text-emerald-400 text-glow":"text-gray-500"}`,children:e?"SYS UP":"SYS DOWN"}),e&&u.jsxs("div",{className:"text-[10px] font-mono text-gray-500 dark:text-gray-400",children:[a.toFixed(1),"V / ",r.toFixed(2),"A"]})]})]}),u.jsx("div",{className:"hidden lg:block w-px h-12 bg-gradient-to-b from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center gap-4 px-4",children:[u.jsxs("div",{className:"relative w-14 h-14 flex items-center justify-center",children:[u.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor",strokeWidth:"3",fill:"transparent",className:"text-gray-200 dark:text-dark-700"}),u.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:150.8,strokeDashoffset:150.8*(m/100),className:`${h(t.currentSession)} transition-all duration-1000 ease-linear ${e?"":"opacity-0"}`})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-[10px] font-mono text-gray-600 dark:text-gray-400",children:x})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] text-blue-700 dark:text-cyber-blue uppercase tracking-[0.2em] mb-1",children:"Session"}),u.jsx("div",{className:`text-lg font-bold font-mono ${h(t.currentSession)} ${e?"text-glow":""}`,children:e?f(t.currentSession):"OFFLINE"})]})]}),u.jsx("div",{className:"hidden lg:block w-px h-12 bg-gradient-to-b from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center gap-4 px-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center border transition-all duration-300 ${e?t.securityUnlocked?"border-purple-300 dark:border-cyber-purple bg-purple-100 dark:bg-cyber-purple/10":"border-amber-300 dark:border-amber-500/50 bg-amber-100 dark:bg-amber-500/10 shadow-[0_0_15px_rgba(245,158,11,0.2)]":"border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800"}`,children:u.jsx("svg",{className:`w-6 h-6 transition-colors duration-300 ${e?t.securityUnlocked?"text-purple-700 dark:text-cyber-purple animate-pulse":"text-amber-700 dark:text-amber-500":"text-gray-400 dark:text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:t.securityUnlocked?"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z":"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-[10px] uppercase tracking-[0.2em] mb-1 ${e?t.securityUnlocked?"text-purple-700 dark:text-cyber-purple":"text-amber-700 dark:text-amber-500":"text-gray-500"}`,children:"Security"}),u.jsx("div",{className:`text-lg font-bold font-mono transition-all duration-300 ${e?t.securityUnlocked?"text-purple-700 dark:text-cyber-purple text-glow":"text-amber-700 dark:text-amber-500 text-shadow-sm":"text-gray-500"}`,children:e?t.securityUnlocked?`Lvl ${t.securityLevel}`:"LOCKED":"---"})]})]}),u.jsx("div",{className:"hidden lg:block w-px h-12 bg-gradient-to-b from-transparent via-gray-700 to-transparent"}),u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center gap-4 px-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border transition-all duration-300 ${e?t.communicationEnabled?"border-green-300 dark:border-cyber-green/50 bg-green-100 dark:bg-cyber-green/5":"border-red-300 dark:border-red-500/50 bg-red-100 dark:bg-red-500/5":"border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800"}`,children:u.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${e?t.communicationEnabled?"bg-green-600 dark:bg-cyber-green animate-ping":"bg-red-600 dark:bg-red-500":"bg-gray-400 dark:bg-gray-600"}`})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-[10px] uppercase tracking-[0.2em] mb-1 ${e?"text-green-700 dark:text-cyber-green":"text-gray-500"}`,children:"Comms"}),u.jsx("div",{className:`text-lg font-bold font-mono transition-all duration-300 ${e?t.communicationEnabled?"text-green-700 dark:text-cyber-green text-glow":"text-red-700 dark:text-red-500":"text-gray-500"}`,children:e?t.communicationEnabled?"ONLINE":"OFFLINE":"DISABLED"})]})]}),u.jsx("div",{className:"hidden lg:block w-px h-12 bg-gradient-to-b from-transparent via-gray-700 to-transparent"}),u.jsxs("div",{className:"flex-1 w-full lg:w-auto flex items-center justify-center lg:justify-end gap-4 px-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`text-[10px] uppercase tracking-[0.2em] mb-1 ${e?"text-blue-700 dark:text-cyber-blue":"text-gray-500"}`,children:"Data Bus"}),u.jsx("div",{className:`text-lg font-bold font-mono transition-all duration-300 ${e?"text-gray-800 dark:text-gray-200":"text-gray-500"}`,children:e?t.downloadInProgress?"DOWNLOADING...":t.uploadInProgress?"UPLOADING...":"IDLE":"OFF"})]}),u.jsx("div",{className:`h-10 flex items-end gap-0.5 w-24 transition-opacity duration-300 ${e?"opacity-50":"opacity-20 grayscale"}`,children:g.map((b,v)=>u.jsx("div",{className:`flex-1 transition-all duration-300 ${e?"bg-blue-600 dark:bg-cyber-blue":"bg-gray-600 h-1"}`,style:{height:e?`${b}%`:"4px"}},v))})]})]})]})},Ea="generated",aj="pointerdown",rj="pointerup",qm="pointerleave",oj="pointerout",La="pointermove",lj="touchstart",tv="touchend",cj="touchmove",uj="touchcancel",dj="resize",fj="visibilitychange",Xn="tsParticles - Error",Pi=100,Tt=.5,Wt=1e3,Qt={x:0,y:0,z:0},mu={a:1,b:0,c:0,d:1},Zr="random",Au="mid",Xt=2,hj=Math.PI*Xt,tm=60,z2="true",nv="false",nm="canvas",sv=0,Zs=2,iv=4,mj=1,av=1,rv=1,pj=4,I2=1,Mu=255,Na=360,Gm=100,$m=100,ov=0,Ym=0,gj=60,yj=0,Yu=.25,lv=Tt+Yu,cv=0,xj=1,bj=0,vj=0,Sj=1,qp=1,Cj=1,uv=1,Qu=0,B2=1,wj=0,Ej=120,Nj=0,Rj=0,Tj=1e4,kj=0,Dj=1,Wu=0,F2=1,jj=1,_j=0,dv=1,Oj=0,Aj=0,fv=-Yu,hv=1.5,mv=0,Mj=1,Lj=0,Qm=0,V2=1,Uj=1,Xu=1,Pj=500,pv=50,zj=0,Wm=1,H2=0,gv=1,Ij=0,pa=255,sm=3,im=6,Bj=1,Fj=1,Vj=0,Hj=0,qj=0,Gj=0;var Vt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Vt||(Vt={}));function q2(t){return typeof t=="boolean"}function Vi(t){return typeof t=="string"}function Hi(t){return typeof t=="number"}function Ur(t){return typeof t=="object"&&t!==null}function Ds(t){return Array.isArray(t)}function de(t){return t==null}class Tn{constructor(e,s,a){if(this._updateFromAngle=(r,l)=>{this.x=Math.cos(r)*l,this.y=Math.sin(r)*l},!Hi(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Qt.z}else if(e!==void 0&&s!==void 0)this.x=e,this.y=s,this.z=a??Qt.z;else throw new Error(`${Xn} Vector3d not initialized correctly`)}static get origin(){return Tn.create(Qt.x,Qt.y,Qt.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Tn.create(e.x,e.y,e.z)}static create(e,s,a){return new Tn(e,s,a)}add(e){return Tn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Tn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Tn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Zs+this.y**Zs}mult(e){return Tn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Wu&&this.multTo(I2/e)}rotate(e){return Tn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Qt.z)}setTo(e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:Qt.z}sub(e){return Tn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class _t extends Tn{constructor(e,s){super(e,s,Qt.z)}static get origin(){return _t.create(Qt.x,Qt.y)}static clone(e){return _t.create(e.x,e.y)}static create(e,s){return new _t(e,s)}}let $j=Math.random;const G2={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Ke(){return Kn($j(),0,1-Number.EPSILON)}function Yj(t){return G2.nextFrame(t)}function Qj(t){G2.cancel(t)}function Kn(t,e,s){return Math.min(Math.max(t,e),s)}function am(t,e,s,a){return Math.floor((t*s+e*a)/(s+a))}function jn(t){const e=ws(t),s=0;let a=yd(t);return e===a&&(a=s),Ke()*(e-a)+a}function Ee(t){return Hi(t)?t:jn(t)}function yd(t){return Hi(t)?t:t.min}function ws(t){return Hi(t)?t:t.max}function He(t,e){if(t===e||e===void 0&&Hi(t))return t;const s=yd(t),a=ws(t);return e!==void 0?{min:Math.min(s,e),max:Math.max(a,e)}:He(s,a)}function ln(t,e){const s=t.x-e.x,a=t.y-e.y,r=2;return{dx:s,dy:a,distance:Math.sqrt(s**r+a**r)}}function On(t,e){return ln(t,e).distance}function Ii(t){return t*Math.PI/180}function Wj(t,e,s){if(Hi(t))return Ii(t);switch(t){case Vt.top:return-Math.PI*Tt;case Vt.topRight:return-Math.PI*Yu;case Vt.right:return yj;case Vt.bottomRight:return Math.PI*Yu;case Vt.bottom:return Math.PI*Tt;case Vt.bottomLeft:return Math.PI*lv;case Vt.left:return Math.PI;case Vt.topLeft:return-Math.PI*lv;case Vt.inside:return Math.atan2(s.y-e.y,s.x-e.x);case Vt.outside:return Math.atan2(e.y-s.y,e.x-s.x);default:return Ke()*hj}}function Xj(t){const e=_t.origin;return e.length=1,e.angle=t,e}function yv(t,e,s,a){return _t.create(t.x*(s-a)/(s+a)+e.x*Xt*a/(s+a),t.y)}function Kj(t){return{x:t.position?.x??Ke()*t.size.width,y:t.position?.y??Ke()*t.size.height}}function $2(t){return t?t.endsWith("%")?parseFloat(t)/Pi:parseFloat(t):1}var Ra;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Ra||(Ra={}));var St;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(St||(St={}));var Ua;(function(t){t.none="none",t.max="max",t.min="min"})(Ua||(Ua={}));var Ie;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(Ie||(Ie={}));var Jr;(function(t){t.precise="precise",t.percent="percent"})(Jr||(Jr={}));var Gr;(function(t){t.max="max",t.min="min",t.random="random"})(Gr||(Gr={}));const Zj={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Pa(){return Zj}function Jj(t){const e=new Map;return(...s)=>{const a=JSON.stringify(s);if(e.has(a))return e.get(a);const r=t(...s);return e.set(a,r),r}}function xv(t){const e={bounced:!1},{pSide:s,pOtherSide:a,rectSide:r,rectOtherSide:l,velocity:c,factor:f}=t;return a.min<l.min||a.min>l.max||a.max<l.min||a.max>l.max||(s.max>=r.min&&s.max<=(r.max+r.min)*Tt&&c>cv||s.min<=r.max&&s.min>(r.max+r.min)*Tt&&c<cv)&&(e.velocity=c*-f,e.bounced=!0),e}function e_(t,e){const s=An(e,a=>t.matches(a));return Ds(s)?s.some(a=>a):s}function za(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function t_(){return!za()&&typeof matchMedia<"u"}function Y2(t){if(t_())return matchMedia(t)}function n_(t){if(!(za()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function s_(t){if(!(za()||typeof MutationObserver>"u"))return new MutationObserver(t)}function pt(t,e){return t===e||Ds(e)&&e.indexOf(t)>-1}async function bv(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function i_(t){return Math.floor(Ke()*t.length)}function xd(t,e,s=!0){return t[e!==void 0&&s?e%t.length:i_(t)]}function Gp(t,e,s,a,r){return a_(Bl(t,a??0),e,s,r)}function a_(t,e,s,a){let r=!0;return(!a||a===Ie.bottom)&&(r=t.top<e.height+s.x),r&&(!a||a===Ie.left)&&(r=t.right>s.x),r&&(!a||a===Ie.right)&&(r=t.left<e.width+s.y),r&&(!a||a===Ie.top)&&(r=t.bottom>s.y),r}function Bl(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Jt(t,...e){for(const s of e){if(s==null)continue;if(!Ur(s)){t=s;continue}const a=Array.isArray(s);a&&(Ur(t)||!t||!Array.isArray(t))?t=[]:!a&&(Ur(t)||!t||Array.isArray(t))&&(t={});for(const r in s){if(r==="__proto__")continue;const l=s,c=l[r],f=t;f[r]=Ur(c)&&Array.isArray(c)?c.map(h=>Jt(f[r],h)):Jt(f[r],c)}}return t}function $p(t,e){return!!X2(e,s=>s.enable&&pt(t,s.mode))}function Yp(t,e,s){An(e,a=>{const r=a.mode;a.enable&&pt(t,r)&&r_(a,s)})}function r_(t,e){const s=t.selectors;An(s,a=>{e(a,t)})}function Q2(t,e){if(!(!e||!t))return X2(t,s=>e_(e,s.selectors))}function Xm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:_t.create(Ee(t.options.bounce.horizontal.value),Ee(t.options.bounce.vertical.value))}}function W2(t,e){const{x:s,y:a}=t.velocity.sub(e.velocity),[r,l]=[t.position,e.position],{dx:c,dy:f}=ln(l,r);if(s*c+a*f<0)return;const m=-Math.atan2(f,c),g=t.mass,x=e.mass,b=t.velocity.rotate(m),v=e.velocity.rotate(m),C=yv(b,v,g,x),E=yv(v,b,g,x),N=C.rotate(-m),R=E.rotate(-m);t.velocity.x=N.x*t.factor.x,t.velocity.y=N.y*t.factor.y,e.velocity.x=R.x*e.factor.x,e.velocity.y=R.y*e.factor.y}function o_(t,e){const s=t.getPosition(),a=t.getRadius(),r=Bl(s,a),l=t.options.bounce,c=xv({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:Ee(l.horizontal.value)});c.bounced&&(c.velocity!==void 0&&(t.velocity.x=c.velocity),c.position!==void 0&&(t.position.x=c.position));const f=xv({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:Ee(l.vertical.value)});f.bounced&&(f.velocity!==void 0&&(t.velocity.y=f.velocity),f.position!==void 0&&(t.position.y=f.position))}function An(t,e){return Ds(t)?t.map((a,r)=>e(a,r)):e(t,0)}function Yn(t,e,s){return Ds(t)?xd(t,e,s):t}function X2(t,e){return Ds(t)?t.find((a,r)=>e(a,r)):e(t,0)?t:void 0}function K2(t,e){const s=t.value,a=t.animation,r={delayTime:Ee(a.delay)*Wt,enable:a.enable,value:Ee(t.value)*e,max:ws(s)*e,min:yd(s)*e,loops:0,maxLoops:Ee(a.count),time:0},l=1;if(a.enable){switch(r.decay=l-Ee(a.decay),a.mode){case Ra.increase:r.status=St.increasing;break;case Ra.decrease:r.status=St.decreasing;break;case Ra.random:r.status=Ke()>=Tt?St.increasing:St.decreasing;break}const c=a.mode===Ra.auto;switch(a.startValue){case Gr.min:r.value=r.min,c&&(r.status=St.increasing);break;case Gr.max:r.value=r.max,c&&(r.status=St.decreasing);break;case Gr.random:default:r.value=jn(r),c&&(r.status=Ke()>=Tt?St.increasing:St.decreasing);break}}return r.initialValue=r.value,r}function l_(t,e){if(!(t.mode===Jr.percent)){const{mode:r,...l}=t;return l}return"x"in t?{x:t.x/Pi*e.width,y:t.y/Pi*e.height}:{width:t.width/Pi*e.width,height:t.height/Pi*e.height}}function Z2(t,e){return l_(t,e)}function c_(t,e,s,a,r){switch(e){case Ua.max:s>=r&&t.destroy();break;case Ua.min:s<=a&&t.destroy();break}}function Qp(t,e,s,a,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const g=(e.velocity??0)*r.factor,x=e.min,b=e.max,v=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case St.increasing:e.value>=b?(s?e.status=St.decreasing:e.value-=b,e.loops||(e.loops=0),e.loops++):e.value+=g;break;case St.decreasing:e.value<=x?(s?e.status=St.increasing:e.value+=b,e.loops||(e.loops=0),e.loops++):e.value-=g}e.velocity&&v!==1&&(e.velocity*=v),c_(t,a,e.value,x,b),t.destroyed||(e.value=Kn(e.value,x,b))}}function u_(t){const e=document.createElement("div").style;if(!t)return e;for(const s in t){const a=t[s];if(!Object.prototype.hasOwnProperty.call(t,s)||de(a))continue;const r=t.getPropertyValue?.(a);if(!r)continue;const l=t.getPropertyPriority?.(a);l?e.setProperty?.(a,r,l):e.setProperty?.(a,r)}return e}function d_(t){const e=document.createElement("div").style,s=10,a={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(s),"z-index":t.toString(s),top:"0",left:"0"};for(const r in a){const l=a[r];e.setProperty(r,l)}return e}const f_=Jj(d_);var Km;(function(t){t.darken="darken",t.enlighten="enlighten"})(Km||(Km={}));function h_(t,e){if(e){for(const s of t.colorManagers.values())if(e.startsWith(s.stringPrefix))return s.parseString(e)}}function ls(t,e,s,a=!0){if(!e)return;const r=Vi(e)?{value:e}:e;if(Vi(r.value))return J2(t,r.value,s,a);if(Ds(r.value))return ls(t,{value:xd(r.value,s,a)});for(const l of t.colorManagers.values()){const c=l.handleRangeColor(r);if(c)return c}}function J2(t,e,s,a=!0){if(!e)return;const r=Vi(e)?{value:e}:e;if(Vi(r.value))return r.value===Zr?tC():m_(t,r.value);if(Ds(r.value))return J2(t,{value:xd(r.value,s,a)});for(const l of t.colorManagers.values()){const c=l.handleColor(r);if(c)return c}}function Tl(t,e,s,a=!0){const r=ls(t,e,s,a);return r?eC(r):void 0}function eC(t){const e=t.r/Mu,s=t.g/Mu,a=t.b/Mu,r=Math.max(e,s,a),l=Math.min(e,s,a),c={h:ov,l:(r+l)*Tt,s:Ym};return r!==l&&(c.s=c.l<Tt?(r-l)/(r+l):(r-l)/(Xt-r-l),c.h=e===r?(s-a)/(r-l):c.h=s===r?Xt+(a-e)/(r-l):Xt*Xt+(e-s)/(r-l)),c.l*=$m,c.s*=Gm,c.h*=gj,c.h<ov&&(c.h+=Na),c.h>=Na&&(c.h-=Na),c}function m_(t,e){return h_(t,e)}function eo(t){const e=(t.h%Na+Na)%Na,s=Math.max(Ym,Math.min(Gm,t.s)),a=Math.max(Ij,Math.min($m,t.l)),r=e/Na,l=s/Gm,c=a/$m;if(s===Ym){const C=Math.round(c*pa);return{r:C,g:C,b:C}}const f=(C,E,N)=>{if(N<0&&N++,N>1&&N--,N*im<1)return C+(E-C)*im*N;if(N*Xt<1)return E;if(N*sm<1*Xt){const j=Xt/sm;return C+(E-C)*(j-N)*im}return C},h=c<Tt?c*(Bj+l):c+l-c*l,m=Xt*c-h,g=Fj/sm,x=Math.min(pa,pa*f(m,h,r+g)),b=Math.min(pa,pa*f(m,h,r)),v=Math.min(pa,pa*f(m,h,r-g));return{r:Math.round(x),g:Math.round(b),b:Math.round(v)}}function p_(t){const e=eo(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function tC(t){const e=Vj,s=Mu+Wm;return{b:Math.floor(jn(He(e,s))),g:Math.floor(jn(He(e,s))),r:Math.floor(jn(He(e,s)))}}function ti(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??qp})`}function kl(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??qp})`}function Wp(t,e,s,a){let r=t,l=e;return r.r===void 0&&(r=eo(t)),l.r===void 0&&(l=eo(e)),{b:am(r.b,l.b,s,a),g:am(r.g,l.g,s,a),r:am(r.r,l.r,s,a)}}function Zm(t,e,s){if(s===Zr)return tC();if(s===Au){const a=t.getFillColor()??t.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(a&&r&&e)return Wp(a,r,t.getRadius(),e.getRadius());{const l=a??r;if(l)return eo(l)}}else return s}function nC(t,e,s,a){const r=Vi(e)?e:e.value;return r===Zr?a?ls(t,{value:r}):s?Zr:Au:r===Au?Au:ls(t,{value:r})}function vv(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function sC(t,e,s){const a={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(rm(a.h,e.h,s),rm(a.s,e.s,s),rm(a.l,e.l,s)),a}function rm(t,e,s){t.enable=e.enable,t.enable?(t.velocity=Ee(e.speed)/Pi*s,t.decay=F2-Ee(e.decay),t.status=St.increasing,t.loops=qj,t.maxLoops=Ee(e.count),t.time=Gj,t.delayTime=Ee(e.delay)*Wt,e.sync||(t.velocity*=Ke(),t.value*=Ke()),t.initialValue=t.value,t.offset=He(e.offset)):t.velocity=Hj}function om(t,e,s,a){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=a.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const g=t.offset?jn(t.offset):0,x=(t.velocity??0)*a.factor+g*3.6,b=t.decay??1,v=ws(e),C=yd(e);!s||t.status===St.increasing?(t.value+=x,t.value>v&&(t.loops||(t.loops=0),t.loops++,s?t.status=St.decreasing:t.value-=v)):(t.value-=x,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=St.increasing)),t.velocity&&b!==1&&(t.velocity*=b),t.value=Kn(t.value,C,v)}function iC(t,e){if(!t)return;const{h:s,s:a,l:r}=t,l={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};s&&om(s,l.h,!1,e),a&&om(a,l.s,!0,e),r&&om(r,l.l,!0,e)}function bl(t,e,s){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(s.x,s.y),t.closePath()}function g_(t,e,s){t.fillStyle=s??"rgba(0,0,0,0)",t.fillRect(Qt.x,Qt.y,e.width,e.height)}function y_(t,e,s,a){s&&(t.globalAlpha=a,t.drawImage(s,Qt.x,Qt.y,e.width,e.height),t.globalAlpha=1)}function lm(t,e){t.clearRect(Qt.x,Qt.y,e.width,e.height)}function x_(t){const{container:e,context:s,particle:a,delta:r,colorStyles:l,backgroundMask:c,composite:f,radius:h,opacity:m,shadow:g,transform:x}=t,b=a.getPosition(),v=a.rotation+(a.pathRotation?a.velocity.angle:zj),C={sin:Math.sin(v),cos:Math.cos(v)},E=!!v,N={a:C.cos*(x.a??mu.a),b:E?C.sin*(x.b??Wm):x.b??mu.b,c:E?-C.sin*(x.c??Wm):x.c??mu.c,d:C.cos*(x.d??mu.d)};s.setTransform(N.a,N.b,N.c,N.d,b.x,b.y),c&&(s.globalCompositeOperation=f);const R=a.shadowColor;g.enable&&R&&(s.shadowBlur=g.blur,s.shadowColor=ti(R),s.shadowOffsetX=g.offset.x,s.shadowOffsetY=g.offset.y),l.fill&&(s.fillStyle=l.fill);const D=a.strokeWidth??H2;s.lineWidth=D,l.stroke&&(s.strokeStyle=l.stroke);const j={container:e,context:s,particle:a,radius:h,opacity:m,delta:r,transformData:N,strokeWidth:D};v_(j),S_(j),b_(j),s.globalCompositeOperation="source-over",s.resetTransform()}function b_(t){const{container:e,context:s,particle:a,radius:r,opacity:l,delta:c,transformData:f}=t;if(!a.effect)return;const h=e.effectDrawers.get(a.effect);h&&h.draw({context:s,particle:a,radius:r,opacity:l,delta:c,pixelRatio:e.retina.pixelRatio,transformData:{...f}})}function v_(t){const{container:e,context:s,particle:a,radius:r,opacity:l,delta:c,strokeWidth:f,transformData:h}=t;if(!a.shape)return;const m=e.shapeDrawers.get(a.shape);m&&(s.beginPath(),m.draw({context:s,particle:a,radius:r,opacity:l,delta:c,pixelRatio:e.retina.pixelRatio,transformData:{...h}}),a.shapeClose&&s.closePath(),f>H2&&s.stroke(),a.shapeFill&&s.fill())}function S_(t){const{container:e,context:s,particle:a,radius:r,opacity:l,delta:c,transformData:f}=t;if(!a.shape)return;const h=e.shapeDrawers.get(a.shape);h?.afterDraw&&h.afterDraw({context:s,particle:a,radius:r,opacity:l,delta:c,pixelRatio:e.retina.pixelRatio,transformData:{...f}})}function C_(t,e,s){e.draw&&e.draw(t,s)}function w_(t,e,s,a){e.drawParticle&&e.drawParticle(t,s,a)}function E_(t,e,s){return{h:t.h,s:t.s,l:t.l+(e===Km.darken?-gv:gv)*s}}function N_(t,e,s){const a=e[s];a!==void 0&&(t[s]=(t[s]??xj)*a)}function Sv(t,e,s=!1){if(!e)return;const a=t;if(!a)return;const r=a.style;if(!r)return;const l=new Set;for(const c in r)Object.prototype.hasOwnProperty.call(r,c)&&l.add(r[c]);for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&l.add(e[c]);for(const c of l){const f=e.getPropertyValue(c);f?r.setProperty(c,f,s?"important":""):r.removeProperty(c)}}class R_{constructor(e,s){this.container=e,this._applyPostDrawUpdaters=l=>{for(const c of this._postDrawUpdaters)c.afterDraw?.(l)},this._applyPreDrawUpdaters=(l,c,f,h,m,g)=>{for(const x of this._preDrawUpdaters){if(x.getColorStyles){const{fill:b,stroke:v}=x.getColorStyles(c,l,f,h);b&&(m.fill=b),v&&(m.stroke=v)}if(x.getTransformValues){const b=x.getTransformValues(c);for(const v in b)N_(g,b,v)}x.beforeDraw?.(c)}},this._applyResizePlugins=()=>{for(const l of this._resizePlugins)l.resize?.()},this._getPluginParticleColors=l=>{let c,f;for(const h of this._colorPlugins)if(!c&&h.particleFillColor&&(c=Tl(this._engine,h.particleFillColor(l))),!f&&h.particleStrokeColor&&(f=Tl(this._engine,h.particleStrokeColor(l))),c&&f)break;return[c,f]},this._initCover=async()=>{const l=this.container.actualOptions,c=l.backgroundMask.cover,f=c.color;if(f){const h=ls(this._engine,f);if(h){const m={...h,a:c.opacity};this._coverColorStyle=ti(m,m.a)}}else await new Promise((h,m)=>{if(!c.image)return;const g=document.createElement("img");g.addEventListener("load",()=>{this._coverImage={image:g,opacity:c.opacity},h()}),g.addEventListener("error",x=>{m(x.error)}),g.src=c.image})},this._initStyle=()=>{const l=this.element,c=this.container.actualOptions;if(l){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const f in c.style){if(!f||!c.style||!Object.prototype.hasOwnProperty.call(c.style,f))continue;const h=c.style[f];h&&l.style.setProperty(f,h,"important")}}},this._initTrail=async()=>{const l=this.container.actualOptions,c=l.particles.move.trail,f=c.fill;if(!c.enable)return;const h=I2/c.length;if(f.color){const m=ls(this._engine,f.color);if(!m)return;this._trailFill={color:{...m},opacity:h}}else await new Promise((m,g)=>{if(!f.image)return;const x=document.createElement("img");x.addEventListener("load",()=>{this._trailFill={image:x,opacity:h},m()}),x.addEventListener("error",b=>{g(b.error)}),x.src=f.image})},this._paintBase=l=>{this.draw(c=>g_(c,this.size,l))},this._paintImage=(l,c)=>{this.draw(f=>y_(f,this.size,l,c))},this._repairStyle=()=>{const l=this.element;if(!l)return;this._safeMutationObserver(f=>f.disconnect()),this._initStyle(),this.initBackground();const c=this._pointerEvents;l.style.pointerEvents=c,l.setAttribute("pointer-events",c),this._safeMutationObserver(f=>{!l||!(l instanceof Node)||f.observe(l,{attributes:!0})})},this._resetOriginalStyle=()=>{const l=this.element,c=this._originalStyle;!l||!c||Sv(l,c,!0)},this._safeMutationObserver=l=>{this._mutationObserver&&l(this._mutationObserver)},this._setFullScreenStyle=()=>{const l=this.element;l&&Sv(l,f_(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=s,this._standardSize={height:0,width:0};const a=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*a,width:r.width*a},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,s=e.particles.move.trail,a=this._trailFill;e.backgroundMask.enable?this.paint():s.enable&&s.length>vj&&a?a.color?this._paintBase(ti(a.color,a.opacity)):a.image&&this._paintImage(a.image,a.opacity):e.clear&&this.draw(r=>{lm(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const s=this._context;if(s)return e(s)}drawAsync(e){const s=this._context;if(s)return e(s)}drawParticle(e,s){if(e.spawning||e.destroyed)return;const a=e.getRadius();if(a<=bj)return;const r=e.getFillColor(),l=e.getStrokeColor()??r;let[c,f]=this._getPluginParticleColors(e);c||(c=r),f||(f=l),!(!c&&!f)&&this.draw(h=>{const m=this.container,g=m.actualOptions,x=e.options.zIndex,b=Sj-e.zIndexFactor,v=b**x.opacityRate,C=e.bubble.opacity??e.opacity?.value??qp,E=e.strokeOpacity??C,N=C*v,R=E*v,D={},j={fill:c?kl(c,N):void 0};j.stroke=f?kl(f,R):j.fill,this._applyPreDrawUpdaters(h,e,a,N,j,D),x_({container:m,context:h,particle:e,delta:s,colorStyles:j,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:a*b**x.sizeRate,opacity:N,shadow:e.options.shadow,transform:D}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,s,a){this.draw(r=>w_(r,e,s,a))}drawPlugin(e,s){this.draw(a=>C_(a,e,s))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=s_(e=>{for(const s of e)s.type==="attributes"&&s.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Pa().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,s=e.background,a=this.element;if(!a)return;const r=a.style;if(r){if(s.color){const l=ls(this._engine,s.color);r.backgroundColor=l?ti(l,s.opacity):""}else r.backgroundColor="";r.backgroundImage=s.image||"",r.backgroundPosition=s.position||"",r.backgroundRepeat=s.repeat||"",r.backgroundSize=s.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ea in e.dataset?e.dataset[Ea]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=u_(this.element.style);const s=this._standardSize;s.height=e.offsetHeight,s.width=e.offsetWidth;const a=this.container.retina.pixelRatio,r=this.size;e.height=r.height=s.height*a,e.width=r.width=s.width*a,this._context=this.element.getContext("2d"),this._safeMutationObserver(l=>l.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(l=>{!this.element||!(this.element instanceof Node)||l.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(s=>{e.backgroundMask.enable&&e.backgroundMask.cover?(lm(s,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,s=e.canvas._standardSize,a={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,l={width:a.width*r,height:a.height*r};if(a.height===s.height&&a.width===s.width&&l.height===this.element.height&&l.width===this.element.width)return!1;const c={...s};s.height=a.height,s.width=a.width;const f=this.size;return this.element.width=f.width=l.width,this.element.height=f.height=l.height,this.container.started&&e.particles.setResizeFactor({width:s.width/c.width,height:s.height/c.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>lm(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,s=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),s&&await e.refresh()}}var $r;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})($r||($r={}));function qn(t,e,s,a,r){if(a){let l={passive:!0};q2(r)?l.capture=r:r!==void 0&&(l=r),t.addEventListener(e,s,l)}else{const l=r;t.removeEventListener(e,s,l)}}class T_{constructor(e){this.container=e,this._doMouseTouchClick=s=>{const a=this.container,r=a.actualOptions;if(this._canPush){const l=a.interactivity.mouse,c=l.position;if(!c)return;l.clickPosition={...c},l.clickTime=new Date().getTime();const f=r.interactivity.events.onClick;An(f.mode,h=>this.container.handleClickMode(h))}s.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),Pj)},this._handleThemeChange=s=>{const a=s,r=this.container,l=r.options,c=l.defaultThemes,f=a.matches?c.dark:c.light;l.themes.find(m=>m.name===f)?.default.auto&&r.loadTheme(f)},this._handleVisibilityChange=()=>{const s=this.container,a=s.actualOptions;this._mouseTouchFinish(),a.pauseOnBlur&&(document?.hidden?(s.pageHidden=!0,s.pause()):(s.pageHidden=!1,s.animationStatus?s.play(!0):s.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const s=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void s(),this.container.actualOptions.interactivity.events.resize.delay*Wt)},this._manageInteractivityListeners=(s,a)=>{const r=this._handlers,l=this.container,c=l.actualOptions,f=l.interactivity.element;if(!f)return;const h=f,m=l.canvas;m.setPointerEvents(h===m.element?"initial":"none"),(c.interactivity.events.onHover.enable||c.interactivity.events.onClick.enable)&&(qn(f,La,r.mouseMove,a),qn(f,lj,r.touchStart,a),qn(f,cj,r.touchMove,a),c.interactivity.events.onClick.enable?(qn(f,tv,r.touchEndClick,a),qn(f,rj,r.mouseUp,a),qn(f,aj,r.mouseDown,a)):qn(f,tv,r.touchEnd,a),qn(f,s,r.mouseLeave,a),qn(f,uj,r.touchCancel,a))},this._manageListeners=s=>{const a=this._handlers,r=this.container,l=r.actualOptions,c=l.interactivity.detectsOn,f=r.canvas.element;let h=qm;c===$r.window?(r.interactivity.element=window,h=oj):c===$r.parent&&f?r.interactivity.element=f.parentElement??f.parentNode:r.interactivity.element=f,this._manageMediaMatch(s),this._manageResize(s),this._manageInteractivityListeners(h,s),document&&qn(document,fj,a.visibilityChange,s,!1)},this._manageMediaMatch=s=>{const a=this._handlers,r=Y2("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){qn(r,"change",a.themeChange,s);return}r.addListener!==void 0&&(s?r.addListener(a.oldThemeChange):r.removeListener(a.oldThemeChange))}},this._manageResize=s=>{const a=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){qn(window,dj,a.resize,s);return}const c=r.canvas.element;this._resizeObserver&&!s?(c&&this._resizeObserver.unobserve(c),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&s&&c&&(this._resizeObserver=new ResizeObserver(f=>{f.find(m=>m.target===c)&&this._handleWindowResize()}),this._resizeObserver.observe(c))},this._mouseDown=()=>{const{interactivity:s}=this.container;if(!s)return;const{mouse:a}=s;a.clicking=!0,a.downPosition=a.position},this._mouseTouchClick=s=>{const a=this.container,r=a.actualOptions,{mouse:l}=a.interactivity;l.inside=!0;let c=!1;const f=l.position;if(!(!f||!r.interactivity.events.onClick.enable)){for(const h of a.plugins.values())if(h.clickPositionValid&&(c=h.clickPositionValid(f),c))break;c||this._doMouseTouchClick(s),l.clicking=!1}},this._mouseTouchFinish=()=>{const s=this.container.interactivity;if(!s)return;const a=s.mouse;delete a.position,delete a.clickPosition,delete a.downPosition,s.status=qm,a.inside=!1,a.clicking=!1},this._mouseTouchMove=s=>{const a=this.container,r=a.actualOptions,l=a.interactivity,c=a.canvas.element;if(!l?.element)return;l.mouse.inside=!0;let f;if(s.type.startsWith("pointer")){this._canPush=!0;const m=s;if(l.element===window){if(c){const g=c.getBoundingClientRect();f={x:m.clientX-g.left,y:m.clientY-g.top}}}else if(r.interactivity.detectsOn===$r.parent){const g=m.target,x=m.currentTarget;if(g&&x&&c){const b=g.getBoundingClientRect(),v=x.getBoundingClientRect(),C=c.getBoundingClientRect();f={x:m.offsetX+Xt*b.left-(v.left+C.left),y:m.offsetY+Xt*b.top-(v.top+C.top)}}else f={x:m.offsetX??m.clientX,y:m.offsetY??m.clientY}}else m.target===c&&(f={x:m.offsetX??m.clientX,y:m.offsetY??m.clientY})}else if(this._canPush=s.type!=="touchmove",c){const m=s,g=m.touches[m.touches.length-V2],x=c.getBoundingClientRect();f={x:g.clientX-(x.left??Qu),y:g.clientY-(x.top??Qu)}}const h=a.retina.pixelRatio;f&&(f.x*=h,f.y*=h),l.mouse.position=f,l.status=La},this._touchEnd=s=>{const a=s,r=Array.from(a.changedTouches);for(const l of r)this._touches.delete(l.identifier);this._mouseTouchFinish()},this._touchEndClick=s=>{const a=s,r=Array.from(a.changedTouches);for(const l of r)this._touches.delete(l.identifier);this._mouseTouchClick(s)},this._touchStart=s=>{const a=s,r=Array.from(a.changedTouches);for(const l of r)this._touches.set(l.identifier,performance.now());this._mouseTouchMove(s)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:s=>this._mouseTouchMove(s),mouseUp:s=>this._mouseTouchClick(s),touchStart:s=>this._touchStart(s),touchMove:s=>this._mouseTouchMove(s),touchEnd:s=>this._touchEnd(s),touchCancel:s=>this._touchEnd(s),touchEndClick:s=>this._touchEndClick(s),visibilityChange:()=>this._handleVisibilityChange(),themeChange:s=>this._handleThemeChange(s),oldThemeChange:s=>this._handleThemeChange(s),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var rn;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(rn||(rn={}));class en{constructor(){this.value=""}static create(e,s){const a=new en;return a.load(e),s!==void 0&&(Vi(s)||Ds(s)?a.load({value:s}):a.load(s)),a}load(e){de(e)||de(e.value)||(this.value=e.value)}}class k_{constructor(){this.color=new en,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){de(e)||(e.color!==void 0&&(this.color=en.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class D_{constructor(){this.opacity=1}load(e){de(e)||(e.color!==void 0&&(this.color=en.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class j_{constructor(){this.composite="destination-out",this.cover=new D_,this.enable=!1}load(e){if(!de(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const s=e.cover,a=Vi(e.cover)?{color:e.cover}:e.cover;this.cover.load(s.color!==void 0||s.image!==void 0?s:{color:a})}e.enable!==void 0&&(this.enable=e.enable)}}}class __{constructor(){this.enable=!0,this.zIndex=0}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class O_{constructor(){this.enable=!1,this.mode=[]}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var to;(function(t){t.circle="circle",t.rectangle="rectangle"})(to||(to={}));class Cv{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=to.circle}load(e){de(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class A_{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class M_{constructor(){this.enable=!1,this.mode=[],this.parallax=new A_}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class L_{constructor(){this.delay=.5,this.enable=!0}load(e){de(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class U_{constructor(){this.onClick=new O_,this.onDiv=new Cv,this.onHover=new M_,this.resize=new L_}load(e){if(de(e))return;this.onClick.load(e.onClick);const s=e.onDiv;s!==void 0&&(this.onDiv=An(s,a=>{const r=new Cv;return r.load(a),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class P_{constructor(e,s){this._engine=e,this._container=s}load(e){if(de(e)||!this._container)return;const s=this._engine.interactors.get(this._container);if(s)for(const a of s)a.loadModeOptions&&a.loadModeOptions(this,e)}}class aC{constructor(e,s){this.detectsOn=$r.window,this.events=new U_,this.modes=new P_(e,s)}load(e){if(de(e))return;const s=e.detectsOn;s!==void 0&&(this.detectsOn=s),this.events.load(e.events),this.modes.load(e.modes)}}class z_{load(e){de(e)||(e.position&&(this.position={x:e.position.x??pv,y:e.position.y??pv,mode:e.position.mode??Jr.percent}),e.options&&(this.options=Jt({},e.options)))}}var Ta;(function(t){t.screen="screen",t.canvas="canvas"})(Ta||(Ta={}));class I_{constructor(){this.maxWidth=1/0,this.options={},this.mode=Ta.canvas}load(e){de(e)||(de(e.maxWidth)||(this.maxWidth=e.maxWidth),de(e.mode)||(e.mode===Ta.screen?this.mode=Ta.screen:this.mode=Ta.canvas),de(e.options)||(this.options=Jt({},e.options)))}}var Ui;(function(t){t.any="any",t.dark="dark",t.light="light"})(Ui||(Ui={}));class B_{constructor(){this.auto=!1,this.mode=Ui.any,this.value=!1}load(e){de(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class F_{constructor(){this.name="",this.default=new B_}load(e){de(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Jt({},e.options)))}}class Xp{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){de(e)||(e.count!==void 0&&(this.count=He(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=He(e.speed)),e.decay!==void 0&&(this.decay=He(e.decay)),e.delay!==void 0&&(this.delay=He(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Kp extends Xp{constructor(){super(),this.mode=Ra.auto,this.startValue=Gr.random}load(e){super.load(e),!de(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class cm extends Xp{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!de(e)&&e.offset!==void 0&&(this.offset=He(e.offset))}}class V_{constructor(){this.h=new cm,this.s=new cm,this.l=new cm}load(e){de(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Dl extends en{constructor(){super(),this.animation=new V_}static create(e,s){const a=new Dl;return a.load(e),s!==void 0&&(Vi(s)||Ds(s)?a.load({value:s}):a.load(s)),a}load(e){if(super.load(e),de(e))return;const s=e.animation;s!==void 0&&(s.enable!==void 0?this.animation.h.load(s):this.animation.load(e.animation))}}var Yr;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Yr||(Yr={}));class H_{constructor(){this.speed=2}load(e){de(e)||e.speed!==void 0&&(this.speed=e.speed)}}class q_{constructor(){this.enable=!0,this.retries=0}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Ba{constructor(){this.value=0}load(e){de(e)||de(e.value)||(this.value=He(e.value))}}class G_ extends Ba{constructor(){super(),this.animation=new Xp}load(e){if(super.load(e),de(e))return;const s=e.animation;s!==void 0&&this.animation.load(s)}}class rC extends G_{constructor(){super(),this.animation=new Kp}load(e){super.load(e)}}class wv extends Ba{constructor(){super(),this.value=1}}class oC{constructor(){this.horizontal=new wv,this.vertical=new wv}load(e){de(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class $_{constructor(){this.absorb=new H_,this.bounce=new oC,this.enable=!1,this.maxSpeed=50,this.mode=Yr.bounce,this.overlap=new q_}load(e){de(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=He(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Y_{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(de(e))return;const s=e.options;if(s!==void 0)for(const a in s){const r=s[a];r&&(this.options[a]=Jt(this.options[a]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Q_{constructor(){this.offset=0,this.value=90}load(e){de(e)||(e.offset!==void 0&&(this.offset=He(e.offset)),e.value!==void 0&&(this.value=He(e.value)))}}class W_{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!de(e)&&(e.distance!==void 0&&(this.distance=He(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const s=e.rotate.x;s!==void 0&&(this.rotate.x=s);const a=e.rotate.y;a!==void 0&&(this.rotate.y=a)}}}class X_{constructor(){this.x=50,this.y=50,this.mode=Jr.percent,this.radius=0}load(e){de(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class K_{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){de(e)||(e.acceleration!==void 0&&(this.acceleration=He(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=He(e.maxSpeed)))}}class Z_{constructor(){this.clamp=!0,this.delay=new Ba,this.enable=!1,this.options={}}load(e){de(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Jt(this.options,e.options)))}}class J_{load(e){de(e)||(e.color!==void 0&&(this.color=en.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class eO{constructor(){this.enable=!1,this.length=10,this.fill=new J_}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Ct;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Ct||(Ct={}));class tO{constructor(){this.default=Ct.out}load(e){de(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class nO{constructor(){this.acceleration=0,this.enable=!1}load(e){de(e)||(e.acceleration!==void 0&&(this.acceleration=He(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Jt({},e.position)))}}class sO{constructor(){this.angle=new Q_,this.attract=new W_,this.center=new X_,this.decay=0,this.distance={},this.direction=Vt.none,this.drift=0,this.enable=!1,this.gravity=new K_,this.path=new Z_,this.outModes=new tO,this.random=!1,this.size=!1,this.speed=2,this.spin=new nO,this.straight=!1,this.trail=new eO,this.vibrate=!1,this.warp=!1}load(e){if(de(e))return;this.angle.load(Hi(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=He(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Hi(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=He(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=e.outModes;s!==void 0&&(Ur(s)?this.outModes.load(s):this.outModes.load({default:s})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=He(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class iO extends Kp{constructor(){super(),this.destroy=Ua.none,this.speed=2}load(e){super.load(e),!de(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class aO extends rC{constructor(){super(),this.animation=new iO,this.value=1}load(e){if(de(e))return;super.load(e);const s=e.animation;s!==void 0&&this.animation.load(s)}}class rO{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(de(e))return;e.enable!==void 0&&(this.enable=e.enable);const s=e.width;s!==void 0&&(this.width=s);const a=e.height;a!==void 0&&(this.height=a)}}var jl;(function(t){t.delete="delete",t.wait="wait"})(jl||(jl={}));class oO{constructor(){this.mode=jl.delete,this.value=0}load(e){de(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class lO{constructor(){this.density=new rO,this.limit=new oO,this.value=0}load(e){de(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class cO{constructor(){this.blur=0,this.color=new en,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){de(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=en.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class uO{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(de(e))return;const s=e.options;if(s!==void 0)for(const a in s){const r=s[a];r&&(this.options[a]=Jt(this.options[a]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class dO extends Kp{constructor(){super(),this.destroy=Ua.none,this.speed=5}load(e){super.load(e),!de(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class fO extends rC{constructor(){super(),this.animation=new dO,this.value=3}load(e){if(super.load(e),de(e))return;const s=e.animation;s!==void 0&&this.animation.load(s)}}class Ev{constructor(){this.width=0}load(e){de(e)||(e.color!==void 0&&(this.color=Dl.create(this.color,e.color)),e.width!==void 0&&(this.width=He(e.width)),e.opacity!==void 0&&(this.opacity=He(e.opacity)))}}class hO extends Ba{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!de(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class mO{constructor(e,s){this._engine=e,this._container=s,this.bounce=new oC,this.collisions=new $_,this.color=new Dl,this.color.value="#fff",this.effect=new Y_,this.groups={},this.move=new sO,this.number=new lO,this.opacity=new aO,this.reduceDuplicates=!1,this.shadow=new cO,this.shape=new uO,this.size=new fO,this.stroke=new Ev,this.zIndex=new hO}load(e){if(de(e))return;if(e.groups!==void 0)for(const a of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,a))continue;const r=e.groups[a];r!==void 0&&(this.groups[a]=Jt(this.groups[a]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Dl.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Jt({},e.interactivity));const s=e.stroke;if(s&&(this.stroke=An(s,a=>{const r=new Ev;return r.load(a),r})),this._container){const a=this._engine.updaters.get(this._container);if(a)for(const l of a)l.loadOptions&&l.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const l of r)l.loadParticlesOptions&&l.loadParticlesOptions(this,e)}}}function lC(t,...e){for(const s of e)t.load(s)}function cC(t,e,...s){const a=new mO(t,e);return lC(a,...s),a}class pO{constructor(e,s){this._findDefaultTheme=a=>this.themes.find(r=>r.default.value&&r.default.mode===a)??this.themes.find(r=>r.default.value&&r.default.mode===Ui.any),this._importPreset=a=>{this.load(this._engine.getPreset(a))},this._engine=e,this._container=s,this.autoPlay=!0,this.background=new k_,this.backgroundMask=new j_,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new __,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new aC(e,s),this.manualParticles=[],this.particles=cC(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(de(e))return;e.preset!==void 0&&An(e.preset,c=>this._importPreset(c)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=He(e.delay));const s=e.detectRetina;s!==void 0&&(this.detectRetina=s),e.duration!==void 0&&(this.duration=He(e.duration));const a=e.fpsLimit;a!==void 0&&(this.fpsLimit=a),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;q2(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(c=>{const f=new z_;return f.load(c),f})),this.particles.load(e.particles),this.style=Jt(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const l=this._engine.interactors.get(this._container);if(l)for(const c of l)c.loadOptions&&c.loadOptions(this,e);if(e.responsive!==void 0)for(const c of e.responsive){const f=new I_;f.load(c),this.responsive.push(f)}if(this.responsive.sort((c,f)=>c.maxWidth-f.maxWidth),e.themes!==void 0)for(const c of e.themes){const f=this.themes.find(h=>h.name===c.name);if(f)f.load(c);else{const h=new F_;h.load(c),this.themes.push(h)}}this.defaultThemes.dark=this._findDefaultTheme(Ui.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Ui.light)?.name}setResponsive(e,s,a){this.load(a);const r=this.responsive.find(l=>l.mode===Ta.screen&&screen?l.maxWidth>screen.availWidth:l.maxWidth*s>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const s=this.themes.find(a=>a.name===e);s&&this.load(s.options)}else{const s=Y2("(prefers-color-scheme: dark)"),a=s?.matches,r=this._findDefaultTheme(a?Ui.dark:Ui.light);r&&this.load(r.options)}}}var no;(function(t){t.external="external",t.particles="particles"})(no||(no={}));class gO{constructor(e,s){this.container=s,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const s of this._externalInteractors)s.isEnabled()&&s.interact(e)}handleClickMode(e){for(const s of this._externalInteractors)s.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case no.external:this._externalInteractors.push(e);break;case no.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,s){for(const a of this._externalInteractors)a.clear(e,s);for(const a of this._particleInteractors)a.isEnabled(e)&&a.interact(e,s)}reset(e){for(const s of this._externalInteractors)s.isEnabled()&&s.reset(e);for(const s of this._particleInteractors)s.isEnabled(e)&&s.reset(e)}}var cs;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(cs||(cs={}));function yO(t,e,s,a){const r=e.options[t];if(r)return Jt({close:e.close,fill:e.fill},Yn(r,s,a))}function xO(t,e,s,a){const r=e.options[t];if(r)return Jt({close:e.close,fill:e.fill},Yn(r,s,a))}function Nv(t){if(!pt(t.outMode,t.checkModes))return;const e=t.radius*Xt;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class bO{constructor(e,s){this.container=s,this._calcPosition=(a,r,l,c=sv)=>{for(const C of a.plugins.values()){const E=C.particlePosition!==void 0?C.particlePosition(r,this):void 0;if(E)return Tn.create(E.x,E.y,l)}const f=a.canvas.size,h=Kj({size:f,position:r}),m=Tn.create(h.x,h.y,l),g=this.getRadius(),x=this.options.move.outModes,b=C=>{Nv({outMode:C,checkModes:[Ct.bounce],coord:m.x,maxCoord:a.canvas.size.width,setCb:E=>m.x+=E,radius:g})},v=C=>{Nv({outMode:C,checkModes:[Ct.bounce],coord:m.y,maxCoord:a.canvas.size.height,setCb:E=>m.y+=E,radius:g})};return b(x.left??x.default),b(x.right??x.default),v(x.top??x.default),v(x.bottom??x.default),this._checkOverlap(m,c)?this._calcPosition(a,void 0,l,c+jj):m},this._calculateVelocity=()=>{const a=Xj(this.direction),r=a.copy(),l=this.options.move;if(l.direction===Vt.inside||l.direction===Vt.outside)return r;const c=Ii(Ee(l.angle.value)),f=Ii(Ee(l.angle.offset)),h={left:f-c*Tt,right:f+c*Tt};return l.straight||(r.angle+=jn(He(h.left,h.right))),l.random&&typeof l.speed=="number"&&(r.length*=Ke()),r},this._checkOverlap=(a,r=sv)=>{const l=this.options.collisions,c=this.getRadius();if(!l.enable)return!1;const f=l.overlap;if(f.enable)return!1;const h=f.retries;if(h>=_j&&r>h)throw new Error(`${Xn} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>On(a,m.position)<c+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const r=this.roll.horizontal&&this.roll.vertical?Xt*dv:dv,l=this.roll.horizontal?Math.PI*Tt:Wu;return Math.floor(((this.roll.angle??Wu)+l)/(Math.PI/r))%Xt?this.backColor?this.backColor:this.roll.alter?E_(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const r=this.container,l=Ee(this.options.zIndex.value);this.position=this._calcPosition(r,a,Kn(l,Oj,r.zLayers)),this.initialPosition=this.position.copy();const c=r.canvas.size;switch(this.moveCenter={...Z2(this.options.move.center,c),radius:this.options.move.center.radius??Aj,mode:this.options.move.center.mode??Jr.percent},this.direction=Wj(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Vt.inside:this.outType=cs.inside;break;case Vt.outside:this.outType=cs.outside;break}this.offset=_t.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const s=this.container,a=this.pathGenerator;s.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const l of s.plugins.values())l.particleDestroyed?.(this,e);for(const l of s.particles.updaters)l.particleDestroyed?.(this,e);a?.reset(this),this._engine.dispatchEvent(rn.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const s=this.container,a=s.canvas;for(const r of s.plugins.values())a.drawParticlePlugin(r,this,e);a.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??vv(this.color))}getMass(){return this.getRadius()**Zs*Math.PI*Tt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??vv(this.strokeColor))}init(e,s,a,r){const l=this.container,c=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=cs.normal,this.ignoresResizeRatio=!0;const f=l.retina.pixelRatio,h=l.actualOptions,m=cC(this._engine,l,h.particles),{reduceDuplicates:g}=m,x=m.effect.type,b=m.shape.type;this.effect=Yn(x,this.id,g),this.shape=Yn(b,this.id,g);const v=m.effect,C=m.shape;if(a){if(a.effect?.type){const M=a.effect.type,_=Yn(M,this.id,g);_&&(this.effect=_,v.load(a.effect))}if(a.shape?.type){const M=a.shape.type,_=Yn(M,this.id,g);_&&(this.shape=_,C.load(a.shape))}}if(this.effect===Zr){const M=[...this.container.effectDrawers.keys()];this.effect=M[Math.floor(Ke()*M.length)]}if(this.shape===Zr){const M=[...this.container.shapeDrawers.keys()];this.shape=M[Math.floor(Ke()*M.length)]}this.effectData=yO(this.effect,v,this.id,g),this.shapeData=xO(this.shape,C,this.id,g),m.load(a);const E=this.effectData;E&&m.load(E.particles);const N=this.shapeData;N&&m.load(N.particles);const R=new aC(c,l);R.load(l.actualOptions.interactivity),R.load(m.interactivity),this.interactivity=R,this.effectFill=E?.fill??m.effect.fill,this.effectClose=E?.close??m.effect.close,this.shapeFill=N?.fill??m.shape.fill,this.shapeClose=N?.close??m.shape.close,this.options=m;const D=this.options.move.path;this.pathDelay=Ee(D.delay.value)*Wt,D.generator&&(this.pathGenerator=this._engine.getPathGenerator(D.generator),this.pathGenerator&&l.addPath(D.generator,this.pathGenerator)&&this.pathGenerator.init(l)),l.retina.initParticle(this),this.size=K2(this.options.size,f),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(s),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=F2-Ee(this.options.move.decay);const j=l.particles;j.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/l.zLayers,this.sides=24;let O=l.effectDrawers.get(this.effect);O||(O=this._engine.getEffectDrawer(this.effect),O&&l.effectDrawers.set(this.effect,O)),O?.loadEffect&&O.loadEffect(this);let k=l.shapeDrawers.get(this.shape);k||(k=this._engine.getShapeDrawer(this.shape),k&&l.shapeDrawers.set(this.shape,k)),k?.loadShape&&k.loadShape(this);const V=k?.getSidesCount;V&&(this.sides=V(this)),this.spawning=!1,this.shadowColor=ls(this._engine,this.options.shadow.color);for(const M of j.updaters)M.init(this);for(const M of j.movers)M.init?.(this);O?.particleInit?.(l,this),k?.particleInit?.(l,this);for(const M of l.plugins.values())M.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),s=this.container.canvas.size,a=this.position;return a.x>=-e&&a.y>=-e&&a.y<=s.height+e&&a.x<=s.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class vO{constructor(e,s){this.position=e,this.particle=s}}var Qr;(function(t){t.circle="circle",t.rectangle="rectangle"})(Qr||(Qr={}));class uC{constructor(e,s,a){this.position={x:e,y:s},this.type=a}}class Zt extends uC{constructor(e,s,a){super(e,s,Qr.circle),this.radius=a}contains(e){return On(e,this.position)<=this.radius}intersects(e){const s=this.position,a=e.position,r={x:Math.abs(a.x-s.x),y:Math.abs(a.y-s.y)},l=this.radius;if(e instanceof Zt||e.type===Qr.circle){const c=e,f=l+c.radius,h=Math.sqrt(r.x**Zs+r.y**Zs);return f>h}else if(e instanceof hs||e.type===Qr.rectangle){const c=e,{width:f,height:h}=c.size;return Math.pow(r.x-f,Zs)+Math.pow(r.y-h,Zs)<=l**Zs||r.x<=l+f&&r.y<=l+h||r.x<=f||r.y<=h}return!1}}class hs extends uC{constructor(e,s,a,r){super(e,s,Qr.rectangle),this.size={height:r,width:a}}contains(e){const s=this.size.width,a=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+s&&e.y>=r.y&&e.y<=r.y+a}intersects(e){if(e instanceof Zt)return e.intersects(this);const s=this.size.width,a=this.size.height,r=this.position,l=e.position,c=e instanceof hs?e.size:{width:0,height:0},f=c.width,h=c.height;return l.x<r.x+s&&l.x+f>r.x&&l.y<r.y+a&&l.y+h>r.y}}class Ku{constructor(e,s){this.rectangle=e,this.capacity=s,this._subdivide=()=>{const{x:a,y:r}=this.rectangle.position,{width:l,height:c}=this.rectangle.size,{capacity:f}=this;for(let h=0;h<pj;h++){const m=h%Xt;this._subs.push(new Ku(new hs(a+l*Tt*m,r+c*Tt*(Math.round(h*Tt)-m),l*Tt,c*Tt),f))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(s=>s.insert(e))):!1}query(e,s){const a=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&On(e.position,r.position)>r.particle.getRadius()&&(!s||s(r.particle))||a.push(r.particle);if(this._divided)for(const r of this._subs)a.push(...r.query(e,s));return a}queryCircle(e,s,a){return this.query(new Zt(e.x,e.y,s),a)}queryRectangle(e,s,a){return this.query(new hs(e.x,e.y,s.width,s.height),a)}}const Rv=t=>{const{height:e,width:s}=t;return new hs(fv*s,fv*e,hv*s,hv*e)};class SO{constructor(e,s){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,l,c,f)=>{const h=r.number;if(!r.number.density?.enable){c===void 0?this._limit=h.limit.value:(f?.number.limit?.value??h.limit.value)&&this._groupLimits.set(c,f?.number.limit?.value??h.limit.value);return}const m=this._initDensityFactor(h.density),g=h.value,x=h.limit.value>mv?h.limit.value:g,b=Math.min(g,x)*m+l,v=Math.min(this.count,this.filter(C=>C.group===c).length);c===void 0?this._limit=h.limit.value*m:this._groupLimits.set(c,h.limit.value*m),v<b?this.push(Math.abs(b-v),void 0,r,c):v>b&&this.removeQuantity(v-b,c)},this._initDensityFactor=r=>{const l=this._container;if(!l.canvas.element||!r.enable)return Uj;const c=l.canvas.element,f=l.retina.pixelRatio;return c.width*c.height/(r.height*r.width*f**Zs)},this._pushParticle=(r,l,c,f)=>{try{let h=this._pool.pop();h||(h=new bO(this._engine,this._container)),h.init(this._nextId,r,l,c);let m=!0;return f&&(m=f(h)),m?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent(rn.particleAdded,{container:this._container,data:{particle:h}}),h):void 0}catch(h){Pa().warning(`${Xn} adding particle: ${h}`)}},this._removeParticle=(r,l,c)=>{const f=this._array[r];if(!f||f.group!==l)return!1;const h=this._zArray.indexOf(f);return this._array.splice(r,Xu),this._zArray.splice(h,Xu),f.destroy(c),this._engine.dispatchEvent(rn.particleRemoved,{container:this._container,data:{particle:f}}),this._addToPool(f),!0},this._engine=e,this._container=s,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new gO(e,s),this._pluginsInitialized=!1;const a=s.canvas.size;this.quadTree=new Ku(Rv(a),iv),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(a=>this.addParticle(a.position?Z2(a.position,e.canvas.size):void 0,a.options))}addParticle(e,s,a,r){const l=this._container.actualOptions.particles.number.limit.mode,c=a===void 0?this._limit:this._groupLimits.get(a)??this._limit,f=this.count;if(c>mv)switch(l){case jl.delete:{const h=f+Mj-c;h>Lj&&this.removeQuantity(h);break}case jl.wait:if(f>=c)return;break}return this._pushParticle(e,s,a,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const s=this._container,a=s.canvas;a.clear(),this.update(e);for(const r of s.plugins.values())a.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,s=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let a=!1;for(const r of e.plugins.values())if(a=r.particlesInitialization?.()??a,a)break;if(this.addManualParticles(),!a){const r=s.particles,l=r.groups;for(const c in l){const f=l[c];for(let h=this.count,m=0;m<f.number?.value&&h<r.number.value;h++,m++)this.addParticle(void 0,f,c)}for(let c=this.count;c<r.number.value;c++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const s of e.pathGenerators.values())s.init(e)}push(e,s,a,r){for(let l=0;l<e;l++)this.addParticle(s?.position,a,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,s,a){this.removeAt(this._array.indexOf(e),void 0,s,a)}removeAt(e,s=mj,a,r){if(e<Qm||e>this.count)return;let l=0;for(let c=e;l<s&&c<this.count;c++)this._removeParticle(c,a,r)&&(c--,l++)}removeQuantity(e,s){this.removeAt(Qm,e,s)}setDensity(){const e=this._container.actualOptions,s=e.particles.groups,a=e.manualParticles.length;for(const r in s)this._applyDensity(s[r],a,r);this._applyDensity(e.particles,a)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const s=this._container,a=new Set;this.quadTree=new Ku(Rv(s.canvas.size),iv);for(const l of s.pathGenerators.values())l.update();for(const l of s.plugins.values())l.update?.(e);const r=this._resizeFactor;for(const l of this._array){r&&!l.ignoresResizeRatio&&(l.position.x*=r.width,l.position.y*=r.height,l.initialPosition.x*=r.width,l.initialPosition.y*=r.height),l.ignoresResizeRatio=!1,this._interactionManager.reset(l);for(const c of this._container.plugins.values()){if(l.destroyed)break;c.particleUpdate?.(l,e)}for(const c of this.movers)c.isEnabled(l)&&c.move(l,e);if(l.destroyed){a.add(l);continue}this.quadTree.insert(new vO(l.getPosition(),l))}if(a.size){const l=c=>!a.has(c);this._array=this.filter(l),this._zArray=this._zArray.filter(l);for(const c of a)this._engine.dispatchEvent(rn.particleRemoved,{container:this._container,data:{particle:c}});this._addToPool(...a)}this._interactionManager.externalInteract(e);for(const l of this._array){for(const c of this.updaters)c.update(l,e);!l.destroyed&&!l.spawning&&this._interactionManager.particlesInteract(l,e)}if(delete this._resizeFactor,this._needsSort){const l=this._zArray;l.sort((c,f)=>f.position.z-c.position.z||c.id-f.id),this._lastZIndex=l[l.length-V2].position.z,this._needsSort=!1}}}class CO{constructor(e){this.container=e,this.pixelRatio=av,this.reduceFactor=rv}init(){const e=this.container,s=e.actualOptions;this.pixelRatio=!s.detectRetina||za()?av:devicePixelRatio,this.reduceFactor=rv;const a=this.pixelRatio,r=e.canvas;if(r.element){const f=r.element;r.size.width=f.offsetWidth*a,r.size.height=f.offsetHeight*a}const l=s.particles,c=l.move;this.maxSpeed=Ee(c.gravity.maxSpeed)*a,this.sizeAnimationSpeed=Ee(l.size.animation.speed)*a}initParticle(e){const s=e.options,a=this.pixelRatio,r=s.move,l=r.distance,c=e.retina;c.moveDrift=Ee(r.drift)*a,c.moveSpeed=Ee(r.speed)*a,c.sizeAnimationSpeed=Ee(s.size.animation.speed)*a;const f=c.maxDistance;f.horizontal=l.horizontal!==void 0?l.horizontal*a:void 0,f.vertical=l.vertical!==void 0?l.vertical*a:void 0,c.maxSpeed=Ee(r.gravity.maxSpeed)*a}}function dt(t){return t&&!t.destroyed}function wO(t,e=tm,s=!1){return{value:t,factor:s?tm/e:tm*t/Wt}}function _r(t,e,...s){const a=new pO(t,e);return lC(a,...s),a}class EO{constructor(e,s,a){this._intersectionManager=r=>{if(!(!dt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const l of r)l.target===this.interactivity.element&&(l.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+Wt/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const l=wO(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(l.value),this._lastFrameTime=r,l.value>Wt){this.draw(!1);return}if(this.particles.draw(l),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(l){Pa().error(`${Xn} in animation loop`,l)}},this._engine=e,this.id=Symbol(s),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=a,this._initialSourceOptions=a,this.retina=new CO(this),this.canvas=new R_(this,this._engine),this.particles=new SO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=_r(this._engine,this),this.actualOptions=_r(this._engine,this),this._eventListeners=new T_(this),this._intersectionObserver=n_(r=>this._intersectionManager(r)),this._engine.dispatchEvent(rn.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&dt(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!dt(this))return;const s=this.interactivity.element;if(!s)return;const a=(x,b,v)=>{if(!dt(this))return;const C=this.retina.pixelRatio,E={x:b.x*C,y:b.y*C},N=this.particles.quadTree.queryCircle(E,v*C);e(x,N)},r=x=>{if(!dt(this))return;const b=x,v={x:b.offsetX||b.clientX,y:b.offsetY||b.clientY};a(x,v,Cj)},l=()=>{dt(this)&&(m=!0,g=!1)},c=()=>{dt(this)&&(g=!0)},f=x=>{if(dt(this)){if(m&&!g){const b=x;let v=b.touches[b.touches.length-uv];if(!v&&(v=b.changedTouches[b.changedTouches.length-uv],!v))return;const C=this.canvas.element,E=C?C.getBoundingClientRect():void 0,N={x:v.clientX-(E?E.left:Qu),y:v.clientY-(E?E.top:Qu)};a(x,N,Math.max(v.radiusX,v.radiusY))}m=!1,g=!1}},h=()=>{dt(this)&&(m=!1,g=!1)};let m=!1,g=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",l),this._clickHandlers.set("touchmove",c),this._clickHandlers.set("touchend",f),this._clickHandlers.set("touchcancel",h);for(const[x,b]of this._clickHandlers)s.addEventListener(x,b)}addLifeTime(e){this._lifeTime+=e}addPath(e,s,a=!1){return!dt(this)||!a&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,s),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(dt(this)){for(const[e,s]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,s);this._clickHandlers.clear()}}destroy(e=!0){if(dt(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const s of this.effectDrawers.values())s.destroy?.(this);for(const s of this.shapeDrawers.values())s.destroy?.(this);for(const s of this.effectDrawers.keys())this.effectDrawers.delete(s);for(const s of this.shapeDrawers.keys())this.shapeDrawers.delete(s);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const s=this._engine.items,a=s.findIndex(r=>r===this);a>=wj&&s.splice(a,B2)}this._engine.dispatchEvent(rn.containerDestroyed,{container:this})}}draw(e){if(!dt(this))return;let s=e;const a=r=>{s&&(this._lastFrameTime=void 0,s=!1),this._nextFrame(r)};this._drawAnimationFrame=Yj(r=>a(r))}async export(e,s={}){for(const a of this.plugins.values()){if(!a.export)continue;const r=await a.export(e,s);if(r.supported)return r.blob}Pa().error(`${Xn} - Export plugin with type ${e} not found`)}handleClickMode(e){if(dt(this)){this.particles.handleClickMode(e);for(const s of this.plugins.values())s.handleClickMode?.(e)}}async init(){if(!dt(this))return;const e=this._engine.getSupportedEffects();for(const m of e){const g=this._engine.getEffectDrawer(m);g&&this.effectDrawers.set(m,g)}const s=this._engine.getSupportedShapes();for(const m of s){const g=this._engine.getShapeDrawer(m);g&&this.shapeDrawers.set(m,g)}await this.particles.initPlugins(),this._options=_r(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=_r(this._engine,this,this._options);const a=await this._engine.getAvailablePlugins(this);for(const[m,g]of a)this.plugins.set(m,g);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:l,delay:c,fpsLimit:f,smooth:h}=this.actualOptions;this.zLayers=r,this._duration=Ee(l)*Wt,this._delay=Ee(c)*Wt,this._lifeTime=0,this.fpsLimit=f>Nj?f:Ej,this._smooth=h;for(const m of this.effectDrawers.values())await m.init?.(this);for(const m of this.shapeDrawers.values())await m.init?.(this);for(const m of this.plugins.values())await m.init?.();this._engine.dispatchEvent(rn.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const m of this.plugins.values())m.particlesSetup?.();this._engine.dispatchEvent(rn.particlesSetup,{container:this})}async loadTheme(e){dt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(dt(this)&&(this._drawAnimationFrame!==void 0&&(Qj(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(rn.containerPaused,{container:this})}}play(e){if(!dt(this))return;const s=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),s)for(const a of this.plugins.values())a.play&&a.play();this._engine.dispatchEvent(rn.containerPlay,{container:this}),this.draw(s??!1)}async refresh(){if(dt(this))return this.stop(),this.start()}async reset(e){if(dt(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=_r(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=_r(this._engine,this,this._options),this.refresh()}async start(){!dt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const s=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const a of this.plugins.values())await a.start?.();this._engine.dispatchEvent(rn.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void s(),this._delay)}))}stop(){if(!(!dt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(rn.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class NO{constructor(){this._listeners=new Map}addEventListener(e,s){this.removeEventListener(e,s);let a=this._listeners.get(e);a||(a=[],this._listeners.set(e,a)),a.push(s)}dispatchEvent(e,s){this._listeners.get(e)?.forEach(r=>r(s))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,s){const a=this._listeners.get(e);if(!a)return;const r=a.length,l=a.indexOf(s);l<Qm||(r===Xu?this._listeners.delete(e):a.splice(l,Xu))}}async function um(t,e,s,a=!1){let r=e.get(t);return(!r||a)&&(r=await Promise.all([...s.values()].map(l=>l(t))),e.set(t,r)),r}async function RO(t){const e=Yn(t.url,t.index);if(!e)return t.fallback;const s=await fetch(e);return s.ok?await s.json():(Pa().error(`${Xn} ${s.status} while retrieving config file`),t.fallback)}const TO=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===nm)e=t,e.dataset[Ea]||(e.dataset[Ea]=nv);else{const a=t.getElementsByTagName(nm);a.length?(e=a[Rj],e.dataset[Ea]=nv):(e=document.createElement(nm),e.dataset[Ea]=z2,t.appendChild(e))}const s="100%";return e.style.width||(e.style.width=s),e.style.height||(e.style.height=s),e},kO=(t,e)=>{let s=e??document.getElementById(t);return s||(s=document.createElement("div"),s.id=t,s.dataset[Ea]=z2,document.body.append(s),s)};class DO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new NO,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[s,a]of this._configs)e[s]=a;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,s=!0){this.colorManagers.set(e.key,e),await this.refresh(s)}addConfig(e){const s=e.key??e.name??"default";this._configs.set(s,e),this._eventDispatcher.dispatchEvent(rn.configAdded,{data:{name:s,config:e}})}async addEasing(e,s,a=!0){this.getEasing(e)||(this.easingFunctions.set(e,s),await this.refresh(a))}async addEffect(e,s,a=!0){An(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,s)}),await this.refresh(a)}addEventListener(e,s){this._eventDispatcher.addEventListener(e,s)}async addInteractor(e,s,a=!0){this._initializers.interactors.set(e,s),await this.refresh(a)}async addMover(e,s,a=!0){this._initializers.movers.set(e,s),await this.refresh(a)}async addParticleUpdater(e,s,a=!0){this._initializers.updaters.set(e,s),await this.refresh(a)}async addPathGenerator(e,s,a=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,s),await this.refresh(a)}async addPlugin(e,s=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(s)}async addPreset(e,s,a=!1,r=!0){(a||!this.getPreset(e))&&this.presets.set(e,s),await this.refresh(r)}async addShape(e,s=!0){for(const a of e.validTypes)this.getShapeDrawer(a)||this.shapeDrawers.set(a,e);await this.refresh(s)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,s){this._eventDispatcher.dispatchEvent(e,s)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const s=new Map;for(const a of this.plugins)a.needsPlugin(e.actualOptions)&&s.set(a.id,await a.getPlugin(e));return s}getEasing(e){return this.easingFunctions.get(e)??(s=>s)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,s=!1){return um(e,this.interactors,this._initializers.interactors,s)}async getMovers(e,s=!1){return um(e,this.movers,this._initializers.movers,s)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(s=>s.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,s=!1){return um(e,this.updaters,this._initializers.updaters,s)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:s}=this,a=s[e];if(!a||a.destroyed){s.splice(e,B2);return}return a}async load(e){const s=e.id??e.element?.id??`tsparticles${Math.floor(Ke()*Tj)}`,{index:a,url:r}=e,l=r?await RO({fallback:e.options,url:r,index:a}):e.options,c=Yn(l,a),{items:f}=this,h=f.findIndex(b=>b.id.description===s),m=new EO(this,s,c);if(h>=kj){const b=this.item(h),v=b?Dj:Wu;b&&!b.destroyed&&b.destroy(!1),f.splice(h,v,m)}else f.push(m);const g=kO(s,e.element),x=TO(g);return m.canvas.loadCanvas(x),await m.start(),m}loadOptions(e,s){this.plugins.forEach(a=>a.loadOptions?.(e,s))}loadParticlesOptions(e,s,...a){const r=this.updaters.get(e);r&&r.forEach(l=>l.loadOptions?.(s,...a))}async refresh(e=!0){e&&await Promise.all(this.items.map(s=>s.refresh()))}removeEventListener(e,s){this._eventDispatcher.removeEventListener(e,s)}setOnClickHandler(e){const{items:s}=this;if(!s.length)throw new Error(`${Xn} can only set click handlers after calling tsParticles.load()`);s.forEach(a=>a.addClickHandler(e))}}function jO(){const t=new DO;return t.init(),t}class js{constructor(e){this.type=no.external,this.container=e}}class Zp{constructor(e){this.type=no.particles,this.container=e}}var rs;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(rs||(rs={}));var Tv;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(Tv||(Tv={}));var ja;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(ja||(ja={}));const Jp=jO();za()||(window.tsParticles=Jp);const _O=t=>{const e=t.id??"tsparticles";return w.useEffect(()=>{let s;return Jp.load({id:e,url:t.url,options:t.options}).then(a=>{var r;s=a,(r=t.particlesLoaded)==null||r.call(t,a)}),()=>{s?.destroy()}},[e,t,t.url,t.options]),u.jsx("div",{id:e,className:t.className})};async function OO(t){await t(Jp)}const Jm=.5,AO=2,zi=0,os=1,kv=60,Dv=0,MO=.01,LO=Math.PI*AO;function UO(t){const e=t.initialPosition,{dx:s,dy:a}=ln(e,t.position),r=Math.abs(s),l=Math.abs(a),{maxDistance:c}=t.retina,f=c.horizontal,h=c.vertical;if(!f&&!h)return;const m=(f&&r>=f)??!1,g=(h&&l>=h)??!1;if((m||g)&&!t.misplaced)t.misplaced=!!f&&r>f||!!h&&l>h,f&&(t.velocity.x=t.velocity.y*Jm-t.velocity.x),h&&(t.velocity.y=t.velocity.x*Jm-t.velocity.y);else if((!f||r<f)&&(!h||l<h)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const x=t.position,b=t.velocity;f&&(x.x<e.x&&b.x<zi||x.x>e.x&&b.x>zi)&&(b.x*=-Ke()),h&&(x.y<e.y&&b.y<zi||x.y>e.y&&b.y>zi)&&(b.y*=-Ke())}}function PO(t,e,s,a,r,l,c){IO(t,c);const f=t.gravity,h=f?.enable&&f.inverse?-os:os;r&&s&&(t.velocity.x+=r*c.factor/(kv*s)),f?.enable&&s&&(t.velocity.y+=h*(f.acceleration*c.factor)/(kv*s));const m=t.moveDecay;t.velocity.multTo(m);const g=t.velocity.mult(s);f?.enable&&a>zi&&(!f.inverse&&g.y>=zi&&g.y>=a||f.inverse&&g.y<=zi&&g.y<=-a)&&(g.y=h*a,s&&(t.velocity.y=g.y/s));const x=t.options.zIndex,b=(os-t.zIndexFactor)**x.velocityRate;g.multTo(b),g.multTo(l);const{position:v}=t;v.addTo(g),e.vibrate&&(v.x+=Math.sin(v.x*Math.cos(v.y))*l,v.y+=Math.cos(v.y*Math.sin(v.x))*l)}function zO(t,e,s){const a=t.container;if(!t.spin)return;const r=t.spin.direction===rs.clockwise,l={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*l.x(t.spin.angle)*s,t.position.y=t.spin.center.y+t.spin.radius*l.y(t.spin.angle)*s,t.spin.radius+=t.spin.acceleration*s;const c=Math.max(a.canvas.size.width,a.canvas.size.height),f=c*Jm;t.spin.radius>f?(t.spin.radius=f,t.spin.acceleration*=-os):t.spin.radius<Dv&&(t.spin.radius=Dv,t.spin.acceleration*=-os),t.spin.angle+=e*MO*(os-t.spin.radius/c)}function IO(t,e){const s=t.options,a=s.move.path;if(!a.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const l=t.pathGenerator?.generate(t,e);l&&t.velocity.addTo(l),a.clamp&&(t.velocity.x=Kn(t.velocity.x,-os,os),t.velocity.y=Kn(t.velocity.y,-os,os)),t.lastPathTime-=t.pathDelay}function BO(t){return t.slow.inRange?t.slow.factor:os}function FO(t){const e=t.container,s=t.options,a=s.move.spin;if(!a.enable)return;const r=a.position??{x:50,y:50},l=.01,c={x:r.x*l*e.canvas.size.width,y:r.y*l*e.canvas.size.height},f=t.getPosition(),h=On(f,c),m=Ee(a.acceleration);t.retina.spinAcceleration=m*e.retina.pixelRatio,t.spin={center:c,direction:t.velocity.x>=zi?rs.clockwise:rs.counterClockwise,angle:Ke()*LO,radius:h,acceleration:t.retina.spinAcceleration}}const VO=2,HO=1,qO=1;class GO{init(e){const s=e.options,a=s.move.gravity;e.gravity={enable:a.enable,acceleration:Ee(a.acceleration),inverse:a.inverse},FO(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,s){const a=e.options,r=a.move;if(!r.enable)return;const l=e.container,c=l.retina.pixelRatio;e.retina.moveSpeed??=Ee(r.speed)*c,e.retina.moveDrift??=Ee(e.options.move.drift)*c;const f=BO(e),h=l.retina.reduceFactor,m=e.retina.moveSpeed,g=e.retina.moveDrift,x=ws(a.size.value)*c,b=r.size?e.getRadius()/x:HO,v=s.factor||qO,C=m*b*f*v/VO,E=e.retina.maxSpeed??l.retina.maxSpeed;r.spin.enable?zO(e,C,h):PO(e,r,C,E,g,h,s),UO(e)}}async function $O(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new GO),e)}const YO=2,QO=Math.PI*YO,WO=0,jv={x:0,y:0};function XO(t){const{context:e,particle:s,radius:a}=t;s.circleRange||(s.circleRange={min:WO,max:QO});const r=s.circleRange;e.arc(jv.x,jv.y,a,r.min,r.max,!1)}const KO=12,ZO=360,_v=0;class JO{constructor(){this.validTypes=["circle"]}draw(e){XO(e)}getSidesCount(){return KO}particleInit(e,s){const a=s.shapeData,r=a?.angle??{max:ZO,min:_v};s.circleRange=Ur(r)?{min:Ii(r.min),max:Ii(r.max)}:{min:_v,max:Ii(r)}}}async function e4(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new JO,e)}class t4{constructor(e,s){this._container=e,this._engine=s}init(e){const s=Tl(this._engine,e.options.color,e.id,e.options.reduceDuplicates);s&&(e.color=sC(s,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:s,s:a,l:r}=e.options.color.animation,{color:l}=e;return!e.destroyed&&!e.spawning&&(l?.h.value!==void 0&&s.enable||l?.s.value!==void 0&&a.enable||l?.l.value!==void 0&&r.enable)}update(e,s){iC(e.color,s)}}async function n4(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",s=>Promise.resolve(new t4(s,t)),e)}var wa;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(wa||(wa={}));const s4=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,i4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,pu=16,a4=1,r4=255;class o4{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const s=e.replace(s4,(r,l,c,f,h)=>l+l+c+c+f+f+(h!==void 0?h+h:"")),a=i4.exec(s);return a?{a:a[wa.a]!==void 0?parseInt(a[wa.a],pu)/r4:a4,b:parseInt(a[wa.b],pu),g:parseInt(a[wa.g],pu),r:parseInt(a[wa.r],pu)}:void 0}}async function l4(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new o4,e)}var Pr;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Pr||(Pr={}));class c4{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const s=e.value,a=s.hsl??e.value;if(a.h!==void 0&&a.s!==void 0&&a.l!==void 0)return eo(a)}handleRangeColor(e){const s=e.value,a=s.hsl??e.value;if(a.h!==void 0&&a.l!==void 0)return eo({h:Ee(a.h),l:Ee(a.l),s:Ee(a.s)})}parseString(e){if(!e.startsWith("hsl"))return;const s=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,a=s.exec(e),r=4,l=1,c=10;return a?p_({a:a.length>r?$2(a[Pr.a]):l,h:parseInt(a[Pr.h],c),l:parseInt(a[Pr.l],c),s:parseInt(a[Pr.s],c)}):void 0}}async function u4(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new c4,e)}class d4{constructor(e){this.container=e}init(e){const s=e.options.opacity,a=1;e.opacity=K2(s,a);const r=s.animation;r.enable&&(e.opacity.velocity=Ee(r.speed)/Pi*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,s){!this.isEnabled(e)||!e.opacity||Qp(e,e.opacity,!0,e.options.opacity.animation.destroy,s)}}async function f4(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",s=>Promise.resolve(new d4(s)),e)}const Zu=0,Wr=0;function h4(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Ie.left&&t.direction!==Ie.right)return;t.bounds.right<Wr&&t.direction===Ie.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Ie.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let s=!1;if(t.direction===Ie.right&&t.bounds.right>=t.canvasSize.width&&e>Zu||t.direction===Ie.left&&t.bounds.left<=Wr&&e<Zu){const r=Ee(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,s=!0}if(!s)return;const a=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Ie.right?t.particle.position.x=t.canvasSize.width-a:t.bounds.left<=Wr&&t.direction===Ie.left&&(t.particle.position.x=a),t.outMode===Ct.split&&t.particle.destroy()}function m4(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Ie.bottom&&t.direction!==Ie.top)return;t.bounds.bottom<Wr&&t.direction===Ie.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Ie.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let s=!1;if(t.direction===Ie.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Zu||t.direction===Ie.top&&t.bounds.top<=Wr&&e<Zu){const r=Ee(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,s=!0}if(!s)return;const a=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Ie.bottom?t.particle.position.y=t.canvasSize.height-a:t.bounds.top<=Wr&&t.direction===Ie.top&&(t.particle.position.y=a),t.outMode===Ct.split&&t.particle.destroy()}class p4{constructor(e){this.container=e,this.modes=[Ct.bounce,Ct.split]}update(e,s,a,r){if(!this.modes.includes(r))return;const l=this.container;let c=!1;for(const b of l.plugins.values())if(b.particleBounce!==void 0&&(c=b.particleBounce(e,a,s)),c)break;if(c)return;const f=e.getPosition(),h=e.offset,m=e.getRadius(),g=Bl(f,m),x=l.canvas.size;h4({particle:e,outMode:r,direction:s,bounds:g,canvasSize:x,offset:h,size:m}),m4({particle:e,outMode:r,direction:s,bounds:g,canvasSize:x,offset:h,size:m})}}const gu=0;class g4{constructor(e){this.container=e,this.modes=[Ct.destroy]}update(e,s,a,r){if(!this.modes.includes(r))return;const l=this.container;switch(e.outType){case cs.normal:case cs.outside:if(Gp(e.position,l.canvas.size,_t.origin,e.getRadius(),s))return;break;case cs.inside:{const{dx:c,dy:f}=ln(e.position,e.moveCenter),{x:h,y:m}=e.velocity;if(h<gu&&c>e.moveCenter.radius||m<gu&&f>e.moveCenter.radius||h>=gu&&c<-e.moveCenter.radius||m>=gu&&f<-e.moveCenter.radius)return;break}}l.particles.remove(e,e.group,!0)}}const yu=0;class y4{constructor(e){this.container=e,this.modes=[Ct.none]}update(e,s,a,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(s===Ie.left||s===Ie.right))??(e.options.move.distance.vertical&&(s===Ie.top||s===Ie.bottom))))return;const l=e.options.move.gravity,c=this.container,f=c.canvas.size,h=e.getRadius();if(l.enable){const m=e.position;(!l.inverse&&m.y>f.height+h&&s===Ie.bottom||l.inverse&&m.y<-h&&s===Ie.top)&&c.particles.remove(e)}else{if(e.velocity.y>yu&&e.position.y<=f.height+h||e.velocity.y<yu&&e.position.y>=-h||e.velocity.x>yu&&e.position.x<=f.width+h||e.velocity.x<yu&&e.position.x>=-h)return;Gp(e.position,c.canvas.size,_t.origin,h,s)||c.particles.remove(e)}}}const xu=0,bu=0;class x4{constructor(e){this.container=e,this.modes=[Ct.out]}update(e,s,a,r){if(!this.modes.includes(r))return;const l=this.container;switch(e.outType){case cs.inside:{const{x:c,y:f}=e.velocity,h=_t.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo(_t.create(e.moveCenter));const{dx:m,dy:g}=ln(e.position,h);if(c<=xu&&m>=bu||f<=xu&&g>=bu||c>=xu&&m<=bu||f>=xu&&g<=bu)return;e.position.x=Math.floor(jn({min:0,max:l.canvas.size.width})),e.position.y=Math.floor(jn({min:0,max:l.canvas.size.height}));const{dx:x,dy:b}=ln(e.position,e.moveCenter);e.direction=Math.atan2(-b,-x),e.velocity.angle=e.direction;break}default:{if(Gp(e.position,l.canvas.size,_t.origin,e.getRadius(),s))return;switch(e.outType){case cs.outside:{e.position.x=Math.floor(jn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(jn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:c,dy:f}=ln(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(f,c),e.velocity.angle=e.direction);break}case cs.normal:{const c=e.options.move.warp,f=l.canvas.size,h={bottom:f.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:f.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},m=e.getRadius(),g=Bl(e.position,m);s===Ie.right&&g.left>f.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,c||(e.position.y=Ke()*f.height,e.initialPosition.y=e.position.y)):s===Ie.left&&g.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,c||(e.position.y=Ke()*f.height,e.initialPosition.y=e.position.y)),s===Ie.bottom&&g.top>f.height+e.offset.y?(c||(e.position.x=Ke()*f.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):s===Ie.top&&g.bottom<-e.offset.y&&(c||(e.position.x=Ke()*f.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const b4=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class v4{constructor(e){this._addUpdaterIfMissing=(s,a,r)=>{const l=s.options.move.outModes;!this.updaters.has(a)&&b4(l,a)&&this.updaters.set(a,r(this.container))},this._updateOutMode=(s,a,r,l)=>{for(const c of this.updaters.values())c.update(s,l,a,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ct.bounce,s=>new p4(s)),this._addUpdaterIfMissing(e,Ct.out,s=>new x4(s)),this._addUpdaterIfMissing(e,Ct.destroy,s=>new g4(s)),this._addUpdaterIfMissing(e,Ct.none,s=>new y4(s))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,s){const a=e.options.move.outModes;this._updateOutMode(e,s,a.bottom??a.default,Ie.bottom),this._updateOutMode(e,s,a.left??a.default,Ie.left),this._updateOutMode(e,s,a.right??a.default,Ie.right),this._updateOutMode(e,s,a.top??a.default,Ie.top)}}async function S4(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",s=>Promise.resolve(new v4(s)),e)}var zr;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(zr||(zr={}));class C4{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const s=e.value,a=s.rgb??e.value;if(a.r!==void 0)return a}handleRangeColor(e){const s=e.value,a=s.rgb??e.value;if(a.r!==void 0)return{r:Ee(a.r),g:Ee(a.g),b:Ee(a.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const s=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,a=s.exec(e),r=10;return a?{a:a.length>4?$2(a[zr.a]):1,b:parseInt(a[zr.b],r),g:parseInt(a[zr.g],r),r:parseInt(a[zr.r],r)}:void 0}}async function w4(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new C4,e)}const ga=0;class E4{init(e){const s=e.container,a=e.options.size,r=a.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??s.retina.sizeAnimationSpeed)/Pi*s.retina.reduceFactor,r.sync||(e.size.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??ga)<=ga||(e.size.maxLoops??ga)>ga&&(e.size.loops??ga)<(e.size.maxLoops??ga))}reset(e){e.size.loops=ga}update(e,s){this.isEnabled(e)&&Qp(e,e.size,!0,e.options.size.animation.destroy,s)}}async function N4(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new E4),e)}async function R4(t,e=!0){t.checkVersion("3.9.1"),await l4(t,!1),await u4(t,!1),await w4(t,!1),await $O(t,!1),await e4(t,!1),await n4(t,!1),await f4(t,!1),await S4(t,!1),await N4(t,!1),await t.refresh(e)}async function T4(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(ja.easeInQuad,s=>s**2,!1),await t.addEasing(ja.easeOutQuad,s=>1-(1-s)**2,!1),await t.addEasing(ja.easeInOutQuad,s=>s<.5?2*s**2:1-(-2*s+2)**2/2,!1),await t.refresh(e)}function k4(t,e){const{context:s,opacity:a}=t,r=.5,l=s.globalAlpha;if(!e)return;const c=e.width,f=c*r;s.globalAlpha=a,s.drawImage(e,-f,-f,c,c),s.globalAlpha=l}const dm='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',Ov=0;class D4{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,s]of this._emojiShapeDict)s instanceof ImageBitmap&&s?.close(),this._emojiShapeDict.delete(e)}draw(e){const s=e.particle.emojiDataKey;if(!s)return;const a=this._emojiShapeDict.get(s);a&&k4(e,a)}async init(e){const s=e.actualOptions,{validTypes:a}=this;if(!a.find(c=>pt(c,s.particles.shape.type)))return;const r=[bv(dm)],l=a.map(c=>s.particles.shape.options[c]).find(c=>!!c);l&&An(l,c=>{c.font&&r.push(bv(c.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,s){const r=s.shapeData;if(!r?.value)return;const l=Yn(r.value,s.randomIndexData);if(!l)return;const c=typeof l=="string"?{font:r.font??dm,padding:r.padding??Ov,value:l}:{font:dm,padding:Ov,...r,...l},f=c.font,h=c.value,m=`${h}_${f}`;if(this._emojiShapeDict.has(m)){s.emojiDataKey=m;return}const g=c.padding*2,x=ws(s.size.value),b=x+g,v=b*2;let C;if(typeof OffscreenCanvas<"u"){const E=new OffscreenCanvas(v,v),N=E.getContext("2d");if(!N)return;N.font=`400 ${x*2}px ${f}`,N.textBaseline="middle",N.textAlign="center",N.fillText(h,b,b),C=E.transferToImageBitmap()}else{const E=document.createElement("canvas");E.width=v,E.height=v;const N=E.getContext("2d");if(!N)return;N.font=`400 ${x*2}px ${f}`,N.textBaseline="middle",N.textAlign="center",N.fillText(h,b,b),C=E}this._emojiShapeDict.set(m,C),s.emojiDataKey=m}}async function j4(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new D4,e)}const _4=1,O4=1,dC=0;function fC(t,e,s,a,r,l){const c=e.actualOptions.interactivity.modes.attract;if(!c)return;const f=e.particles.quadTree.query(r,l);for(const h of f){const{dx:m,dy:g,distance:x}=ln(h.position,s),b=c.speed*c.factor,v=Kn(t.getEasing(c.easing)(O4-x/a)*b,_4,c.maxSpeed),C=_t.create(x?m/x*v:b,x?g/x*v:b);h.position.subFrom(C)}}function A4(t,e,s){e.attract||(e.attract={particles:[]});const{attract:a}=e;if(a.finish||(a.count||(a.count=0),a.count++,a.count===e.particles.count&&(a.finish=!0)),a.clicking){const r=e.interactivity.mouse.clickPosition,l=e.retina.attractModeDistance;if(!l||l<dC||!r)return;fC(t,e,r,l,new Zt(r.x,r.y,l),c=>s(c))}else a.clicking===!1&&(a.particles=[])}function M4(t,e,s){const a=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<dC||!a||fC(t,e,a,r,new Zt(a.x,a.y,r),l=>s(l))}class L4{constructor(){this.distance=200,this.duration=.4,this.easing=ja.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){de(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const hl="attract";let U4=class extends js{constructor(e,s){super(s),this._engine=e,s.attract||(s.attract={particles:[]}),this.handleClickMode=a=>{const r=this.container.actualOptions,l=r.interactivity.modes.attract;if(!(!l||a!==hl)){s.attract||(s.attract={particles:[]}),s.attract.clicking=!0,s.attract.count=0;for(const c of s.attract.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);s.attract.particles=[],s.attract.finish=!1,setTimeout(()=>{s.destroyed||(s.attract||(s.attract={particles:[]}),s.attract.clicking=!1)},l.duration*Wt)}}}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.attract;s&&(e.retina.attractModeDistance=s.distance*e.retina.pixelRatio)}interact(){const e=this.container,s=e.actualOptions,a=e.interactivity.status===La,r=s.interactivity.events,{enable:l,mode:c}=r.onHover,{enable:f,mode:h}=r.onClick;a&&l&&pt(hl,c)?M4(this._engine,this.container,m=>this.isEnabled(m)):f&&pt(hl,h)&&A4(this._engine,this.container,m=>this.isEnabled(m))}isEnabled(e){const s=this.container,a=s.actualOptions,r=s.interactivity.mouse,l=(e?.interactivity??a.interactivity).events;if((!r.position||!l.onHover.enable)&&(!r.clickPosition||!l.onClick.enable))return!1;const c=l.onHover.mode,f=l.onClick.mode;return pt(hl,c)||pt(hl,f)}loadModeOptions(e,...s){e.attract||(e.attract=new L4);for(const a of s)e.attract.load(a?.attract)}reset(){}};async function P4(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",s=>Promise.resolve(new U4(t,s)),e)}const z4=2,Lu=.5,I4=Math.PI*Lu,Av=2,hC=10,B4=0;function mC(t,e,s,a,r){const l=t.particles.quadTree.query(a,r);for(const c of l)a instanceof Zt?W2(Xm(c),{position:e,mass:s**z4*I4,velocity:_t.origin,factor:_t.origin}):a instanceof hs&&o_(c,Bl(e,s))}function F4(t,e,s,a){const r=document.querySelectorAll(e);r.length&&r.forEach(l=>{const c=l,f=t.retina.pixelRatio,h={x:(c.offsetLeft+c.offsetWidth*Lu)*f,y:(c.offsetTop+c.offsetHeight*Lu)*f},m=c.offsetWidth*Lu*f,g=hC*f,x=s.type===to.circle?new Zt(h.x,h.y,m+g):new hs(c.offsetLeft*f-g,c.offsetTop*f-g,c.offsetWidth*f+g*Av,c.offsetHeight*f+g*Av);a(h,m,x)})}function V4(t,e,s,a){Yp(s,e,(r,l)=>F4(t,r,l,(c,f,h)=>mC(t,c,f,h,a)))}function H4(t,e){const s=t.retina.pixelRatio,a=hC*s,r=t.interactivity.mouse.position,l=t.retina.bounceModeDistance;!l||l<B4||!r||mC(t,r,l,new Zt(r.x,r.y,l+a),e)}class q4{constructor(){this.distance=200}load(e){de(e)||e.distance!==void 0&&(this.distance=e.distance)}}const vu="bounce";class G4 extends js{constructor(e){super(e)}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.bounce;s&&(e.retina.bounceModeDistance=s.distance*e.retina.pixelRatio)}interact(){const e=this.container,s=e.actualOptions,a=s.interactivity.events,r=e.interactivity.status===La,l=a.onHover.enable,c=a.onHover.mode,f=a.onDiv;r&&l&&pt(vu,c)?H4(this.container,h=>this.isEnabled(h)):V4(this.container,f,vu,h=>this.isEnabled(h))}isEnabled(e){const s=this.container,a=s.actualOptions,r=s.interactivity.mouse,l=(e?.interactivity??a.interactivity).events,c=l.onDiv;return!!r.position&&l.onHover.enable&&pt(vu,l.onHover.mode)||$p(vu,c)}loadModeOptions(e,...s){e.bounce||(e.bounce=new q4);for(const a of s)e.bounce.load(a?.bounce)}reset(){}}async function $4(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",s=>Promise.resolve(new G4(s)),e)}class pC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!de(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const s=Ds(this.color)?void 0:this.color;this.color=An(e.color,a=>en.create(s,a))}e.size!==void 0&&(this.size=e.size)}}}class Y4 extends pC{constructor(){super(),this.selectors=[]}load(e){super.load(e),!de(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class Q4 extends pC{load(e){super.load(e),!de(e)&&(this.divs=An(e.divs,s=>{const a=new Y4;return a.load(s),a}))}}var Ss;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(Ss||(Ss={}));function Mv(t,e,s,a){if(e>=s){const r=t+(e-s)*a;return Kn(r,t,e)}else if(e<s){const r=t-(s-e)*a;return Kn(r,e,t)}}const ya="bubble",fm=0,W4=0,X4=2,Lv=1,Uv=1,K4=0,Z4=0,hm=.5,mm=1;class J4 extends js{constructor(e,s){super(e),this._clickBubble=()=>{const a=this.container,r=a.actualOptions,l=a.interactivity.mouse.clickPosition,c=r.interactivity.modes.bubble;if(!c||!l)return;a.bubble||(a.bubble={});const f=a.retina.bubbleModeDistance;if(!f||f<fm)return;const h=a.particles.quadTree.queryCircle(l,f,g=>this.isEnabled(g)),{bubble:m}=a;for(const g of h){if(!m.clicking)continue;g.bubble.inRange=!m.durationEnd;const x=g.getPosition(),b=On(x,l),v=(new Date().getTime()-(a.interactivity.mouse.clickTime??W4))/Wt;v>c.duration&&(m.durationEnd=!0),v>c.duration*X4&&(m.clicking=!1,m.durationEnd=!1);const C={bubbleObj:{optValue:a.retina.bubbleModeSize,value:g.bubble.radius},particlesObj:{optValue:ws(g.options.size.value)*a.retina.pixelRatio,value:g.size.value},type:Ss.size};this._process(g,b,v,C);const E={bubbleObj:{optValue:c.opacity,value:g.bubble.opacity},particlesObj:{optValue:ws(g.options.opacity.value),value:g.opacity?.value??Lv},type:Ss.opacity};this._process(g,b,v,E),!m.durationEnd&&b<=f?this._hoverBubbleColor(g,b):delete g.bubble.color}},this._hoverBubble=()=>{const a=this.container,r=a.interactivity.mouse.position,l=a.retina.bubbleModeDistance;if(!l||l<fm||!r)return;const c=a.particles.quadTree.queryCircle(r,l,f=>this.isEnabled(f));for(const f of c){f.bubble.inRange=!0;const h=f.getPosition(),m=On(h,r),g=Uv-m/l;m<=l?g>=Z4&&a.interactivity.status===La&&(this._hoverBubbleSize(f,g),this._hoverBubbleOpacity(f,g),this._hoverBubbleColor(f,g)):this.reset(f),a.interactivity.status===qm&&this.reset(f)}},this._hoverBubbleColor=(a,r,l)=>{const c=this.container.actualOptions,f=l??c.interactivity.modes.bubble;if(f){if(!a.bubble.finalColor){const h=f.color;if(!h)return;const m=Yn(h);a.bubble.finalColor=Tl(this._engine,m)}if(a.bubble.finalColor)if(f.mix){a.bubble.color=void 0;const h=a.getFillColor();a.bubble.color=h?eC(Wp(h,a.bubble.finalColor,Uv-r,r)):a.bubble.finalColor}else a.bubble.color=a.bubble.finalColor}},this._hoverBubbleOpacity=(a,r,l)=>{const c=this.container,f=c.actualOptions,h=l?.opacity??f.interactivity.modes.bubble?.opacity;if(!h)return;const m=a.options.opacity.value,g=a.opacity?.value??Lv,x=Mv(g,h,ws(m),r);x!==void 0&&(a.bubble.opacity=x)},this._hoverBubbleSize=(a,r,l)=>{const c=this.container,f=l?.size?l.size*c.retina.pixelRatio:c.retina.bubbleModeSize;if(f===void 0)return;const h=ws(a.options.size.value)*c.retina.pixelRatio,m=a.size.value,g=Mv(m,f,h,r);g!==void 0&&(a.bubble.radius=g)},this._process=(a,r,l,c)=>{const f=this.container,h=c.bubbleObj.optValue,m=f.actualOptions,g=m.interactivity.modes.bubble;if(!g||h===void 0)return;const x=g.duration,b=f.retina.bubbleModeDistance,v=c.particlesObj.optValue,C=c.bubbleObj.value,E=c.particlesObj.value??K4,N=c.type;if(!(!b||b<fm||h===v))if(f.bubble||(f.bubble={}),f.bubble.durationEnd)C&&(N===Ss.size&&delete a.bubble.radius,N===Ss.opacity&&delete a.bubble.opacity);else if(r<=b){if((C??E)!==h){const D=E-l*(E-h)/x;N===Ss.size&&(a.bubble.radius=D),N===Ss.opacity&&(a.bubble.opacity=D)}}else N===Ss.size&&delete a.bubble.radius,N===Ss.opacity&&delete a.bubble.opacity},this._singleSelectorHover=(a,r,l)=>{const c=this.container,f=document.querySelectorAll(r),h=c.actualOptions.interactivity.modes.bubble;!h||!f.length||f.forEach(m=>{const g=m,x=c.retina.pixelRatio,b={x:(g.offsetLeft+g.offsetWidth*hm)*x,y:(g.offsetTop+g.offsetHeight*hm)*x},v=g.offsetWidth*hm*x,C=l.type===to.circle?new Zt(b.x,b.y,v):new hs(g.offsetLeft*x,g.offsetTop*x,g.offsetWidth*x,g.offsetHeight*x),E=c.particles.quadTree.query(C,N=>this.isEnabled(N));for(const N of E){if(!C.contains(N.getPosition()))continue;N.bubble.inRange=!0;const R=h.divs,D=Q2(R,g);(!N.bubble.div||N.bubble.div!==g)&&(this.clear(N,a,!0),N.bubble.div=g),this._hoverBubbleSize(N,mm,D),this._hoverBubbleOpacity(N,mm,D),this._hoverBubbleColor(N,mm,D)}})},this._engine=s,e.bubble||(e.bubble={}),this.handleClickMode=a=>{a===ya&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,s,a){e.bubble.inRange&&!a||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,s=e.actualOptions.interactivity.modes.bubble;s&&(e.retina.bubbleModeDistance=s.distance*e.retina.pixelRatio,s.size!==void 0&&(e.retina.bubbleModeSize=s.size*e.retina.pixelRatio))}interact(e){const s=this.container.actualOptions,a=s.interactivity.events,r=a.onHover,l=a.onClick,c=r.enable,f=r.mode,h=l.enable,m=l.mode,g=a.onDiv;c&&pt(ya,f)?this._hoverBubble():h&&pt(ya,m)?this._clickBubble():Yp(ya,g,(x,b)=>this._singleSelectorHover(e,x,b))}isEnabled(e){const s=this.container,a=s.actualOptions,r=s.interactivity.mouse,l=(e?.interactivity??a.interactivity).events,{onClick:c,onDiv:f,onHover:h}=l,m=$p(ya,f);return m||h.enable&&r.position||c.enable&&r.clickPosition?pt(ya,h.mode)||pt(ya,c.mode)||m:!1}loadModeOptions(e,...s){e.bubble||(e.bubble=new Q4);for(const a of s)e.bubble.load(a?.bubble)}reset(e){e.bubble.inRange=!1}}async function eA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",s=>Promise.resolve(new J4(s,t)),e)}class tA{constructor(){this.opacity=.5}load(e){de(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class nA{constructor(){this.distance=80,this.links=new tA,this.radius=60}load(e){de(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Pv=0,zv=1,sA=0;function iA(t,e,s,a){const r=Math.floor(s.getRadius()/e.getRadius()),l=e.getFillColor(),c=s.getFillColor();if(!l||!c)return;const f=e.getPosition(),h=s.getPosition(),m=Wp(l,c,e.getRadius(),s.getRadius()),g=t.createLinearGradient(f.x,f.y,h.x,h.y);return g.addColorStop(Pv,kl(l,a)),g.addColorStop(Kn(r,Pv,zv),ti(m,a)),g.addColorStop(zv,kl(c,a)),g}function aA(t,e,s,a,r){bl(t,a,r),t.lineWidth=e,t.strokeStyle=s,t.stroke()}function rA(t,e,s,a){const r=t.actualOptions,l=r.interactivity.modes.connect;if(l)return iA(e,s,a,l.links.opacity)}function oA(t,e,s){t.canvas.draw(a=>{const r=rA(t,a,e,s);if(!r)return;const l=e.getPosition(),c=s.getPosition();aA(a,e.retina.linksWidth??sA,r,l,c)})}const lA="connect",Iv=0;class cA extends js{constructor(e){super(e)}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.connect;s&&(e.retina.connectModeDistance=s.distance*e.retina.pixelRatio,e.retina.connectModeRadius=s.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const a=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:l}=e.retina;if(!r||r<Iv||!l||l<Iv||!a)return;const c=Math.abs(l),f=e.particles.quadTree.queryCircle(a,c,h=>this.isEnabled(h));f.forEach((h,m)=>{const g=h.getPosition(),x=1;for(const b of f.slice(m+x)){const v=b.getPosition(),C=Math.abs(r),E=Math.abs(g.x-v.x),N=Math.abs(g.y-v.y);E<C&&N<C&&oA(e,h,b)}})}}isEnabled(e){const s=this.container,a=s.interactivity.mouse,r=(e?.interactivity??s.actualOptions.interactivity).events;return r.onHover.enable&&a.position?pt(lA,r.onHover.mode):!1}loadModeOptions(e,...s){e.connect||(e.connect=new nA);for(const a of s)e.connect.load(a?.connect)}reset(){}}async function uA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",s=>Promise.resolve(new cA(s)),e)}class dA{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){de(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=en.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class fA{constructor(){this.distance=100,this.links=new dA}load(e){de(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const hA=0;function mA(t,e,s,a,r,l){bl(t,s,a),t.strokeStyle=ti(r,l),t.lineWidth=e,t.stroke()}function pA(t,e,s,a,r){t.canvas.draw(l=>{const c=e.getPosition();mA(l,e.retina.linksWidth??hA,c,r,s,a)})}const gA="grab",yA=0,xA=0;class bA extends js{constructor(e,s){super(e),this._engine=s}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.grab;s&&(e.retina.grabModeDistance=s.distance*e.retina.pixelRatio)}interact(){const e=this.container,s=e.actualOptions,a=s.interactivity;if(!a.modes.grab||!a.events.onHover.enable||e.interactivity.status!==La)return;const r=e.interactivity.mouse.position;if(!r)return;const l=e.retina.grabModeDistance;if(!l||l<yA)return;const c=e.particles.quadTree.queryCircle(r,l,f=>this.isEnabled(f));for(const f of c){const h=f.getPosition(),m=On(h,r);if(m>l)continue;const g=a.modes.grab.links,x=g.opacity,b=x-m*x/l;if(b<=xA)continue;const v=g.color??f.options.links?.color;if(!e.particles.grabLineColor&&v){const E=a.modes.grab.links;e.particles.grabLineColor=nC(this._engine,v,E.blink,E.consent)}const C=Zm(f,void 0,e.particles.grabLineColor);C&&pA(e,f,C,b,r)}}isEnabled(e){const s=this.container,a=s.interactivity.mouse,r=(e?.interactivity??s.actualOptions.interactivity).events;return r.onHover.enable&&!!a.position&&pt(gA,r.onHover.mode)}loadModeOptions(e,...s){e.grab||(e.grab=new fA);for(const a of s)e.grab.load(a?.grab)}reset(){}}async function vA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",s=>Promise.resolve(new bA(s,t)),e)}const SA="pause";class CA extends js{constructor(e){super(e),this.handleClickMode=s=>{if(s!==SA)return;const a=this.container;a.animationStatus?a.pause():a.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function wA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",s=>Promise.resolve(new CA(s)),e)}class EA{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(de(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(a=>a)),this.groups.length||(this.default=!0);const s=e.quantity;s!==void 0&&(this.quantity=He(s)),this.particles=An(e.particles,a=>Jt({},a))}}const NA="push",RA=0;class TA extends js{constructor(e){super(e),this.handleClickMode=s=>{if(s!==NA)return;const a=this.container,r=a.actualOptions,l=r.interactivity.modes.push;if(!l)return;const c=Ee(l.quantity);if(c<=RA)return;const f=xd([void 0,...l.groups]),h=f!==void 0?a.actualOptions.particles.groups[f]:void 0,m=Yn(l.particles),g=Jt(h,m);a.particles.push(c,a.interactivity.mouse,g,f)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...s){e.push||(e.push=new EA);for(const a of s)e.push.load(a?.push)}reset(){}}async function kA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",s=>Promise.resolve(new TA(s)),e)}class DA{constructor(){this.quantity=2}load(e){if(de(e))return;const s=e.quantity;s!==void 0&&(this.quantity=He(s))}}const jA="remove";class _A extends js{constructor(e){super(e),this.handleClickMode=s=>{const a=this.container,r=a.actualOptions;if(!r.interactivity.modes.remove||s!==jA)return;const l=Ee(r.interactivity.modes.remove.quantity);a.particles.removeQuantity(l)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...s){e.remove||(e.remove=new DA);for(const a of s)e.remove.load(a?.remove)}reset(){}}async function OA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",s=>Promise.resolve(new _A(s)),e)}class gC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=ja.easeOutQuad}load(e){de(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class AA extends gC{constructor(){super(),this.selectors=[]}load(e){super.load(e),!de(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class MA extends gC{load(e){super.load(e),!de(e)&&(this.divs=An(e.divs,s=>{const a=new AA;return a.load(s),a}))}}const xa="repulse",LA=0,UA=6,PA=3,zA=2,IA=0,BA=0,FA=1,pm=.5;class VA extends js{constructor(e,s){super(s),this._clickRepulse=()=>{const a=this.container,r=a.actualOptions.interactivity.modes.repulse;if(!r)return;const l=a.repulse??{particles:[]};if(l.finish||(l.count||(l.count=0),l.count++,l.count===a.particles.count&&(l.finish=!0)),l.clicking){const c=a.retina.repulseModeDistance;if(!c||c<LA)return;const f=Math.pow(c/UA,PA),h=a.interactivity.mouse.clickPosition;if(h===void 0)return;const m=new Zt(h.x,h.y,f),g=a.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of g){const{dx:b,dy:v,distance:C}=ln(h,x.position),E=C**zA,N=r.speed,R=-f*N/E;if(E<=f){l.particles.push(x);const D=_t.create(b,v);D.length=R,x.velocity.setTo(D)}}}else if(l.clicking===!1){for(const c of l.particles)c.velocity.setTo(c.initialVelocity);l.particles=[]}},this._hoverRepulse=()=>{const a=this.container,r=a.interactivity.mouse.position,l=a.retina.repulseModeDistance;!l||l<IA||!r||this._processRepulse(r,l,new Zt(r.x,r.y,l))},this._processRepulse=(a,r,l,c)=>{const f=this.container,h=f.particles.quadTree.query(l,N=>this.isEnabled(N)),m=f.actualOptions.interactivity.modes.repulse;if(!m)return;const{easing:g,speed:x,factor:b,maxSpeed:v}=m,C=this._engine.getEasing(g),E=(c?.speed??x)*b;for(const N of h){const{dx:R,dy:D,distance:j}=ln(N.position,a),O=Kn(C(FA-j/r)*E,BA,v),k=_t.create(j?R/j*O:E,j?D/j*O:E);N.position.addTo(k)}},this._singleSelectorRepulse=(a,r)=>{const l=this.container,c=l.actualOptions.interactivity.modes.repulse;if(!c)return;const f=document.querySelectorAll(a);f.length&&f.forEach(h=>{const m=h,g=l.retina.pixelRatio,x={x:(m.offsetLeft+m.offsetWidth*pm)*g,y:(m.offsetTop+m.offsetHeight*pm)*g},b=m.offsetWidth*pm*g,v=r.type===to.circle?new Zt(x.x,x.y,b):new hs(m.offsetLeft*g,m.offsetTop*g,m.offsetWidth*g,m.offsetHeight*g),C=c.divs,E=Q2(C,m);this._processRepulse(x,b,v,E)})},this._engine=e,s.repulse||(s.repulse={particles:[]}),this.handleClickMode=a=>{const r=this.container.actualOptions,l=r.interactivity.modes.repulse;if(!l||a!==xa)return;s.repulse||(s.repulse={particles:[]});const c=s.repulse;c.clicking=!0,c.count=0;for(const f of s.repulse.particles)this.isEnabled(f)&&f.velocity.setTo(f.initialVelocity);c.particles=[],c.finish=!1,setTimeout(()=>{s.destroyed||(c.clicking=!1)},l.duration*Wt)}}clear(){}init(){const e=this.container,s=e.actualOptions.interactivity.modes.repulse;s&&(e.retina.repulseModeDistance=s.distance*e.retina.pixelRatio)}interact(){const e=this.container,s=e.actualOptions,a=e.interactivity.status===La,r=s.interactivity.events,l=r.onHover,c=l.enable,f=l.mode,h=r.onClick,m=h.enable,g=h.mode,x=r.onDiv;a&&c&&pt(xa,f)?this._hoverRepulse():m&&pt(xa,g)?this._clickRepulse():Yp(xa,x,(b,v)=>this._singleSelectorRepulse(b,v))}isEnabled(e){const s=this.container,a=s.actualOptions,r=s.interactivity.mouse,l=(e?.interactivity??a.interactivity).events,c=l.onDiv,f=l.onHover,h=l.onClick,m=$p(xa,c);if(!(m||f.enable&&r.position||h.enable&&r.clickPosition))return!1;const g=f.mode,x=h.mode;return pt(xa,g)||pt(xa,x)||m}loadModeOptions(e,...s){e.repulse||(e.repulse=new MA);for(const a of s)e.repulse.load(a?.repulse)}reset(){}}async function HA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",s=>Promise.resolve(new VA(t,s)),e)}class qA{constructor(){this.factor=3,this.radius=200}load(e){de(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const GA="slow",$A=0;class YA extends js{constructor(e){super(e)}clear(e,s,a){e.slow.inRange&&!a||(e.slow.factor=1)}init(){const e=this.container,s=e.actualOptions.interactivity.modes.slow;s&&(e.retina.slowModeRadius=s.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const s=this.container,a=s.interactivity.mouse,r=(e?.interactivity??s.actualOptions.interactivity).events;return r.onHover.enable&&!!a.position&&pt(GA,r.onHover.mode)}loadModeOptions(e,...s){e.slow||(e.slow=new qA);for(const a of s)e.slow.load(a?.slow)}reset(e){e.slow.inRange=!1;const s=this.container,a=s.actualOptions,r=s.interactivity.mouse.position,l=s.retina.slowModeRadius,c=a.interactivity.modes.slow;if(!c||!l||l<$A||!r)return;const f=e.getPosition(),h=On(r,f),m=h/l,g=c.factor,{slow:x}=e;h>l||(x.inRange=!0,x.factor=m/g)}}async function QA(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",s=>Promise.resolve(new YA(s)),e)}const WA=0,XA=1,KA=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function ZA(t,e,s){const{svgData:a}=t;if(!a)return"";const r=kl(e,s);if(a.includes("fill"))return a.replace(KA,()=>r);const l=a.indexOf(">");return`${a.substring(WA,l)} fill="${r}"${a.substring(l)}`}async function bd(t){return new Promise(e=>{t.loading=!0;const s=new Image;t.element=s,s.addEventListener("load",()=>{t.loading=!1,e()}),s.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,Pa().error(`${Xn} loading image: ${t.source}`),e()}),s.src=t.source})}async function JA(t){if(t.type!=="svg"){await bd(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(Pa().error(`${Xn} Image not found`),t.error=!0),t.loading=!1}function e3(t,e,s,a){const r=ZA(t,s,a.opacity?.value??XA),l={color:s,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(c=>{const f=new Blob([r],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,m=h.createObjectURL(f),g=new Image;g.addEventListener("load",()=>{l.loaded=!0,l.element=g,c(l),h.revokeObjectURL(m)});const x=async()=>{h.revokeObjectURL(m);const b={...t,error:!1,loading:!0};await bd(b),l.loaded=!0,l.element=b.element,c(l)};g.addEventListener("error",()=>void x()),g.src=m})}const gm=[0,4,2,1],Bv=[8,8,4,2];class t3{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const s=this.data.slice(this.pos,this.pos+e);return this.pos+=s.length,s.reduce((a,r)=>a+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",s=0;const a=0,r=0;do{s=this.data[this.pos++];for(let l=s;--l>=a;e+=String.fromCharCode(this.data[this.pos++]));}while(s!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],s=0;const a=0,r=1;for(let c=0;e!==a;c+=e+r,e=this.data[this.pos+c])s+=e;const l=new Uint8Array(s);e=this.data[this.pos++];for(let c=0;e!==a;e=this.data[this.pos++])for(let f=e;--f>=a;l[c++]=this.data[this.pos++]);return l}skipSubBlocks(){for(const e=1,s=0;this.data[this.pos]!==s;this.pos+=this.data[this.pos]+e);this.pos++}}var as;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(as||(as={}));var Js;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(Js||(Js={}));const yn={x:0,y:0},n3=0,Fv=.5,s3=0,Vv=0,ep=0;function yC(t,e){const s=[];for(let a=0;a<e;a++)s.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return s}function i3(t,e,s,a){switch(t.nextByte()){case Js.GraphicsControlExtension:{const r=e.frames[s(!1)];t.pos++;const l=t.nextByte();r.GCreserved=(l&224)>>>5,r.disposalMethod=(l&28)>>>2,r.userInputDelayFlag=(l&2)===2;const c=(l&1)===1;r.delayTime=t.nextTwoBytes()*10;const f=t.nextByte();c&&a(f),t.pos++;break}case Js.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case Js.CommentExtension:{e.comments.push([s(!1),t.readSubBlocks()]);break}case Js.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[s(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function a3(t,e,s,a,r,l){const c=e.frames[a(!0)];c.left=t.nextTwoBytes(),c.top=t.nextTwoBytes(),c.width=t.nextTwoBytes(),c.height=t.nextTwoBytes();const f=t.nextByte(),h=(f&128)===128,m=(f&64)===64;c.sortFlag=(f&32)===32,c.reserved=(f&24)>>>3;const g=1<<(f&7)+1;h&&(c.localColorTable=yC(t,g));const x=R=>{const{r:D,g:j,b:O}=(h?c.localColorTable:e.globalColorTable)[R];return R!==r(null)?{r:D,g:j,b:O,a:255}:{r:D,g:j,b:O,a:s?~~((D+j+O)/3):0}},b=(()=>{try{return new ImageData(c.width,c.height,{colorSpace:"srgb"})}catch(R){if(R instanceof DOMException&&R.name==="IndexSizeError")return null;throw R}})();if(b==null)throw new EvalError("GIF frame size is to large");const v=t.nextByte(),C=t.readSubBlocksBin(),E=1<<v,N=(R,D)=>{const j=R>>>3,O=R&7;return(C[j]+(C[j+1]<<8)+(C[j+2]<<16)&(1<<D)-1<<O)>>>O};if(m){for(let R=0,D=v+1,j=0,O=[[0]],k=0;k<4;k++)if(gm[k]<c.height){let V=0,M=0,_=!1;for(;!_;){const W=R;if(R=N(j,D),j+=D+1,R===E){D=v+1,O.length=E+2;for(let X=0;X<O.length;X++)O[X]=X<E?[X]:[]}else{R>=O.length?O.push(O[W].concat(O[W][0])):W!==E&&O.push(O[W].concat(O[R][0]));for(const X of O[R]){const{r:ce,g:F,b:Z,a:se}=x(X);b.data.set([ce,F,Z,se],gm[k]*c.width+Bv[k]*M+V%(c.width*4)),V+=4}O.length===1<<D&&D<12&&D++}V===c.width*4*(M+1)&&(M++,gm[k]+Bv[k]*M>=c.height&&(_=!0))}}c.image=b,c.bitmap=await createImageBitmap(b)}else{let R=0,D=v+1,j=0,O=-4,k=!1;const V=[[0]];for(;!k;){const M=R;if(R=N(j,D),j+=D,R===E){D=v+1,V.length=E+2;for(let _=0;_<V.length;_++)V[_]=_<E?[_]:[]}else{if(R===E+1){k=!0;break}R>=V.length?V.push(V[M].concat(V[M][0])):M!==E&&V.push(V[M].concat(V[R][0]));for(const _ of V[R]){const{r:W,g:X,b:ce,a:F}=x(_);b.data.set([W,X,ce,F],O+=4)}V.length>=1<<D&&D<12&&D++}}c.image=b,c.bitmap=await createImageBitmap(b)}}async function r3(t,e,s,a,r,l){switch(t.nextByte()){case Js.EndOfFile:return!0;case Js.Image:await a3(t,e,s,a,r);break;case Js.Extension:i3(t,e,a,r);break;default:throw new EvalError("undefined block found")}return!1}function o3(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function l3(t,e,s){s||(s=!1);const a=await fetch(t);if(!a.ok&&a.status===404)throw new EvalError("file not found");const r=await a.arrayBuffer(),l={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},c=new t3(new Uint8ClampedArray(r));if(c.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");l.width=c.nextTwoBytes(),l.height=c.nextTwoBytes();const f=c.nextByte(),h=(f&128)===128;l.colorRes=(f&112)>>>4,l.sortFlag=(f&8)===8;const m=1<<(f&7)+1,g=c.nextByte();l.pixelAspectRatio=c.nextByte(),l.pixelAspectRatio!==0&&(l.pixelAspectRatio=(l.pixelAspectRatio+15)/64),h&&(l.globalColorTable=yC(c,m));const x=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(O){if(O instanceof DOMException&&O.name==="IndexSizeError")return null;throw O}})();if(x==null)throw new Error("GIF frame size is to large");const{r:b,g:v,b:C}=l.globalColorTable[g];x.data.set(h?[b,v,C,255]:[0,0,0,0]);for(let O=4;O<x.data.length;O*=2)x.data.copyWithin(O,0,O);l.backgroundImage=x;let E=-1,N=!0,R=-1;const D=O=>(O&&(N=!0),E),j=O=>(O!=null&&(R=O),R);try{do N&&(l.frames.push({left:0,top:0,width:0,height:0,disposalMethod:as.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),E++,R=-1,N=!1);while(!await r3(c,l,s,D,j,e));l.frames.length--;for(const O of l.frames){if(O.userInputDelayFlag&&O.delayTime===0){l.totalTime=1/0;break}l.totalTime+=O.delayTime}return l}catch(O){throw O instanceof EvalError?new Error(`error while parsing frame ${E} "${O.message}"`):O}}function c3(t){const{context:e,radius:s,particle:a,delta:r}=t,l=a.image;if(!l?.gifData||!l.gif)return;const c=new OffscreenCanvas(l.gifData.width,l.gifData.height),f=c.getContext("2d");if(!f)throw new Error("could not create offscreen canvas context");f.imageSmoothingQuality="low",f.imageSmoothingEnabled=!1,f.clearRect(yn.x,yn.y,c.width,c.height),a.gifLoopCount===void 0&&(a.gifLoopCount=l.gifLoopCount??ep);let h=a.gifFrame??n3;const m={x:-l.gifData.width*Fv,y:-l.gifData.height*Fv},g=l.gifData.frames[h];if(a.gifTime===void 0&&(a.gifTime=s3),!!g.bitmap){switch(e.scale(s/l.gifData.width,s/l.gifData.height),g.disposalMethod){case as.UndefinedA:case as.UndefinedB:case as.UndefinedC:case as.UndefinedD:case as.Replace:f.drawImage(g.bitmap,g.left,g.top),e.drawImage(c,m.x,m.y),f.clearRect(yn.x,yn.y,c.width,c.height);break;case as.Combine:f.drawImage(g.bitmap,g.left,g.top),e.drawImage(c,m.x,m.y);break;case as.RestoreBackground:f.drawImage(g.bitmap,g.left,g.top),e.drawImage(c,m.x,m.y),f.clearRect(yn.x,yn.y,c.width,c.height),l.gifData.globalColorTable.length?f.putImageData(l.gifData.backgroundImage,m.x,m.y):f.putImageData(l.gifData.frames[Vv].image,m.x+g.left,m.y+g.top);break;case as.RestorePrevious:{const x=f.getImageData(yn.x,yn.y,c.width,c.height);f.drawImage(g.bitmap,g.left,g.top),e.drawImage(c,m.x,m.y),f.clearRect(yn.x,yn.y,c.width,c.height),f.putImageData(x,yn.x,yn.y)}break}if(a.gifTime+=r.value,a.gifTime>g.delayTime){if(a.gifTime-=g.delayTime,++h>=l.gifData.frames.length){if(--a.gifLoopCount<=ep)return;h=Vv,f.clearRect(yn.x,yn.y,c.width,c.height)}a.gifFrame=h}e.scale(l.gifData.width/s,l.gifData.height/s)}}async function u3(t){if(t.type!=="gif"){await bd(t);return}t.loading=!0;try{t.gifData=await l3(t.source),t.gifLoopCount=o3(t.gifData)??ep,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const d3=2,f3=1,h3=12,m3=1;class p3{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async s=>{if(!this._engine.loadImage)throw new Error(`${Xn} image shape not initialized`);await this._engine.loadImage({gif:s.gif,name:s.name,replaceColor:s.replaceColor??!1,src:s.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:s,radius:a,particle:r,opacity:l}=e,c=r.image,f=c?.element;if(c){if(s.globalAlpha=l,c.gif&&c.gifData)c3(e);else if(f){const h=c.ratio,m={x:-a,y:-a},g=a*d3;s.drawImage(f,m.x,m.y,g,g/h)}s.globalAlpha=f3}}getSidesCount(){return h3}async init(e){const s=e.actualOptions;if(!(!s.preload||!this._engine.loadImage))for(const a of s.preload)await this._engine.loadImage(a)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const s=e.shapeData;if(!s)return;this._engine.images.find(r=>r.name===s.name||r.source===s.src)||this.loadImageShape(s).then(()=>{this.loadShape(e)})}particleInit(e,s){if(s.shape!=="image"&&s.shape!=="images")return;this._engine.images||(this._engine.images=[]);const a=this._engine.images,r=s.shapeData;if(!r)return;const l=s.getFillColor(),c=a.find(h=>h.name===r.name||h.source===r.src);if(!c)return;const f=r.replaceColor??c.replaceColor;if(c.loading){setTimeout(()=>{this.particleInit(e,s)});return}(async()=>{let h;c.svgData&&l?h=await e3(c,r,l,s):h={color:l,data:c,element:c.element,gif:c.gif,gifData:c.gifData,gifLoopCount:c.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:c.ratio??m3,replaceColor:f,source:r.src},h.ratio||(h.ratio=1);const m=r.fill??s.shapeFill,g=r.close??s.shapeClose,x={image:h,fill:m,close:g};s.image=x.image,s.shapeFill=x.fill,s.shapeClose=x.close})()}}class g3{constructor(){this.src="",this.gif=!1}load(e){de(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class y3{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,s){if(!s?.preload)return;e.preload||(e.preload=[]);const a=e.preload;for(const r of s.preload){const l=a.find(c=>c.name===r.name||c.src===r.src);if(l)l.load(r);else{const c=new g3;c.load(r),a.push(c)}}}needsPlugin(){return!0}}const x3=3;function b3(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${Xn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(s=>s.name===e.name||s.source===e.src))try{const s={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-x3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(s);let a;e.gif?a=u3:a=e.replaceColor?JA:bd,await a(s)}catch{throw new Error(`${Xn} ${e.name??e.src} not found`)}})}async function v3(t,e=!0){t.checkVersion("3.9.1"),b3(t);const s=new y3(t);await t.addPlugin(s,e),await t.addShape(new p3(t),e)}class S3 extends Ba{constructor(){super(),this.sync=!1}load(e){de(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class C3 extends Ba{constructor(){super(),this.sync=!1}load(e){de(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class w3{constructor(){this.count=0,this.delay=new S3,this.duration=new C3}load(e){de(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Or=0,E3=-1,Hv=0,qv=0;function N3(t,e,s){if(!t.life)return;const a=t.life;let r=!1;if(t.spawning)if(a.delayTime+=e.value,a.delayTime>=t.life.delay)r=!0,t.spawning=!1,a.delayTime=Or,a.time=Or;else return;if(a.duration===E3||t.spawning||(r?a.time=Or:a.time+=e.value,a.time<a.duration))return;if(a.time=Or,t.life.count>Hv&&t.life.count--,t.life.count===Hv){t.destroy();return}const l=He(qv,s.width),c=He(qv,s.width);t.position.x=jn(l),t.position.y=jn(c),t.spawning=!0,a.delayTime=Or,a.time=Or,t.reset();const f=t.options.life;f&&(a.delay=Ee(f.delay.value)*Wt,a.duration=Ee(f.duration.value)*Wt)}const ba=0,Gv=1,$v=-1;class R3{constructor(e){this.container=e}init(e){const s=this.container,a=e.options,r=a.life;r&&(e.life={delay:s.retina.reduceFactor?Ee(r.delay.value)*(r.delay.sync?Gv:Ke())/s.retina.reduceFactor*Wt:ba,delayTime:ba,duration:s.retina.reduceFactor?Ee(r.duration.value)*(r.duration.sync?Gv:Ke())/s.retina.reduceFactor*Wt:ba,time:ba,count:r.count},e.life.duration<=ba&&(e.life.duration=$v),e.life.count<=ba&&(e.life.count=$v),e.life&&(e.spawning=e.life.delay>ba))}isEnabled(e){return!e.destroyed}loadOptions(e,...s){e.life||(e.life=new w3);for(const a of s)e.life.load(a?.life)}update(e,s){!this.isEnabled(e)||!e.life||N3(e,s,this.container.canvas.size)}}async function T3(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async s=>Promise.resolve(new R3(s)),e)}function k3(t){const{context:e,particle:s,radius:a}=t,r=s.shapeData,l=0;e.moveTo(-a,l),e.lineTo(a,l),e.lineCap=r?.cap??"butt"}const D3=1;class j3{constructor(){this.validTypes=["line"]}draw(e){k3(e)}getSidesCount(){return D3}}async function _3(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new j3,e)}const Yv=.5;class O3{init(){}isEnabled(e){return!za()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const s=e.container,a=s.actualOptions,r=a.interactivity.events.onHover.parallax;if(za()||!r.enable)return;const l=r.force,c=s.interactivity.mouse.position;if(!c)return;const f=s.canvas.size,h={x:f.width*Yv,y:f.height*Yv},m=r.smooth,g=e.getRadius()/l,x={x:(c.x-h.x)*g,y:(c.y-h.y)*g},{offset:b}=e;b.x+=(x.x-b.x)/m,b.y+=(x.y-b.y)/m}}async function A3(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new O3),e)}const Qv=1e3,M3=1;class L3 extends Zp{constructor(e){super(e)}clear(){}init(){}interact(e){const s=this.container;e.attractDistance===void 0&&(e.attractDistance=Ee(e.options.move.attract.distance)*s.retina.pixelRatio);const a=e.attractDistance,r=e.getPosition(),l=s.particles.quadTree.queryCircle(r,a);for(const c of l){if(e===c||!c.options.move.attract.enable||c.destroyed||c.spawning)continue;const f=c.getPosition(),{dx:h,dy:m}=ln(r,f),g=e.options.move.attract.rotate,x=h/(g.x*Qv),b=m/(g.y*Qv),v=c.size.value/e.size.value,C=M3/v;e.velocity.x-=x*v,e.velocity.y-=b*v,c.velocity.x+=x*C,c.velocity.y+=b*C}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function U3(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",s=>Promise.resolve(new L3(s)),e)}const P3=.5,z3=10,I3=0;function Wv(t,e,s,a,r,l){const c=Kn(t.options.collisions.absorb.speed*r.factor/z3,I3,a);t.size.value+=c*P3,s.size.value-=c,a<=l&&(s.size.value=0,s.destroy())}function B3(t,e,s,a){const r=t.getRadius(),l=e.getRadius();r===void 0&&l!==void 0?t.destroy():r!==void 0&&l===void 0?e.destroy():r!==void 0&&l!==void 0&&(r>=l?Wv(t,r,e,l,s,a):Wv(e,l,t,r,s,a))}const Xv=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=Ee(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function xC(t,e){W2(Xm(t),Xm(e)),Xv(t),Xv(e)}function F3(t,e){!t.unbreakable&&!e.unbreakable&&xC(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function V3(t,e,s,a){switch(t.options.collisions.mode){case Yr.absorb:{B3(t,e,s,a);break}case Yr.bounce:{xC(t,e);break}case Yr.destroy:{F3(t,e);break}}}const H3=2;class q3 extends Zp{constructor(e){super(e)}clear(){}init(){}interact(e,s){if(e.destroyed||e.spawning)return;const a=this.container,r=e.getPosition(),l=e.getRadius(),c=a.particles.quadTree.queryCircle(r,l*H3);for(const f of c){if(e===f||!f.options.collisions.enable||e.options.collisions.mode!==f.options.collisions.mode||f.destroyed||f.spawning)continue;const h=f.getPosition(),m=f.getRadius();if(Math.abs(Math.round(r.z)-Math.round(h.z))>l+m)continue;const g=On(r,h),x=l+m;g>x||V3(e,f,s,a.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function G3(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",s=>Promise.resolve(new q3(s)),e)}const ym=2;class $3 extends Zt{constructor(e,s,a,r){super(e,s,a),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:s,height:a}=this.canvasSize,{x:r,y:l}=e;return super.contains(e)||super.contains({x:r-s,y:l})||super.contains({x:r-s,y:l-a})||super.contains({x:r,y:l-a})}intersects(e){if(super.intersects(e))return!0;const s=e,a=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(a.radius!==void 0){const l=new Zt(r.x,r.y,a.radius*ym);return super.intersects(l)}else if(s.size!==void 0){const l=new hs(r.x,r.y,s.size.width*ym,s.size.height*ym);return super.intersects(l)}return!1}}class Y3{constructor(){this.blur=5,this.color=new en,this.color.value="#000",this.enable=!1}load(e){de(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=en.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class Q3{constructor(){this.enable=!1,this.frequency=1}load(e){de(e)||(e.color!==void 0&&(this.color=en.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class W3{constructor(){this.blink=!1,this.color=new en,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new Y3,this.triangles=new Q3,this.width=1,this.warp=!1}load(e){de(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=en.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const Kv=2,X3=1,Su={x:0,y:0},K3=0;function Z3(t,e,s,a,r){const{dx:l,dy:c,distance:f}=ln(t,e);if(!r||f<=s)return f;const h={x:Math.abs(l),y:Math.abs(c)},m={x:Math.min(h.x,a.width-h.x),y:Math.min(h.y,a.height-h.y)};return Math.sqrt(m.x**Kv+m.y**Kv)}class J3 extends Zp{constructor(e,s){super(e),this._setColor=a=>{if(!a.options.links)return;const r=this._linkContainer,l=a.options.links;let c=l.id===void 0?r.particles.linksColor:r.particles.linksColors.get(l.id);if(c)return;const f=l.color;c=nC(this._engine,f,l.blink,l.consent),l.id===void 0?r.particles.linksColor=c:r.particles.linksColors.set(l.id,c)},this._linkContainer=e,this._engine=s}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const s=e.getPosition(),a=this.container,r=a.canvas.size;if(s.x<Su.x||s.y<Su.y||s.x>r.width||s.y>r.height)return;const l=e.options.links,c=l.opacity,f=e.retina.linksDistance??K3,h=l.warp;let m;h?m=new $3(s.x,s.y,f,r):m=new Zt(s.x,s.y,f);const g=a.particles.quadTree.query(m);for(const x of g){const b=x.options.links;if(e===x||!b?.enable||l.id!==b.id||x.spawning||x.destroyed||!x.links||e.links.some(N=>N.destination===x)||x.links.some(N=>N.destination===e))continue;const v=x.getPosition();if(v.x<Su.x||v.y<Su.y||v.x>r.width||v.y>r.height)continue;const C=Z3(s,v,f,r,h&&b.warp);if(C>f)continue;const E=(X3-C/f)*c;this._setColor(e),e.links.push({destination:x,opacity:E})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...s){e.links||(e.links=new W3);for(const a of s)e.links.load(a?.links)}reset(){}}async function eM(t,e=!0){await t.addInteractor("particlesLinks",async s=>Promise.resolve(new J3(s,t)),e)}function tM(t,e,s,a){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(s.x,s.y),t.lineTo(a.x,a.y),t.closePath()}function nM(t){let e=!1;const{begin:s,end:a,engine:r,maxDistance:l,context:c,canvasSize:f,width:h,backgroundMask:m,colorLine:g,opacity:x,links:b}=t;if(On(s,a)<=l)bl(c,s,a),e=!0;else if(b.warp){let C,E;const N={x:a.x-f.width,y:a.y},R=ln(s,N);if(R.distance<=l){const D=s.y-R.dy/R.dx*s.x;C={x:0,y:D},E={x:f.width,y:D}}else{const D={x:a.x,y:a.y-f.height},j=ln(s,D);if(j.distance<=l){const k=-(s.y-j.dy/j.dx*s.x)/(j.dy/j.dx);C={x:k,y:0},E={x:k,y:f.height}}else{const O={x:a.x-f.width,y:a.y-f.height},k=ln(s,O);if(k.distance<=l){const V=s.y-k.dy/k.dx*s.x;C={x:-V/(k.dy/k.dx),y:V},E={x:C.x+f.width,y:C.y+f.height}}}}C&&E&&(bl(c,s,C),bl(c,a,E),e=!0)}if(!e)return;c.lineWidth=h,m.enable&&(c.globalCompositeOperation=m.composite),c.strokeStyle=ti(g,x);const{shadow:v}=b;if(v.enable){const C=ls(r,v.color);C&&(c.shadowBlur=v.blur,c.shadowColor=ti(C))}c.stroke()}function sM(t){const{context:e,pos1:s,pos2:a,pos3:r,backgroundMask:l,colorTriangle:c,opacityTriangle:f}=t;tM(e,s,a,r),l.enable&&(e.globalCompositeOperation=l.composite),e.fillStyle=ti(c,f),e.fill()}function iM(t){return t.sort((e,s)=>e-s),t.join("_")}function Zv(t,e){const s=iM(t.map(r=>r.id));let a=e.get(s);return a===void 0&&(a=Ke(),e.set(s,a)),a}const Jv=0,xm=0,e1=0,aM=.5,rM=1;class oM{constructor(e,s){this._drawLinkLine=(a,r)=>{const l=a.options.links;if(!l?.enable)return;const c=this._container,f=c.actualOptions,h=r.destination,m=a.getPosition(),g=h.getPosition();let x=r.opacity;c.canvas.draw(b=>{let v;const C=a.options.twinkle?.lines;if(C?.enable){const D=C.frequency,j=ls(this._engine,C.color);Ke()<D&&j&&(v=j,x=Ee(C.opacity))}if(!v){const D=l.id!==void 0?c.particles.linksColors.get(l.id):c.particles.linksColor;v=Zm(a,h,D)}if(!v)return;const E=a.retina.linksWidth??xm,N=a.retina.linksDistance??e1,{backgroundMask:R}=f;nM({context:b,width:E,begin:m,end:g,engine:this._engine,maxDistance:N,canvasSize:c.canvas.size,links:l,backgroundMask:R,colorLine:v,opacity:x})})},this._drawLinkTriangle=(a,r,l)=>{const c=a.options.links;if(!c?.enable)return;const f=c.triangles;if(!f.enable)return;const h=this._container,m=h.actualOptions,g=r.destination,x=l.destination,b=f.opacity??(r.opacity+l.opacity)*aM;b<=Jv||h.canvas.draw(v=>{const C=a.getPosition(),E=g.getPosition(),N=x.getPosition(),R=a.retina.linksDistance??e1;if(On(C,E)>R||On(N,E)>R||On(N,C)>R)return;let D=ls(this._engine,f.color);if(!D){const j=c.id!==void 0?h.particles.linksColors.get(c.id):h.particles.linksColor;D=Zm(a,g,j)}D&&sM({context:v,pos1:C,pos2:E,pos3:N,backgroundMask:m.backgroundMask,colorTriangle:D,opacityTriangle:b})})},this._drawTriangles=(a,r,l,c)=>{const f=l.destination;if(!(a.links?.triangles.enable&&f.options.links?.triangles.enable))return;const h=f.links?.filter(m=>{const g=this._getLinkFrequency(f,m.destination);return f.options.links&&g<=f.options.links.frequency&&c.findIndex(b=>b.destination===m.destination)>=0});if(h?.length)for(const m of h){const g=m.destination;this._getTriangleFrequency(r,f,g)>a.links.triangles.frequency||this._drawLinkTriangle(r,l,m)}},this._getLinkFrequency=(a,r)=>Zv([a,r],this._freqs.links),this._getTriangleFrequency=(a,r,l)=>Zv([a,r,l],this._freqs.triangles),this._container=e,this._engine=s,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,s){const{links:a,options:r}=s;if(!a?.length)return;const l=a.filter(c=>r.links&&(r.links.frequency>=rM||this._getLinkFrequency(s,c.destination)<=r.links.frequency));for(const c of l)this._drawTriangles(r,s,c,l),c.opacity>Jv&&(s.retina.linksWidth??xm)>xm&&this._drawLinkLine(s,c)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const s=this._container.retina.pixelRatio,{retina:a}=e,{distance:r,width:l}=e.options.links;a.linksDistance=r*s,a.linksWidth=l*s}particleDestroyed(e){e.links=[]}}class lM{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new oM(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function cM(t,e=!0){const s=new lM(t);await t.addPlugin(s,e)}async function uM(t,e=!0){t.checkVersion("3.9.1"),await eM(t,e),await cM(t,e)}const dM=180,Cu={x:0,y:0},fM=2;function hM(t,e,s){const{context:a}=t,r=s.count.numerator*s.count.denominator,l=s.count.numerator/s.count.denominator,c=dM*(l-fM)/l,f=Math.PI-Ii(c);if(a){a.beginPath(),a.translate(e.x,e.y),a.moveTo(Cu.x,Cu.y);for(let h=0;h<r;h++)a.lineTo(s.length,Cu.y),a.translate(s.length,Cu.y),a.rotate(f)}}const mM=5;class bC{draw(e){const{particle:s,radius:a}=e,r=this.getCenter(s,a),l=this.getSidesData(s,a);hM(e,r,l)}getSidesCount(e){const s=e.shapeData;return Math.round(Ee(s?.sides??mM))}}const t1=3.5,n1=2.66,pM=3;class gM extends bC{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,s){return{x:-s/(e.sides/t1),y:-s/(n1/t1)}}getSidesData(e,s){const a=e.sides;return{count:{denominator:1,numerator:a},length:s*n1/(a/pM)}}}const yM=1.66,xM=3,bM=2;class vM extends bC{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,s){return{x:-s,y:s/yM}}getSidesCount(){return xM}getSidesData(e,s){const a=s*bM;return{count:{denominator:2,numerator:3},length:a}}}async function SM(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new gM,e)}async function CM(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new vM,e)}async function wM(t,e=!0){t.checkVersion("3.9.1"),await SM(t,e),await CM(t,e)}class EM{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){de(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=He(e.speed)),e.decay!==void 0&&(this.decay=He(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class NM extends Ba{constructor(){super(),this.animation=new EM,this.direction=rs.clockwise,this.path=!1,this.value=0}load(e){de(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const vC=2,RM=Math.PI*vC,TM=1,kM=360;class DM{constructor(e){this.container=e}init(e){const s=e.options.rotate;if(!s)return;e.rotate={enable:s.animation.enable,value:Ii(Ee(s.value)),min:0,max:RM},e.pathRotation=s.path;let a=s.direction;switch(a===rs.random&&(a=Math.floor(Ke()*vC)>0?rs.counterClockwise:rs.clockwise),a){case rs.counterClockwise:case"counterClockwise":e.rotate.status=St.decreasing;break;case rs.clockwise:e.rotate.status=St.increasing;break}const r=s.animation;r.enable&&(e.rotate.decay=TM-Ee(r.decay),e.rotate.velocity=Ee(r.speed)/kM*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ke())),e.rotation=e.rotate.value}isEnabled(e){const s=e.options.rotate;return s?!e.destroyed&&!e.spawning&&(!!s.value||s.animation.enable||s.path):!1}loadOptions(e,...s){e.rotate||(e.rotate=new NM);for(const a of s)e.rotate.load(a?.rotate)}update(e,s){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Qp(e,e.rotate,!1,Ua.none,s),e.rotation=e.rotate.value))}}async function jM(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",s=>Promise.resolve(new DM(s)),e)}const _M=2,OM=Math.sqrt(_M),AM=2;function MM(t){const{context:e,radius:s}=t,a=s/OM,r=a*AM;e.rect(-a,-a,r,r)}const LM=4;class UM{constructor(){this.validTypes=["edge","square"]}draw(e){MM(e)}getSidesCount(){return LM}}async function PM(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new UM,e)}const zM=2,Ar={x:0,y:0};function IM(t){const{context:e,particle:s,radius:a}=t,r=s.sides,l=s.starInset??zM;e.moveTo(Ar.x,Ar.y-a);for(let c=0;c<r;c++)e.rotate(Math.PI/r),e.lineTo(Ar.x,Ar.y-a*l),e.rotate(Math.PI/r),e.lineTo(Ar.x,Ar.y-a)}const BM=2,FM=5;class VM{constructor(){this.validTypes=["star"]}draw(e){IM(e)}getSidesCount(e){const s=e.shapeData;return Math.round(Ee(s?.sides??FM))}particleInit(e,s){const a=s.shapeData;s.starInset=Ee(a?.inset??BM)}}async function HM(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new VM,e)}const qM=1;class GM{constructor(e,s){this._container=e,this._engine=s}init(e){const s=this._container,a=e.options,r=Yn(a.stroke,e.id,a.reduceDuplicates);e.strokeWidth=Ee(r.width)*s.retina.pixelRatio,e.strokeOpacity=Ee(r.opacity??qM),e.strokeAnimation=r.color?.animation;const l=Tl(this._engine,r.color)??e.getFillColor();l&&(e.strokeColor=sC(l,e.strokeAnimation,s.retina.reduceFactor))}isEnabled(e){const s=e.strokeAnimation,{strokeColor:a}=e;return!e.destroyed&&!e.spawning&&!!s&&(a?.h.value!==void 0&&a.h.enable||a?.s.value!==void 0&&a.s.enable||a?.l.value!==void 0&&a.l.enable)}update(e,s){this.isEnabled(e)&&iC(e.strokeColor,s)}}async function $M(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",s=>Promise.resolve(new GM(s,t)),e)}async function YM(t,e=!0){t.checkVersion("3.9.1"),await A3(t,!1),await P4(t,!1),await $4(t,!1),await eA(t,!1),await uA(t,!1),await vA(t,!1),await wA(t,!1),await kA(t,!1),await OA(t,!1),await HA(t,!1),await QA(t,!1),await U3(t,!1),await G3(t,!1),await uM(t,!1),await T4(t,!1),await j4(t,!1),await v3(t,!1),await _3(t,!1),await wM(t,!1),await PM(t,!1),await HM(t,!1),await T3(t,!1),await jM(t,!1),await $M(t,!1),await R4(t,e)}function SC(t){var e,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(s=SC(t[e]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function QM(){for(var t,e,s=0,a="",r=arguments.length;s<r;s++)(t=arguments[s])&&(e=SC(t))&&(a&&(a+=" "),a+=e);return a}const WM=(t,e)=>{const s=new Array(t.length+e.length);for(let a=0;a<t.length;a++)s[a]=t[a];for(let a=0;a<e.length;a++)s[t.length+a]=e[a];return s},XM=(t,e)=>({classGroupId:t,validator:e}),CC=(t=new Map,e=null,s)=>({nextPart:t,validators:e,classGroupId:s}),Ju="-",s1=[],KM="arbitrary..",ZM=t=>{const e=e6(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return JM(c);const f=c.split(Ju),h=f[0]===""&&f.length>1?1:0;return wC(f,h,e)},getConflictingClassGroupIds:(c,f)=>{if(f){const h=a[c],m=s[c];return h?m?WM(m,h):h:m||s1}return s[c]||s1}}},wC=(t,e,s)=>{if(t.length-e===0)return s.classGroupId;const r=t[e],l=s.nextPart.get(r);if(l){const m=wC(t,e+1,l);if(m)return m}const c=s.validators;if(c===null)return;const f=e===0?t.join(Ju):t.slice(e).join(Ju),h=c.length;for(let m=0;m<h;m++){const g=c[m];if(g.validator(f))return g.classGroupId}},JM=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),s=e.indexOf(":"),a=e.slice(0,s);return a?KM+a:void 0})(),e6=t=>{const{theme:e,classGroups:s}=t;return t6(s,e)},t6=(t,e)=>{const s=CC();for(const a in t){const r=t[a];e0(r,s,a,e)}return s},e0=(t,e,s,a)=>{const r=t.length;for(let l=0;l<r;l++){const c=t[l];n6(c,e,s,a)}},n6=(t,e,s,a)=>{if(typeof t=="string"){s6(t,e,s);return}if(typeof t=="function"){i6(t,e,s,a);return}a6(t,e,s,a)},s6=(t,e,s)=>{const a=t===""?e:EC(e,t);a.classGroupId=s},i6=(t,e,s,a)=>{if(r6(t)){e0(t(a),e,s,a);return}e.validators===null&&(e.validators=[]),e.validators.push(XM(s,t))},a6=(t,e,s,a)=>{const r=Object.entries(t),l=r.length;for(let c=0;c<l;c++){const[f,h]=r[c];e0(h,EC(e,f),s,a)}},EC=(t,e)=>{let s=t;const a=e.split(Ju),r=a.length;for(let l=0;l<r;l++){const c=a[l];let f=s.nextPart.get(c);f||(f=CC(),s.nextPart.set(c,f)),s=f}return s},r6=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,o6=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=Object.create(null),a=Object.create(null);const r=(l,c)=>{s[l]=c,e++,e>t&&(e=0,a=s,s=Object.create(null))};return{get(l){let c=s[l];if(c!==void 0)return c;if((c=a[l])!==void 0)return r(l,c),c},set(l,c){l in s?s[l]=c:r(l,c)}}},tp="!",i1=":",l6=[],a1=(t,e,s,a,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:s,maybePostfixModifierPosition:a,isExternal:r}),c6=t=>{const{prefix:e,experimentalParseClassName:s}=t;let a=r=>{const l=[];let c=0,f=0,h=0,m;const g=r.length;for(let E=0;E<g;E++){const N=r[E];if(c===0&&f===0){if(N===i1){l.push(r.slice(h,E)),h=E+1;continue}if(N==="/"){m=E;continue}}N==="["?c++:N==="]"?c--:N==="("?f++:N===")"&&f--}const x=l.length===0?r:r.slice(h);let b=x,v=!1;x.endsWith(tp)?(b=x.slice(0,-1),v=!0):x.startsWith(tp)&&(b=x.slice(1),v=!0);const C=m&&m>h?m-h:void 0;return a1(l,v,b,C)};if(e){const r=e+i1,l=a;a=c=>c.startsWith(r)?l(c.slice(r.length)):a1(l6,!1,c,void 0,!0)}if(s){const r=a;a=l=>s({className:l,parseClassName:r})}return a},u6=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((s,a)=>{e.set(s,1e6+a)}),s=>{const a=[];let r=[];for(let l=0;l<s.length;l++){const c=s[l],f=c[0]==="[",h=e.has(c);f||h?(r.length>0&&(r.sort(),a.push(...r),r=[]),a.push(c)):r.push(c)}return r.length>0&&(r.sort(),a.push(...r)),a}},d6=t=>({cache:o6(t.cacheSize),parseClassName:c6(t),sortModifiers:u6(t),...ZM(t)}),f6=/\s+/,h6=(t,e)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:r,sortModifiers:l}=e,c=[],f=t.trim().split(f6);let h="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:x,modifiers:b,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:E}=s(g);if(x){h=g+(h.length>0?" "+h:h);continue}let N=!!E,R=a(N?C.substring(0,E):C);if(!R){if(!N){h=g+(h.length>0?" "+h:h);continue}if(R=a(C),!R){h=g+(h.length>0?" "+h:h);continue}N=!1}const D=b.length===0?"":b.length===1?b[0]:l(b).join(":"),j=v?D+tp:D,O=j+R;if(c.indexOf(O)>-1)continue;c.push(O);const k=r(R,N);for(let V=0;V<k.length;++V){const M=k[V];c.push(j+M)}h=g+(h.length>0?" "+h:h)}return h},m6=(...t)=>{let e=0,s,a,r="";for(;e<t.length;)(s=t[e++])&&(a=NC(s))&&(r&&(r+=" "),r+=a);return r},NC=t=>{if(typeof t=="string")return t;let e,s="";for(let a=0;a<t.length;a++)t[a]&&(e=NC(t[a]))&&(s&&(s+=" "),s+=e);return s},p6=(t,...e)=>{let s,a,r,l;const c=h=>{const m=e.reduce((g,x)=>x(g),t());return s=d6(m),a=s.cache.get,r=s.cache.set,l=f,f(h)},f=h=>{const m=a(h);if(m)return m;const g=h6(h,s);return r(h,g),g};return l=c,(...h)=>l(m6(...h))},g6=[],Nt=t=>{const e=s=>s[t]||g6;return e.isThemeGetter=!0,e},RC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y6=/^\d+\/\d+$/,x6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,S6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,C6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=t=>y6.test(t),Me=t=>!!t&&!Number.isNaN(Number(t)),Oi=t=>!!t&&Number.isInteger(Number(t)),bm=t=>t.endsWith("%")&&Me(t.slice(0,-1)),Ks=t=>x6.test(t),w6=()=>!0,E6=t=>b6.test(t)&&!v6.test(t),kC=()=>!1,N6=t=>S6.test(t),R6=t=>C6.test(t),T6=t=>!xe(t)&&!be(t),k6=t=>uo(t,_C,kC),xe=t=>RC.test(t),va=t=>uo(t,OC,E6),vm=t=>uo(t,A6,Me),r1=t=>uo(t,DC,kC),D6=t=>uo(t,jC,R6),wu=t=>uo(t,AC,N6),be=t=>TC.test(t),ml=t=>fo(t,OC),j6=t=>fo(t,M6),o1=t=>fo(t,DC),_6=t=>fo(t,_C),O6=t=>fo(t,jC),Eu=t=>fo(t,AC,!0),uo=(t,e,s)=>{const a=RC.exec(t);return a?a[1]?e(a[1]):s(a[2]):!1},fo=(t,e,s=!1)=>{const a=TC.exec(t);return a?a[1]?e(a[1]):s:!1},DC=t=>t==="position"||t==="percentage",jC=t=>t==="image"||t==="url",_C=t=>t==="length"||t==="size"||t==="bg-size",OC=t=>t==="length",A6=t=>t==="number",M6=t=>t==="family-name",AC=t=>t==="shadow",L6=()=>{const t=Nt("color"),e=Nt("font"),s=Nt("text"),a=Nt("font-weight"),r=Nt("tracking"),l=Nt("leading"),c=Nt("breakpoint"),f=Nt("container"),h=Nt("spacing"),m=Nt("radius"),g=Nt("shadow"),x=Nt("inset-shadow"),b=Nt("text-shadow"),v=Nt("drop-shadow"),C=Nt("blur"),E=Nt("perspective"),N=Nt("aspect"),R=Nt("ease"),D=Nt("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...O(),be,xe],V=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],_=()=>[be,xe,h],W=()=>[Mr,"full","auto",..._()],X=()=>[Oi,"none","subgrid",be,xe],ce=()=>["auto",{span:["full",Oi,be,xe]},Oi,be,xe],F=()=>[Oi,"auto",be,xe],Z=()=>["auto","min","max","fr",be,xe],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",..._()],G=()=>[Mr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],I=()=>[t,be,xe],ue=()=>[...O(),o1,r1,{position:[be,xe]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",_6,k6,{size:[be,xe]}],$=()=>[bm,ml,va],te=()=>["","none","full",m,be,xe],ae=()=>["",Me,ml,va],Ce=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Me,bm,o1,r1],Oe=()=>["","none",C,be,xe],Ae=()=>["none",Me,be,xe],Ht=()=>["none",Me,be,xe],cn=()=>[Me,be,xe],tn=()=>[Mr,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ks],breakpoint:[Ks],color:[w6],container:[Ks],"drop-shadow":[Ks],ease:["in","out","in-out"],font:[T6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ks],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ks],shadow:[Ks],spacing:["px",Me],text:[Ks],"text-shadow":[Ks],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mr,xe,be,N]}],container:["container"],columns:[{columns:[Me,xe,be,f]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Oi,"auto",be,xe]}],basis:[{basis:[Mr,"full","auto",f,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,Mr,"auto","initial","none",xe]}],grow:[{grow:["",Me,be,xe]}],shrink:[{shrink:["",Me,be,xe]}],order:[{order:[Oi,"first","last","none",be,xe]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[f,"screen",...G()]}],"min-w":[{"min-w":[f,"screen","none",...G()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",s,ml,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,be,vm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bm,xe]}],"font-family":[{font:[j6,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,be,xe]}],"line-clamp":[{"line-clamp":[Me,"none",be,vm]}],leading:[{leading:[l,..._()]}],"list-image":[{"list-image":["none",be,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",be,va]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Me,"auto",be,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oi,be,xe],radial:["",be,xe],conic:[Oi,be,xe]},O6,D6]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,be,xe]}],"outline-w":[{outline:["",Me,ml,va]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,Eu,wu]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",x,Eu,wu]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Me,va]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",b,Eu,wu]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Me,be,xe]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[be,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,xe]}],filter:[{filter:["","none",be,xe]}],blur:[{blur:Oe()}],brightness:[{brightness:[Me,be,xe]}],contrast:[{contrast:[Me,be,xe]}],"drop-shadow":[{"drop-shadow":["","none",v,Eu,wu]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Me,be,xe]}],"hue-rotate":[{"hue-rotate":[Me,be,xe]}],invert:[{invert:["",Me,be,xe]}],saturate:[{saturate:[Me,be,xe]}],sepia:[{sepia:["",Me,be,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",be,xe]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Me,be,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Me,be,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,be,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,be,xe]}],"backdrop-invert":[{"backdrop-invert":["",Me,be,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Me,be,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Me,be,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,be,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",be,xe]}],ease:[{ease:["linear","initial",R,be,xe]}],delay:[{delay:[Me,be,xe]}],animate:[{animate:["none",D,be,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,be,xe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:Ht()}],"scale-x":[{"scale-x":Ht()}],"scale-y":[{"scale-y":Ht()}],"scale-z":[{"scale-z":Ht()}],"scale-3d":["scale-3d"],skew:[{skew:cn()}],"skew-x":[{"skew-x":cn()}],"skew-y":[{"skew-y":cn()}],transform:[{transform:[be,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tn()}],"translate-x":[{"translate-x":tn()}],"translate-y":[{"translate-y":tn()}],"translate-z":[{"translate-z":tn()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,xe]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Me,ml,va,vm]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},U6=p6(L6);function l1(...t){return U6(QM(t))}const MC=w.createContext({});function LC(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const t0=typeof window<"u",UC=t0?w.useLayoutEffect:w.useEffect,n0=w.createContext(null);function s0(t,e){t.indexOf(e)===-1&&t.push(e)}function i0(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const ai=(t,e,s)=>s>e?e:s<t?t:s;let a0=()=>{};const ri={},PC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function zC(t){return typeof t=="object"&&t!==null}const IC=t=>/^0[^.\s]+$/u.test(t);function r0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wn=t=>t,P6=(t,e)=>s=>e(t(s)),Fl=(...t)=>t.reduce(P6),_l=(t,e,s)=>{const a=e-t;return a===0?1:(s-t)/a};class o0{constructor(){this.subscriptions=[]}add(e){return s0(this.subscriptions,e),()=>i0(this.subscriptions,e)}notify(e,s,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,a);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(e,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ns=t=>t*1e3,Qn=t=>t/1e3;function BC(t,e){return e?t*(1e3/e):0}const FC=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,z6=1e-7,I6=12;function B6(t,e,s,a,r){let l,c,f=0;do c=e+(s-e)/2,l=FC(c,a,r)-t,l>0?s=c:e=c;while(Math.abs(l)>z6&&++f<I6);return c}function Vl(t,e,s,a){if(t===e&&s===a)return Wn;const r=l=>B6(l,0,1,t,s);return l=>l===0||l===1?l:FC(r(l),e,a)}const VC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HC=t=>e=>1-t(1-e),qC=Vl(.33,1.53,.69,.99),l0=HC(qC),GC=VC(l0),$C=t=>(t*=2)<1?.5*l0(t):.5*(2-Math.pow(2,-10*(t-1))),c0=t=>1-Math.sin(Math.acos(t)),YC=HC(c0),QC=VC(c0),F6=Vl(.42,0,1,1),V6=Vl(0,0,.58,1),WC=Vl(.42,0,.58,1),H6=t=>Array.isArray(t)&&typeof t[0]!="number",XC=t=>Array.isArray(t)&&typeof t[0]=="number",q6={linear:Wn,easeIn:F6,easeInOut:WC,easeOut:V6,circIn:c0,circInOut:QC,circOut:YC,backIn:l0,backInOut:GC,backOut:qC,anticipate:$C},G6=t=>typeof t=="string",c1=t=>{if(XC(t)){a0(t.length===4);const[e,s,a,r]=t;return Vl(e,s,a,r)}else if(G6(t))return q6[t];return t},Nu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $6(t,e){let s=new Set,a=new Set,r=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(m.schedule(g),t()),g(f)}const m={schedule:(g,x=!1,b=!1)=>{const C=b&&r?s:a;return x&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(f=g,r){l=!0;return}r=!0,[s,a]=[a,s],s.forEach(h),s.clear(),r=!1,l&&(l=!1,m.process(g))}};return m}const Y6=40;function KC(t,e){let s=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=Nu.reduce((j,O)=>(j[O]=$6(l),j),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:g,update:x,preRender:b,render:v,postRender:C}=c,E=()=>{const j=ri.useManualTiming?r.timestamp:performance.now();s=!1,ri.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(j-r.timestamp,Y6),1)),r.timestamp=j,r.isProcessing=!0,f.process(r),h.process(r),m.process(r),g.process(r),x.process(r),b.process(r),v.process(r),C.process(r),r.isProcessing=!1,s&&e&&(a=!1,t(E))},N=()=>{s=!0,a=!0,r.isProcessing||t(E)};return{schedule:Nu.reduce((j,O)=>{const k=c[O];return j[O]=(V,M=!1,_=!1)=>(s||N(),k.schedule(V,M,_)),j},{}),cancel:j=>{for(let O=0;O<Nu.length;O++)c[Nu[O]].cancel(j)},state:r,steps:c}}const{schedule:it,cancel:qi,state:Ft,steps:Sm}=KC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wn,!0);let Uu;function Q6(){Uu=void 0}const xn={now:()=>(Uu===void 0&&xn.set(Ft.isProcessing||ri.useManualTiming?Ft.timestamp:performance.now()),Uu),set:t=>{Uu=t,queueMicrotask(Q6)}},ZC=t=>e=>typeof e=="string"&&e.startsWith(t),JC=ZC("--"),W6=ZC("var(--"),u0=t=>W6(t)?X6.test(t.split("/*")[0].trim()):!1,X6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ol={...ho,transform:t=>ai(0,1,t)},Ru={...ho,default:1},vl=t=>Math.round(t*1e5)/1e5,d0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function K6(t){return t==null}const Z6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f0=(t,e)=>s=>!!(typeof s=="string"&&Z6.test(s)&&s.startsWith(t)||e&&!K6(s)&&Object.prototype.hasOwnProperty.call(s,e)),ew=(t,e,s)=>a=>{if(typeof a!="string")return a;const[r,l,c,f]=a.match(d0);return{[t]:parseFloat(r),[e]:parseFloat(l),[s]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},J6=t=>ai(0,255,t),Cm={...ho,transform:t=>Math.round(J6(t))},ka={test:f0("rgb","red"),parse:ew("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:a=1})=>"rgba("+Cm.transform(t)+", "+Cm.transform(e)+", "+Cm.transform(s)+", "+vl(Ol.transform(a))+")"};function eL(t){let e="",s="",a="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),a=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),a=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,a+=a,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const np={test:f0("#"),parse:eL,transform:ka.transform},Hl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Mi=Hl("deg"),Rs=Hl("%"),Te=Hl("px"),tL=Hl("vh"),nL=Hl("vw"),u1={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},Ir={test:f0("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:a=1})=>"hsla("+Math.round(t)+", "+Rs.transform(vl(e))+", "+Rs.transform(vl(s))+", "+vl(Ol.transform(a))+")"},vt={test:t=>ka.test(t)||np.test(t)||Ir.test(t),parse:t=>ka.test(t)?ka.parse(t):Ir.test(t)?Ir.parse(t):np.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ka.transform(t):Ir.transform(t),getAnimatableNone:t=>{const e=vt.parse(t);return e.alpha=0,vt.transform(e)}},sL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iL(t){return isNaN(t)&&typeof t=="string"&&(t.match(d0)?.length||0)+(t.match(sL)?.length||0)>0}const tw="number",nw="color",aL="var",rL="var(",d1="${}",oL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Al(t){const e=t.toString(),s=[],a={color:[],number:[],var:[]},r=[];let l=0;const f=e.replace(oL,h=>(vt.test(h)?(a.color.push(l),r.push(nw),s.push(vt.parse(h))):h.startsWith(rL)?(a.var.push(l),r.push(aL),s.push(h)):(a.number.push(l),r.push(tw),s.push(parseFloat(h))),++l,d1)).split(d1);return{values:s,split:f,indexes:a,types:r}}function sw(t){return Al(t).values}function iw(t){const{split:e,types:s}=Al(t),a=e.length;return r=>{let l="";for(let c=0;c<a;c++)if(l+=e[c],r[c]!==void 0){const f=s[c];f===tw?l+=vl(r[c]):f===nw?l+=vt.transform(r[c]):l+=r[c]}return l}}const lL=t=>typeof t=="number"?0:vt.test(t)?vt.getAnimatableNone(t):t;function cL(t){const e=sw(t);return iw(t)(e.map(lL))}const Gi={test:iL,parse:sw,createTransformer:iw,getAnimatableNone:cL};function wm(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function uL({hue:t,saturation:e,lightness:s,alpha:a}){t/=360,e/=100,s/=100;let r=0,l=0,c=0;if(!e)r=l=c=s;else{const f=s<.5?s*(1+e):s+e-s*e,h=2*s-f;r=wm(h,f,t+1/3),l=wm(h,f,t),c=wm(h,f,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function ed(t,e){return s=>s>0?e:t}const ot=(t,e,s)=>t+(e-t)*s,Em=(t,e,s)=>{const a=t*t,r=s*(e*e-a)+a;return r<0?0:Math.sqrt(r)},dL=[np,ka,Ir],fL=t=>dL.find(e=>e.test(t));function f1(t){const e=fL(t);if(!e)return!1;let s=e.parse(t);return e===Ir&&(s=uL(s)),s}const h1=(t,e)=>{const s=f1(t),a=f1(e);if(!s||!a)return ed(t,e);const r={...s};return l=>(r.red=Em(s.red,a.red,l),r.green=Em(s.green,a.green,l),r.blue=Em(s.blue,a.blue,l),r.alpha=ot(s.alpha,a.alpha,l),ka.transform(r))},sp=new Set(["none","hidden"]);function hL(t,e){return sp.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function mL(t,e){return s=>ot(t,e,s)}function h0(t){return typeof t=="number"?mL:typeof t=="string"?u0(t)?ed:vt.test(t)?h1:yL:Array.isArray(t)?aw:typeof t=="object"?vt.test(t)?h1:pL:ed}function aw(t,e){const s=[...t],a=s.length,r=t.map((l,c)=>h0(l)(l,e[c]));return l=>{for(let c=0;c<a;c++)s[c]=r[c](l);return s}}function pL(t,e){const s={...t,...e},a={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(a[r]=h0(t[r])(t[r],e[r]));return r=>{for(const l in a)s[l]=a[l](r);return s}}function gL(t,e){const s=[],a={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const l=e.types[r],c=t.indexes[l][a[l]],f=t.values[c]??0;s[r]=f,a[l]++}return s}const yL=(t,e)=>{const s=Gi.createTransformer(e),a=Al(t),r=Al(e);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?sp.has(t)&&!r.values.length||sp.has(e)&&!a.values.length?hL(t,e):Fl(aw(gL(a,r),r.values),s):ed(t,e)};function rw(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ot(t,e,s):h0(t)(t,e)}const xL=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>it.update(e,s),stop:()=>qi(e),now:()=>Ft.isProcessing?Ft.timestamp:xn.now()}},ow=(t,e,s=10)=>{let a="";const r=Math.max(Math.round(e/s),2);for(let l=0;l<r;l++)a+=Math.round(t(l/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},td=2e4;function m0(t){let e=0;const s=50;let a=t.next(e);for(;!a.done&&e<td;)e+=s,a=t.next(e);return e>=td?1/0:e}function bL(t,e=100,s){const a=s({...t,keyframes:[0,e]}),r=Math.min(m0(a),td);return{type:"keyframes",ease:l=>a.next(r*l).value/e,duration:Qn(r)}}const vL=5;function lw(t,e,s){const a=Math.max(e-vL,0);return BC(s-t(a),e-a)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nm=.001;function SL({duration:t=ft.duration,bounce:e=ft.bounce,velocity:s=ft.velocity,mass:a=ft.mass}){let r,l,c=1-e;c=ai(ft.minDamping,ft.maxDamping,c),t=ai(ft.minDuration,ft.maxDuration,Qn(t)),c<1?(r=m=>{const g=m*c,x=g*t,b=g-s,v=ip(m,c),C=Math.exp(-x);return Nm-b/v*C},l=m=>{const x=m*c*t,b=x*s+s,v=Math.pow(c,2)*Math.pow(m,2)*t,C=Math.exp(-x),E=ip(Math.pow(m,2),c);return(-r(m)+Nm>0?-1:1)*((b-v)*C)/E}):(r=m=>{const g=Math.exp(-m*t),x=(m-s)*t+1;return-Nm+g*x},l=m=>{const g=Math.exp(-m*t),x=(s-m)*(t*t);return g*x});const f=5/t,h=wL(r,l,f);if(t=Ns(t),isNaN(h))return{stiffness:ft.stiffness,damping:ft.damping,duration:t};{const m=Math.pow(h,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:t}}}const CL=12;function wL(t,e,s){let a=s;for(let r=1;r<CL;r++)a=a-t(a)/e(a);return a}function ip(t,e){return t*Math.sqrt(1-e*e)}const EL=["duration","bounce"],NL=["stiffness","damping","mass"];function m1(t,e){return e.some(s=>t[s]!==void 0)}function RL(t){let e={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...t};if(!m1(t,NL)&&m1(t,EL))if(t.visualDuration){const s=t.visualDuration,a=2*Math.PI/(s*1.2),r=a*a,l=2*ai(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:ft.mass,stiffness:r,damping:l}}else{const s=SL(t);e={...e,...s,mass:ft.mass},e.isResolvedFromDuration=!0}return e}function nd(t=ft.visualDuration,e=ft.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:r}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],f={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:x,velocity:b,isResolvedFromDuration:v}=RL({...s,velocity:-Qn(s.velocity||0)}),C=b||0,E=m/(2*Math.sqrt(h*g)),N=c-l,R=Qn(Math.sqrt(h/g)),D=Math.abs(N)<5;a||(a=D?ft.restSpeed.granular:ft.restSpeed.default),r||(r=D?ft.restDelta.granular:ft.restDelta.default);let j;if(E<1){const k=ip(R,E);j=V=>{const M=Math.exp(-E*R*V);return c-M*((C+E*R*N)/k*Math.sin(k*V)+N*Math.cos(k*V))}}else if(E===1)j=k=>c-Math.exp(-R*k)*(N+(C+R*N)*k);else{const k=R*Math.sqrt(E*E-1);j=V=>{const M=Math.exp(-E*R*V),_=Math.min(k*V,300);return c-M*((C+E*R*N)*Math.sinh(_)+k*N*Math.cosh(_))/k}}const O={calculatedDuration:v&&x||null,next:k=>{const V=j(k);if(v)f.done=k>=x;else{let M=k===0?C:0;E<1&&(M=k===0?Ns(C):lw(j,k,V));const _=Math.abs(M)<=a,W=Math.abs(c-V)<=r;f.done=_&&W}return f.value=f.done?c:V,f},toString:()=>{const k=Math.min(m0(O),td),V=ow(M=>O.next(k*M).value,k,30);return k+"ms "+V},toTransition:()=>{}};return O}nd.applyToOptions=t=>{const e=bL(t,100,nd);return t.ease=e.ease,t.duration=Ns(e.duration),t.type="keyframes",t};function ap({keyframes:t,velocity:e=0,power:s=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:h,restDelta:m=.5,restSpeed:g}){const x=t[0],b={done:!1,value:x},v=_=>f!==void 0&&_<f||h!==void 0&&_>h,C=_=>f===void 0?h:h===void 0||Math.abs(f-_)<Math.abs(h-_)?f:h;let E=s*e;const N=x+E,R=c===void 0?N:c(N);R!==N&&(E=R-x);const D=_=>-E*Math.exp(-_/a),j=_=>R+D(_),O=_=>{const W=D(_),X=j(_);b.done=Math.abs(W)<=m,b.value=b.done?R:X};let k,V;const M=_=>{v(b.value)&&(k=_,V=nd({keyframes:[b.value,C(b.value)],velocity:lw(j,_,b.value),damping:r,stiffness:l,restDelta:m,restSpeed:g}))};return M(0),{calculatedDuration:null,next:_=>{let W=!1;return!V&&k===void 0&&(W=!0,O(_),M(_)),k!==void 0&&_>=k?V.next(_-k):(!W&&O(_),b)}}}function TL(t,e,s){const a=[],r=s||ri.mix||rw,l=t.length-1;for(let c=0;c<l;c++){let f=r(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Wn:e;f=Fl(h,f)}a.push(f)}return a}function kL(t,e,{clamp:s=!0,ease:a,mixer:r}={}){const l=t.length;if(a0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=TL(e,a,r),h=f.length,m=g=>{if(c&&g<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const b=_l(t[x],t[x+1],g);return f[x](b)};return s?g=>m(ai(t[0],t[l-1],g)):m}function DL(t,e){const s=t[t.length-1];for(let a=1;a<=e;a++){const r=_l(0,e,a);t.push(ot(s,1,r))}}function jL(t){const e=[0];return DL(e,t.length-1),e}function _L(t,e){return t.map(s=>s*e)}function OL(t,e){return t.map(()=>e||WC).splice(0,t.length-1)}function Sl({duration:t=300,keyframes:e,times:s,ease:a="easeInOut"}){const r=H6(a)?a.map(c1):c1(a),l={done:!1,value:e[0]},c=_L(s&&s.length===e.length?s:jL(e),t),f=kL(c,e,{ease:Array.isArray(r)?r:OL(e,r)});return{calculatedDuration:t,next:h=>(l.value=f(h),l.done=h>=t,l)}}const AL=t=>t!==null;function p0(t,{repeat:e,repeatType:s="loop"},a,r=1){const l=t.filter(AL),f=r<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!f||a===void 0?l[f]:a}const ML={decay:ap,inertia:ap,tween:Sl,keyframes:Sl,spring:nd};function cw(t){typeof t.type=="string"&&(t.type=ML[t.type])}class g0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const LL=t=>t/100;class y0 extends g0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cw(e);const{type:s=Sl,repeat:a=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const h=s||Sl;h!==Sl&&typeof f[0]!="number"&&(this.mixKeyframes=Fl(LL,rw(f[0],f[1])),f=[0,100]);const m=h({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=m0(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=m}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:a,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:b,repeatDelay:v,type:C,onUpdate:E,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const R=this.currentTime-m*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?R<0:R>r;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let j=this.currentTime,O=a;if(x){const _=Math.min(this.currentTime,r)/f;let W=Math.floor(_),X=_%1;!X&&_>=1&&(X=1),X===1&&W--,W=Math.min(W,x+1),!!(W%2)&&(b==="reverse"?(X=1-X,v&&(X-=v/f)):b==="mirror"&&(O=c)),j=ai(0,1,X)*f}const k=D?{done:!1,value:g[0]}:O.next(j);l&&(k.value=l(k.value));let{done:V}=k;!D&&h!==null&&(V=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return M&&C!==ap&&(k.value=p0(g,this.options,N,this.speed)),E&&E(k.value),M&&this.finish(),k}then(e,s){return this.finished.then(e,s)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qn(e)}get time(){return Qn(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xL,startTime:s}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Da=t=>t*180/Math.PI,rp=t=>{const e=Da(Math.atan2(t[1],t[0]));return op(e)},PL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rp,rotateZ:rp,skewX:t=>Da(Math.atan(t[1])),skewY:t=>Da(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},op=t=>(t=t%360,t<0&&(t+=360),t),p1=rp,g1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),y1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:g1,scaleY:y1,scale:t=>(g1(t)+y1(t))/2,rotateX:t=>op(Da(Math.atan2(t[6],t[5]))),rotateY:t=>op(Da(Math.atan2(-t[2],t[0]))),rotateZ:p1,rotate:p1,skewX:t=>Da(Math.atan(t[4])),skewY:t=>Da(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lp(t){return t.includes("scale")?1:0}function cp(t,e){if(!t||t==="none")return lp(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(s)a=zL,r=s;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=PL,r=f}if(!r)return lp(e);const l=a[e],c=r[1].split(",").map(BL);return typeof l=="function"?l(c):c[l]}const IL=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return cp(s,e)};function BL(t){return parseFloat(t.trim())}const mo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],po=new Set(mo),x1=t=>t===ho||t===Te,FL=new Set(["x","y","z"]),VL=mo.filter(t=>!FL.has(t));function HL(t){const e=[];return VL.forEach(s=>{const a=t.getValue(s);a!==void 0&&(e.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),e}const _a={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cp(e,"x"),y:(t,{transform:e})=>cp(e,"y")};_a.translateX=_a.x;_a.translateY=_a.y;const Oa=new Set;let up=!1,dp=!1,fp=!1;function uw(){if(dp){const t=Array.from(Oa).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),s=new Map;e.forEach(a=>{const r=HL(a);r.length&&(s.set(a,r),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const r=s.get(a);r&&r.forEach(([l,c])=>{a.getValue(l)?.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}dp=!1,up=!1,Oa.forEach(t=>t.complete(fp)),Oa.clear()}function dw(){Oa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dp=!0)})}function qL(){fp=!0,dw(),uw(),fp=!1}class x0{constructor(e,s,a,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=a,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Oa.add(this),up||(up=!0,it.read(dw),it.resolveKeyframes(uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:a,motionValue:r}=this;if(e[0]===null){const l=r?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(a&&s){const f=a.readValue(s,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),r&&l===void 0&&r.set(e[0])}UL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Oa.delete(this)}cancel(){this.state==="scheduled"&&(Oa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GL=t=>t.startsWith("--");function $L(t,e,s){GL(e)?t.style.setProperty(e,s):t.style[e]=s}const YL=r0(()=>window.ScrollTimeline!==void 0),QL={};function WL(t,e){const s=r0(t);return()=>QL[e]??s()}const fw=WL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xl=([t,e,s,a])=>`cubic-bezier(${t}, ${e}, ${s}, ${a})`,b1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xl([0,.65,.55,1]),circOut:xl([.55,0,1,.45]),backIn:xl([.31,.01,.66,-.59]),backOut:xl([.33,1.53,.69,.99])};function hw(t,e){if(t)return typeof t=="function"?fw()?ow(t,e):"ease-out":XC(t)?xl(t):Array.isArray(t)?t.map(s=>hw(s,e)||b1.easeOut):b1[t]}function XL(t,e,s,{delay:a=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:h}={},m=void 0){const g={[e]:s};h&&(g.offset=h);const x=hw(f,r);Array.isArray(x)&&(g.easing=x);const b={delay:a,duration:r,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(g,b)}function mw(t){return typeof t=="function"&&"applyToOptions"in t}function KL({type:t,...e}){return mw(t)&&fw()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ZL extends g0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:a,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,a0(typeof e.type!="string");const m=KL(e);this.animation=XL(s,a,r,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=p0(r,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):$L(s,a,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qn(e)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YL()?(this.animation.timeline=e,Wn):s(this)}}const pw={anticipate:$C,backInOut:GC,circInOut:QC};function JL(t){return t in pw}function eU(t){typeof t.ease=="string"&&JL(t.ease)&&(t.ease=pw[t.ease])}const v1=10;class tU extends ZL{constructor(e){eU(e),cw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:a,onComplete:r,element:l,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const f=new y0({...c,autoplay:!1}),h=Ns(this.finishedTime??this.time);s.setWithVelocity(f.sample(h-v1).value,f.sample(h).value,v1),f.stop()}}const S1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function nU(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function sU(t,e,s,a){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=S1(r,e),f=S1(l,e);return!c||!f?!1:nU(t)||(s==="spring"||mw(s))&&a}function hp(t){t.duration=0,t.type="keyframes"}const iU=new Set(["opacity","clipPath","filter","transform"]),aU=r0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rU(t){const{motionValue:e,name:s,repeatDelay:a,repeatType:r,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return aU()&&s&&iU.has(s)&&(s!=="transform"||!m)&&!h&&!a&&r!=="mirror"&&l!==0&&c!=="inertia"}const oU=40;class lU extends g0{constructor({autoplay:e=!0,delay:s=0,type:a="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:h,motionValue:m,element:g,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const b={autoplay:e,delay:s,type:a,repeat:r,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...x},v=g?.KeyframeResolver||x0;this.keyframeResolver=new v(f,(C,E,N)=>this.onKeyframesResolved(C,E,b,!N),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,a,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:h,isHandoff:m,onUpdate:g}=a;this.resolvedAt=xn.now(),sU(e,l,c,f)||((ri.instantAnimations||!h)&&g?.(p0(e,a,s)),e[0]=e[e.length-1],hp(a),a.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>oU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:e},v=!m&&rU(b)?new tU({...b,element:b.motionValue.owner.current}):new y0(b);v.finished.then(()=>this.notifyFinished()).catch(Wn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const cU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uU(t){const e=cU.exec(t);if(!e)return[,];const[,s,a,r]=e;return[`--${s??a}`,r]}function gw(t,e,s=1){const[a,r]=uU(t);if(!a)return;const l=window.getComputedStyle(e).getPropertyValue(a);if(l){const c=l.trim();return PC(c)?parseFloat(c):c}return u0(r)?gw(r,e,s+1):r}function b0(t,e){return t?.[e]??t?.default??t}const yw=new Set(["width","height","top","left","right","bottom",...mo]),dU={test:t=>t==="auto",parse:t=>t},xw=t=>e=>e.test(t),bw=[ho,Te,Rs,Mi,nL,tL,dU],C1=t=>bw.find(xw(t));function fU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||IC(t):!0}const hU=new Set(["brightness","contrast","saturate","opacity"]);function mU(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=s.match(d0)||[];if(!a)return t;const r=s.replace(a,"");let l=hU.has(e)?1:0;return a!==s&&(l*=100),e+"("+l+r+")"}const pU=/\b([a-z-]*)\(.*?\)/gu,mp={...Gi,getAnimatableNone:t=>{const e=t.match(pU);return e?e.map(mU).join(" "):t}},w1={...ho,transform:Math.round},gU={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:Mi,skewX:Mi,skewY:Mi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ol,originX:u1,originY:u1,originZ:Te},v0={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...gU,zIndex:w1,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:w1},yU={...v0,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:mp,WebkitFilter:mp},vw=t=>yU[t];function Sw(t,e){let s=vw(t);return s!==mp&&(s=Gi),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const xU=new Set(["auto","none","0"]);function bU(t,e,s){let a=0,r;for(;a<t.length&&!r;){const l=t[a];typeof l=="string"&&!xU.has(l)&&Al(l).values.length&&(r=t[a]),a++}if(r&&s)for(const l of e)t[l]=Sw(s,r)}class vU extends x0{constructor(e,s,a,r,l){super(e,s,a,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),u0(m))){const g=gw(m,s.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!yw.has(a)||e.length!==2)return;const[r,l]=e,c=C1(r),f=C1(l);if(c!==f)if(x1(c)&&x1(f))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else _a[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,a=[];for(let r=0;r<e.length;r++)(e[r]===null||fU(e[r]))&&a.push(r);a.length&&bU(e,a,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[a](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(a,r).jump(r,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=_a[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,h])=>{e.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function SU(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const r=s?.[t]??a.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Cw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function CU(t){return zC(t)&&"offsetHeight"in t}const E1=30,wU=t=>!isNaN(parseFloat(t));class EU{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const r=xn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new o0);const a=this.events[e].add(s);return e==="change"?()=>{a(),it.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>E1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,E1);return BC(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function so(t,e){return new EU(t,e)}const{schedule:S0}=KC(queueMicrotask,!1),is={x:!1,y:!1};function ww(){return is.x||is.y}function NU(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function Ew(t,e){const s=SU(t),a=new AbortController,r={passive:!0,...e,signal:a.signal};return[s,r,()=>a.abort()]}function N1(t){return!(t.pointerType==="touch"||ww())}function RU(t,e,s={}){const[a,r,l]=Ew(t,s),c=f=>{if(!N1(f))return;const{target:h}=f,m=e(h,f);if(typeof m!="function"||!h)return;const g=x=>{N1(x)&&(m(x),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,r)};return a.forEach(f=>{f.addEventListener("pointerenter",c,r)}),l}const Nw=(t,e)=>e?t===e?!0:Nw(t,e.parentElement):!1,C0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kU(t){return TU.has(t.tagName)||t.tabIndex!==-1}const Pu=new WeakSet;function R1(t){return e=>{e.key==="Enter"&&t(e)}}function Rm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DU=(t,e)=>{const s=t.currentTarget;if(!s)return;const a=R1(()=>{if(Pu.has(s))return;Rm(s,"down");const r=R1(()=>{Rm(s,"up")}),l=()=>Rm(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",a,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),e)};function T1(t){return C0(t)&&!ww()}function jU(t,e,s={}){const[a,r,l]=Ew(t,s),c=f=>{const h=f.currentTarget;if(!T1(f))return;Pu.add(h);const m=e(h,f),g=(v,C)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),Pu.has(h)&&Pu.delete(h),T1(v)&&typeof m=="function"&&m(v,{success:C})},x=v=>{g(v,h===window||h===document||s.useGlobalTarget||Nw(h,v.target))},b=v=>{g(v,!1)};window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",b,r)};return a.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",c,r),CU(f)&&(f.addEventListener("focus",m=>DU(m,r)),!kU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function Rw(t){return zC(t)&&"ownerSVGElement"in t}function _U(t){return Rw(t)&&t.tagName==="svg"}const Kt=t=>!!(t&&t.getVelocity),OU=[...bw,vt,Gi],AU=t=>OU.find(xw(t)),Tw=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function MU(t=!0){const e=w.useContext(n0);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:r}=e,l=w.useId();w.useEffect(()=>{if(t)return r(l)},[t]);const c=w.useCallback(()=>t&&a&&a(l),[l,a,t]);return!s&&a?[!1,c]:[!0]}const kw=w.createContext({strict:!1}),k1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},io={};for(const t in k1)io[t]={isEnabled:e=>k1[t].some(s=>!!e[s])};function LU(t){for(const e in t)io[e]={...io[e],...t[e]}}const UU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UU.has(t)}let Dw=t=>!sd(t);function PU(t){typeof t=="function"&&(Dw=e=>e.startsWith("on")?!sd(e):t(e))}try{PU(require("@emotion/is-prop-valid").default)}catch{}function zU(t,e,s){const a={};for(const r in t)r==="values"&&typeof t.values=="object"||(Dw(r)||s===!0&&sd(r)||!e&&!sd(r)||t.draggable&&r.startsWith("onDrag"))&&(a[r]=t[r]);return a}const vd=w.createContext({});function Sd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ml(t){return typeof t=="string"||Array.isArray(t)}const w0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E0=["initial",...w0];function Cd(t){return Sd(t.animate)||E0.some(e=>Ml(t[e]))}function jw(t){return!!(Cd(t)||t.variants)}function IU(t,e){if(Cd(t)){const{initial:s,animate:a}=t;return{initial:s===!1||Ml(s)?s:void 0,animate:Ml(a)?a:void 0}}return t.inherit!==!1?e:{}}function BU(t){const{initial:e,animate:s}=IU(t,w.useContext(vd));return w.useMemo(()=>({initial:e,animate:s}),[D1(e),D1(s)])}function D1(t){return Array.isArray(t)?t.join(" "):t}function j1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const s=j1(t,e.target.x),a=j1(t,e.target.y);return`${s}% ${a}%`}},FU={correct:(t,{treeScale:e,projectionDelta:s})=>{const a=t,r=Gi.parse(t);if(r.length>5)return a;const l=Gi.createTransformer(t),c=typeof r[0]!="number"?1:0,f=s.x.scale*e.x,h=s.y.scale*e.y;r[0+c]/=f,r[1+c]/=h;const m=ot(f,h,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),l(r)}},pp={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:FU};function _w(t,{layout:e,layoutId:s}){return po.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!pp[t]||t==="opacity")}const VU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HU=mo.length;function qU(t,e,s){let a="",r=!0;for(let l=0;l<HU;l++){const c=mo[l],f=t[c];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(c.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||s){const m=Cw(f,v0[c]);if(!h){r=!1;const g=VU[c]||c;a+=`${g}(${m}) `}s&&(e[c]=m)}}return a=a.trim(),s?a=s(e,r?"":a):r&&(a="none"),a}function N0(t,e,s){const{style:a,vars:r,transformOrigin:l}=t;let c=!1,f=!1;for(const h in e){const m=e[h];if(po.has(h)){c=!0;continue}else if(JC(h)){r[h]=m;continue}else{const g=Cw(m,v0[h]);h.startsWith("origin")?(f=!0,l[h]=g):a[h]=g}}if(e.transform||(c||s?a.transform=qU(e,t.transform,s):a.transform&&(a.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;a.transformOrigin=`${h} ${m} ${g}`}}const R0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ow(t,e,s){for(const a in e)!Kt(e[a])&&!_w(a,s)&&(t[a]=e[a])}function GU({transformTemplate:t},e){return w.useMemo(()=>{const s=R0();return N0(s,e,t),Object.assign({},s.vars,s.style)},[e])}function $U(t,e){const s=t.style||{},a={};return Ow(a,s,t),Object.assign(a,GU(t,e)),a}function YU(t,e){const s={},a=$U(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=a,s}const QU={offset:"stroke-dashoffset",array:"stroke-dasharray"},WU={offset:"strokeDashoffset",array:"strokeDasharray"};function XU(t,e,s=1,a=0,r=!0){t.pathLength=1;const l=r?QU:WU;t[l.offset]=Te.transform(-a);const c=Te.transform(e),f=Te.transform(s);t[l.array]=`${c} ${f}`}function Aw(t,{attrX:e,attrY:s,attrScale:a,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...f},h,m,g){if(N0(t,f,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b}=t;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),a!==void 0&&(x.scale=a),r!==void 0&&XU(x,r,l,c,!1)}const Mw=()=>({...R0(),attrs:{}}),Lw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KU(t,e,s,a){const r=w.useMemo(()=>{const l=Mw();return Aw(l,e,Lw(a),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Ow(l,t.style,t),r.style={...l,...r.style}}return r}const ZU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T0(t){return typeof t!="string"||t.includes("-")?!1:!!(ZU.indexOf(t)>-1||/[A-Z]/u.test(t))}function JU(t,e,s,{latestValues:a},r,l=!1){const f=(T0(t)?KU:YU)(e,a,r,t),h=zU(e,typeof t=="string",l),m=t!==w.Fragment?{...h,...f,ref:s}:{},{children:g}=e,x=w.useMemo(()=>Kt(g)?g.get():g,[g]);return w.createElement(t,{...m,children:x})}function _1(t){const e=[{},{}];return t?.values.forEach((s,a)=>{e[0][a]=s.get(),e[1][a]=s.getVelocity()}),e}function k0(t,e,s,a){if(typeof e=="function"){const[r,l]=_1(a);e=e(s!==void 0?s:t.custom,r,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,l]=_1(a);e=e(s!==void 0?s:t.custom,r,l)}return e}function zu(t){return Kt(t)?t.get():t}function eP({scrapeMotionValuesFromProps:t,createRenderState:e},s,a,r){return{latestValues:tP(s,a,r,t),renderState:e()}}function tP(t,e,s,a){const r={},l=a(t,{});for(const b in l)r[b]=zu(l[b]);let{initial:c,animate:f}=t;const h=Cd(t),m=jw(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=s?s.initial===!1:!1;g=g||c===!1;const x=g?f:c;if(x&&typeof x!="boolean"&&!Sd(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const C=k0(t,b[v]);if(C){const{transitionEnd:E,transition:N,...R}=C;for(const D in R){let j=R[D];if(Array.isArray(j)){const O=g?j.length-1:0;j=j[O]}j!==null&&(r[D]=j)}for(const D in E)r[D]=E[D]}}}return r}const Uw=t=>(e,s)=>{const a=w.useContext(vd),r=w.useContext(n0),l=()=>eP(t,e,a,r);return s?l():LC(l)};function D0(t,e,s){const{style:a}=t,r={};for(const l in a)(Kt(a[l])||e.style&&Kt(e.style[l])||_w(l,t)||s?.getValue(l)?.liveStyle!==void 0)&&(r[l]=a[l]);return r}const nP=Uw({scrapeMotionValuesFromProps:D0,createRenderState:R0});function Pw(t,e,s){const a=D0(t,e,s);for(const r in t)if(Kt(t[r])||Kt(e[r])){const l=mo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[l]=t[r]}return a}const sP=Uw({scrapeMotionValuesFromProps:Pw,createRenderState:Mw}),iP=Symbol.for("motionComponentSymbol");function Br(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aP(t,e,s){return w.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),s&&(typeof s=="function"?s(a):Br(s)&&(s.current=a))},[e])}const j0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rP="framerAppearId",zw="data-"+j0(rP),Iw=w.createContext({});function oP(t,e,s,a,r){const{visualElement:l}=w.useContext(vd),c=w.useContext(kw),f=w.useContext(n0),h=w.useContext(Tw).reducedMotion,m=w.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(t,{visualState:e,parent:l,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,x=w.useContext(Iw);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&lP(m.current,s,r,x);const b=w.useRef(!1);w.useInsertionEffect(()=>{g&&b.current&&g.update(s,f)});const v=s[zw],C=w.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return UC(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),w.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),C.current=!1),g.enteringChildren=void 0)}),g}function lP(t,e,s,a){const{layoutId:r,layout:l,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Bw(t.parent)),t.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||f&&Br(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:h,layoutRoot:m})}function Bw(t){if(t)return t.options.allowProjection!==!1?t.projection:Bw(t.parent)}function Tm(t,{forwardMotionProps:e=!1}={},s,a){s&&LU(s);const r=T0(t)?sP:nP;function l(f,h){let m;const g={...w.useContext(Tw),...f,layoutId:cP(f)},{isStatic:x}=g,b=BU(f),v=r(f,x);if(!x&&t0){uP();const C=dP(g);m=C.MeasureLayout,b.visualElement=oP(t,v,g,a,C.ProjectionNode)}return u.jsxs(vd.Provider,{value:b,children:[m&&b.visualElement?u.jsx(m,{visualElement:b.visualElement,...g}):null,JU(t,f,aP(v,b.visualElement,h),v,x,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=w.forwardRef(l);return c[iP]=t,c}function cP({layoutId:t}){const e=w.useContext(MC).id;return e&&t!==void 0?e+"-"+t:t}function uP(t,e){w.useContext(kw).strict}function dP(t){const{drag:e,layout:s}=io;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function fP(t,e){if(typeof Proxy>"u")return Tm;const s=new Map,a=(l,c)=>Tm(l,c,t,e),r=(l,c)=>a(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?a:(s.has(c)||s.set(c,Tm(c,void 0,t,e)),s.get(c))})}function Fw({top:t,left:e,right:s,bottom:a}){return{x:{min:e,max:s},y:{min:t,max:a}}}function hP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mP(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function km(t){return t===void 0||t===1}function gp({scale:t,scaleX:e,scaleY:s}){return!km(t)||!km(e)||!km(s)}function Ca(t){return gp(t)||Vw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vw(t){return O1(t.x)||O1(t.y)}function O1(t){return t&&t!=="0%"}function id(t,e,s){const a=t-s,r=e*a;return s+r}function A1(t,e,s,a,r){return r!==void 0&&(t=id(t,r,a)),id(t,s,a)+e}function yp(t,e=0,s=1,a,r){t.min=A1(t.min,e,s,a,r),t.max=A1(t.max,e,s,a,r)}function Hw(t,{x:e,y:s}){yp(t.x,e.translate,e.scale,e.originPoint),yp(t.y,s.translate,s.scale,s.originPoint)}const M1=.999999999999,L1=1.0000000000001;function pP(t,e,s,a=!1){const r=s.length;if(!r)return;e.x=e.y=1;let l,c;for(let f=0;f<r;f++){l=s[f],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Vr(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Hw(t,c)),a&&Ca(l.latestValues)&&Vr(t,l.latestValues))}e.x<L1&&e.x>M1&&(e.x=1),e.y<L1&&e.y>M1&&(e.y=1)}function Fr(t,e){t.min=t.min+e,t.max=t.max+e}function U1(t,e,s,a,r=.5){const l=ot(t.min,t.max,r);yp(t,e,s,l,a)}function Vr(t,e){U1(t.x,e.x,e.scaleX,e.scale,e.originX),U1(t.y,e.y,e.scaleY,e.scale,e.originY)}function qw(t,e){return Fw(mP(t.getBoundingClientRect(),e))}function gP(t,e,s){const a=qw(t,s),{scroll:r}=e;return r&&(Fr(a.x,r.offset.x),Fr(a.y,r.offset.y)),a}const P1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:P1(),y:P1()}),z1=()=>({min:0,max:0}),Rt=()=>({x:z1(),y:z1()}),xp={current:null},Gw={current:!1};function yP(){if(Gw.current=!0,!!t0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xp.current=t.matches;t.addEventListener("change",e),e()}else xp.current=!1}const xP=new WeakMap;function bP(t,e,s){for(const a in e){const r=e[a],l=s[a];if(Kt(r))t.addValue(a,r);else if(Kt(l))t.addValue(a,so(r,{owner:t}));else if(l!==r)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(a);t.addValue(a,so(c!==void 0?c:r,{owner:t}))}}for(const a in s)e[a]===void 0&&t.removeValue(a);return e}const I1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vP{scrapeMotionValuesFromProps(e,s,a){return{}}constructor({parent:e,props:s,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=xn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,it.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=s,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Cd(s),this.isVariantNode=jw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in x){const v=x[b];h[b]!==void 0&&Kt(v)&&v.set(h[b])}}mount(e){this.current=e,xP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),Gw.current||yP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=po.has(e);a&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&it.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in io){const s=io[e];if(!s)continue;const{isEnabled:a,Feature:r}=s;if(!this.features[e]&&r&&a(this.props)&&(this.features[e]=new r(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<I1.length;a++){const r=I1[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=e[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=bP(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const a=this.values.get(e);s!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&s!==void 0&&(a=so(s===null?void 0:s,{owner:this}),this.addValue(e,a)),a}readValue(e,s){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(PC(a)||IC(a))?a=parseFloat(a):!AU(a)&&Gi.test(s)&&(a=Sw(e,s)),this.setBaseTarget(e,Kt(a)?a.get():a)),Kt(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const l=k0(this.props,s,this.presenceContext?.custom);l&&(a=l[e])}if(s&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Kt(r)?r:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new o0),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){S0.render(this.render)}}class $w extends vP{constructor(){super(...arguments),this.KeyframeResolver=vU}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:a}){delete s[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Yw(t,{style:e,vars:s},a,r){const l=t.style;let c;for(c in e)l[c]=e[c];r?.applyProjectionStyles(l,a);for(c in s)l.setProperty(c,s[c])}function SP(t){return window.getComputedStyle(t)}class CP extends $w{constructor(){super(...arguments),this.type="html",this.renderInstance=Yw}readValueFromInstance(e,s){if(po.has(s))return this.projection?.isProjecting?lp(s):IL(e,s);{const a=SP(e),r=(JC(s)?a.getPropertyValue(s):a[s])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:s}){return qw(e,s)}build(e,s,a){N0(e,s,a.transformTemplate)}scrapeMotionValuesFromProps(e,s,a){return D0(e,s,a)}}const Qw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wP(t,e,s,a){Yw(t,e,void 0,a);for(const r in e.attrs)t.setAttribute(Qw.has(r)?r:j0(r),e.attrs[r])}class EP extends $w{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(po.has(s)){const a=vw(s);return a&&a.default||0}return s=Qw.has(s)?s:j0(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,a){return Pw(e,s,a)}build(e,s,a){Aw(e,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,s,a,r){wP(e,s,a,r)}mount(e){this.isSVGTag=Lw(e.tagName),super.mount(e)}}const NP=(t,e)=>T0(t)?new EP(e):new CP(e,{allowProjection:t!==w.Fragment});function Xr(t,e,s){const a=t.getProps();return k0(a,e,s!==void 0?s:a.custom,t)}const bp=t=>Array.isArray(t);function RP(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,so(s))}function TP(t){return bp(t)?t[t.length-1]||0:t}function _0(t,e){const s=Xr(t,e);let{transitionEnd:a={},transition:r={},...l}=s||{};l={...l,...a};for(const c in l){const f=TP(l[c]);RP(t,c,f)}}function kP(t){return!!(Kt(t)&&t.add)}function vp(t,e){const s=t.getValue("willChange");if(kP(s))return s.add(e);if(!s&&ri.WillChange){const a=new ri.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function Ww(t){return t.props[zw]}const DP=t=>t!==null;function jP(t,{repeat:e,repeatType:s="loop"},a){const r=t.filter(DP),l=e&&s!=="loop"&&e%2===1?0:r.length-1;return r[l]}const _P={type:"spring",stiffness:500,damping:25,restSpeed:10},OP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AP={type:"keyframes",duration:.8},MP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LP=(t,{keyframes:e})=>e.length>2?AP:po.has(t)?t.startsWith("scale")?OP(e[1]):_P:MP;function UP({when:t,delay:e,delayChildren:s,staggerChildren:a,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:f,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const O0=(t,e,s,a={},r,l)=>c=>{const f=b0(a,t)||{},h=f.delay||a.delay||0;let{elapsed:m=0}=a;m=m-Ns(h);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:b=>{e.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:r};UP(f)||Object.assign(g,LP(t,g)),g.duration&&(g.duration=Ns(g.duration)),g.repeatDelay&&(g.repeatDelay=Ns(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(hp(g),g.delay===0&&(x=!0)),(ri.instantAnimations||ri.skipAnimations)&&(x=!0,hp(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,x&&!l&&e.get()!==void 0){const b=jP(g.keyframes,f);if(b!==void 0){it.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new y0(g):new lU(g)};function PP({protectedKeys:t,needsAnimating:e},s){const a=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,a}function Xw(t,e,{delay:s=0,transitionOverride:a,type:r}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;a&&(l=a);const h=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const g in f){const x=t.getValue(g,t.latestValues[g]??null),b=f[g];if(b===void 0||m&&PP(m,g))continue;const v={delay:s,...b0(l||{},g)},C=x.get();if(C!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===C&&!v.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const R=Ww(t);if(R){const D=window.MotionHandoffAnimation(R,g,it);D!==null&&(v.startTime=D,E=!0)}}vp(t,g),x.start(O0(g,x,b,t.shouldReduceMotion&&yw.has(g)?{type:!1}:v,t,E));const N=x.animation;N&&h.push(N)}return c&&Promise.all(h).then(()=>{it.update(()=>{c&&_0(t,c)})}),h}function Kw(t,e,s,a=0,r=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,f=(c-1)*a;return typeof s=="function"?s(l,c):r===1?l*a:f-l*a}function Sp(t,e,s={}){const a=Xr(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(r=s.transitionOverride);const l=a?()=>Promise.all(Xw(t,a,s)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:x}=r;return zP(t,e,h,m,g,x,s)}:()=>Promise.resolve(),{when:f}=r;if(f){const[h,m]=f==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(s.delay)])}function zP(t,e,s=0,a=0,r=0,l=1,c){const f=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),f.push(Sp(h,e,{...c,delay:s+(typeof a=="function"?0:a)+Kw(t.variantChildren,h,a,r,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(f)}function Zw(t,e,s={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const r=e.map(l=>Sp(t,l,s));a=Promise.all(r)}else if(typeof e=="string")a=Sp(t,e,s);else{const r=typeof e=="function"?Xr(t,e,s.custom):e;a=Promise.all(Xw(t,r,s))}return a.then(()=>{t.notify("AnimationComplete",e)})}function Jw(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let a=0;a<s;a++)if(e[a]!==t[a])return!1;return!0}const IP=E0.length;function eE(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?eE(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<IP;s++){const a=E0[s],r=t.props[a];(Ml(r)||r===!1)&&(e[a]=r)}return e}const BP=[...w0].reverse(),FP=w0.length;function VP(t){return e=>Promise.all(e.map(({animation:s,options:a})=>Zw(t,s,a)))}function HP(t){let e=VP(t),s=B1(),a=!0;const r=h=>(m,g)=>{const x=Xr(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:v,...C}=x;m={...m,...C,...v}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,g=eE(t.parent)||{},x=[],b=new Set;let v={},C=1/0;for(let N=0;N<FP;N++){const R=BP[N],D=s[R],j=m[R]!==void 0?m[R]:g[R],O=Ml(j),k=R===h?D.isActive:null;k===!1&&(C=N);let V=j===g[R]&&j!==m[R]&&O;if(V&&a&&t.manuallyAnimateOnMount&&(V=!1),D.protectedKeys={...v},!D.isActive&&k===null||!j&&!D.prevProp||Sd(j)||typeof j=="boolean")continue;const M=qP(D.prevProp,j);let _=M||R===h&&D.isActive&&!V&&O||N>C&&O,W=!1;const X=Array.isArray(j)?j:[j];let ce=X.reduce(r(R),{});k===!1&&(ce={});const{prevResolvedValues:F={}}=D,Z={...F,...ce},se=G=>{_=!0,b.has(G)&&(W=!0,b.delete(G)),D.needsAnimating[G]=!0;const I=t.getValue(G);I&&(I.liveStyle=!1)};for(const G in Z){const I=ce[G],ue=F[G];if(v.hasOwnProperty(G))continue;let ve=!1;bp(I)&&bp(ue)?ve=!Jw(I,ue):ve=I!==ue,ve?I!=null?se(G):b.add(G):I!==void 0&&b.has(G)?se(G):D.protectedKeys[G]=!0}D.prevProp=j,D.prevResolvedValues=ce,D.isActive&&(v={...v,...ce}),a&&t.blockInitialAnimation&&(_=!1);const oe=V&&M;_&&(!oe||W)&&x.push(...X.map(G=>{const I={type:R};if(typeof G=="string"&&a&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,ve=Xr(ue,G);if(ue.enteringChildren&&ve){const{delayChildren:U}=ve.transition||{};I.delay=Kw(ue.enteringChildren,t,U)}}return{animation:G,options:I}}))}if(b.size){const N={};if(typeof m.initial!="boolean"){const R=Xr(t,Array.isArray(m.initial)?m.initial[0]:m.initial);R&&R.transition&&(N.transition=R.transition)}b.forEach(R=>{const D=t.getBaseTarget(R),j=t.getValue(R);j&&(j.liveStyle=!0),N[R]=D??null}),x.push({animation:N})}let E=!!x.length;return a&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),a=!1,E?e(x):Promise.resolve()}function f(h,m){if(s[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(h,m)),s[h].isActive=m;const g=c(h);for(const x in s)s[x].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>s,reset:()=>{s=B1()}}}function qP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Jw(e,t):!1}function Sa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B1(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GP extends Yi{constructor(e){super(e),e.animationState||(e.animationState=HP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $P=0;class YP extends Yi{constructor(){super(...arguments),this.id=$P++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QP={animation:{Feature:GP},exit:{Feature:YP}};function Ll(t,e,s,a={passive:!0}){return t.addEventListener(e,s,a),()=>t.removeEventListener(e,s)}function ql(t){return{point:{x:t.pageX,y:t.pageY}}}const WP=t=>e=>C0(e)&&t(e,ql(e));function Cl(t,e,s,a){return Ll(t,e,WP(s),a)}const tE=1e-4,XP=1-tE,KP=1+tE,nE=.01,ZP=0-nE,JP=0+nE;function on(t){return t.max-t.min}function e8(t,e,s){return Math.abs(t-e)<=s}function F1(t,e,s,a=.5){t.origin=a,t.originPoint=ot(e.min,e.max,t.origin),t.scale=on(s)/on(e),t.translate=ot(s.min,s.max,t.origin)-t.originPoint,(t.scale>=XP&&t.scale<=KP||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZP&&t.translate<=JP||isNaN(t.translate))&&(t.translate=0)}function wl(t,e,s,a){F1(t.x,e.x,s.x,a?a.originX:void 0),F1(t.y,e.y,s.y,a?a.originY:void 0)}function V1(t,e,s){t.min=s.min+e.min,t.max=t.min+on(e)}function t8(t,e,s){V1(t.x,e.x,s.x),V1(t.y,e.y,s.y)}function H1(t,e,s){t.min=e.min-s.min,t.max=t.min+on(e)}function ad(t,e,s){H1(t.x,e.x,s.x),H1(t.y,e.y,s.y)}function Gn(t){return[t("x"),t("y")]}const sE=({current:t})=>t?t.ownerDocument.defaultView:null,q1=(t,e)=>Math.abs(t-e);function n8(t,e){const s=q1(t.x,e.x),a=q1(t.y,e.y);return Math.sqrt(s**2+a**2)}class iE{constructor(e,s,{transformPagePoint:a,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,C=n8(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!C)return;const{point:E}=b,{timestamp:N}=Ft;this.history.push({...E,timestamp:N});const{onStart:R,onMove:D}=this.handlers;v||(R&&R(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Dm(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:C,onSessionEnd:E,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=jm(b.type==="pointercancel"?this.lastMoveEventInfo:Dm(v,this.transformPagePoint),this.history);this.startEvent&&C&&C(b,R),E&&E(b,R)},!C0(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=r||window;const f=ql(e),h=Dm(f,this.transformPagePoint),{point:m}=h,{timestamp:g}=Ft;this.history=[{...m,timestamp:g}];const{onSessionStart:x}=s;x&&x(e,jm(h,this.history)),this.removeListeners=Fl(Cl(this.contextWindow,"pointermove",this.handlePointerMove),Cl(this.contextWindow,"pointerup",this.handlePointerUp),Cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function Dm(t,e){return e?{point:e(t.point)}:t}function G1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jm({point:t},e){return{point:t,delta:G1(t,aE(e)),offset:G1(t,s8(e)),velocity:i8(e,.1)}}function s8(t){return t[0]}function aE(t){return t[t.length-1]}function i8(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,a=null;const r=aE(t);for(;s>=0&&(a=t[s],!(r.timestamp-a.timestamp>Ns(e)));)s--;if(!a)return{x:0,y:0};const l=Qn(r.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-a.x)/l,y:(r.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function a8(t,{min:e,max:s},a){return e!==void 0&&t<e?t=a?ot(e,t,a.min):Math.max(t,e):s!==void 0&&t>s&&(t=a?ot(s,t,a.max):Math.min(t,s)),t}function $1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function r8(t,{top:e,left:s,bottom:a,right:r}){return{x:$1(t.x,s,r),y:$1(t.y,e,a)}}function Y1(t,e){let s=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,a]=[a,s]),{min:s,max:a}}function o8(t,e){return{x:Y1(t.x,e.x),y:Y1(t.y,e.y)}}function l8(t,e){let s=.5;const a=on(t),r=on(e);return r>a?s=_l(e.min,e.max-a,t.min):a>r&&(s=_l(t.min,t.max-r,e.min)),ai(0,1,s)}function c8(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Cp=.35;function u8(t=Cp){return t===!1?t=0:t===!0&&(t=Cp),{x:Q1(t,"left","right"),y:Q1(t,"top","bottom")}}function Q1(t,e,s){return{min:W1(t,e),max:W1(t,s)}}function W1(t,e){return typeof t=="number"?t:t[e]||0}const d8=new WeakMap;class f8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ql(x).point)},c=(x,b)=>{const{drag:v,dragPropagation:C,onDragStart:E}=this.getProps();if(v&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NU(v),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(R=>{let D=this.getAxisMotionValue(R).get()||0;if(Rs.test(D)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[R];O&&(D=on(O)*(parseFloat(D)/100))}}this.originPoint[R]=D}),E&&it.postRender(()=>E(x,b)),vp(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:C,onDirectionLock:E,onDrag:N}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=b;if(C&&this.currentDirection===null){this.currentDirection=h8(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",b.point,R),this.updateAxis("y",b.point,R),this.visualElement.render(),N&&N(x,b)},h=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Gn(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new iE(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:sE(this.visualElement)})}stop(e,s){const a=e||this.latestPointerEvent,r=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!a)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&it.postRender(()=>f(a,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,a){const{drag:r}=this.getProps();if(!a||!Tu(e,r,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(c=a8(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Br(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=r8(a.layoutBox,e):this.constraints=!1,this.elastic=u8(s),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=c8(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Br(e))return!1;const a=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=gP(a,r.root,this.visualElement.getTransformPagePoint());let c=o8(r.layout.layoutBox,l);if(s){const f=s(hP(c));this.hasMutatedConstraints=!!f,f&&(c=Fw(f))}return c}startAnimation(e){const{drag:s,dragMomentum:a,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Gn(g=>{if(!Tu(g,s,this.currentDirection))return;let x=h&&h[g]||{};c&&(x={min:0,max:0});const b=r?200:1e6,v=r?40:1e7,C={type:"inertia",velocity:a?e[g]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(f)}startAxisValueAnimation(e,s){const a=this.getAxisMotionValue(e);return vp(this.visualElement,e),a.start(O0(e,a,0,s,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),r=a[s];return r||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Gn(s=>{const{drag:a}=this.getProps();if(!Tu(s,a,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(s);if(r&&r.layout){const{min:c,max:f}=r.layout.layoutBox[s];l.set(e[s]-ot(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Br(s)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Gn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const h=f.get();r[c]=l8({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Gn(c=>{if(!Tu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];f.set(ot(h,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;d8.set(this.visualElement,this);const e=this.visualElement.current,s=Cl(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();Br(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),it.read(a);const c=Ll(window,"resize",()=>this.scalePositionWithinConstraints()),f=r.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=h[g].translate,x.set(x.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=Cp,dragMomentum:f=!0}=e;return{...e,drag:s,dragDirectionLock:a,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Tu(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function h8(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class m8 extends Yi{constructor(e){super(e),this.removeGroupControls=Wn,this.removeListeners=Wn,this.controls=new f8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const X1=t=>(e,s)=>{t&&it.postRender(()=>t(e,s))};class p8 extends Yi{constructor(){super(...arguments),this.removePointerDownListener=Wn}onPointerDown(e){this.session=new iE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:X1(e),onStart:X1(s),onMove:a,onEnd:(l,c)=>{delete this.session,r&&it.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let _m=!1;class g8 extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a,layoutId:r}=this.props,{projection:l}=e;l&&(s.group&&s.group.add(l),a&&a.register&&r&&a.register(l),_m&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:a,drag:r,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,_m=!0,r||e.layoutDependency!==s||s===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||it.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),S0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:r}=e;_m=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rE(t){const[e,s]=MU(),a=w.useContext(MC);return u.jsx(g8,{...t,layoutGroup:a,switchLayoutGroup:w.useContext(Iw),isPresent:e,safeToRemove:s})}function y8(t,e,s){const a=Kt(t)?t:so(t);return a.start(O0("",a,e,s)),a.animation}const x8=(t,e)=>t.depth-e.depth;class b8{constructor(){this.children=[],this.isDirty=!1}add(e){s0(this.children,e),this.isDirty=!0}remove(e){i0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x8),this.isDirty=!1,this.children.forEach(e)}}function v8(t,e){const s=xn.now(),a=({timestamp:r})=>{const l=r-s;l>=e&&(qi(a),t(l-e))};return it.setup(a,!0),()=>qi(a)}const oE=["TopLeft","TopRight","BottomLeft","BottomRight"],S8=oE.length,K1=t=>typeof t=="string"?parseFloat(t):t,Z1=t=>typeof t=="number"||Te.test(t);function C8(t,e,s,a,r,l){r?(t.opacity=ot(0,s.opacity??1,w8(a)),t.opacityExit=ot(e.opacity??1,0,E8(a))):l&&(t.opacity=ot(e.opacity??1,s.opacity??1,a));for(let c=0;c<S8;c++){const f=`border${oE[c]}Radius`;let h=J1(e,f),m=J1(s,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Z1(h)===Z1(m)?(t[f]=Math.max(ot(K1(h),K1(m),a),0),(Rs.test(m)||Rs.test(h))&&(t[f]+="%")):t[f]=m}(e.rotate||s.rotate)&&(t.rotate=ot(e.rotate||0,s.rotate||0,a))}function J1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w8=lE(0,.5,YC),E8=lE(.5,.95,Wn);function lE(t,e,s){return a=>a<t?0:a>e?1:s(_l(t,e,a))}function eS(t,e){t.min=e.min,t.max=e.max}function ss(t,e){eS(t.x,e.x),eS(t.y,e.y)}function tS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nS(t,e,s,a,r){return t-=e,t=id(t,1/s,a),r!==void 0&&(t=id(t,1/r,a)),t}function N8(t,e=0,s=1,a=.5,r,l=t,c=t){if(Rs.test(e)&&(e=parseFloat(e),e=ot(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ot(l.min,l.max,a);t===l&&(f-=e),t.min=nS(t.min,e,s,f,r),t.max=nS(t.max,e,s,f,r)}function sS(t,e,[s,a,r],l,c){N8(t,e[s],e[a],e[r],e.scale,l,c)}const R8=["x","scaleX","originX"],T8=["y","scaleY","originY"];function iS(t,e,s,a){sS(t.x,e,R8,s?s.x:void 0,a?a.x:void 0),sS(t.y,e,T8,s?s.y:void 0,a?a.y:void 0)}function aS(t){return t.translate===0&&t.scale===1}function cE(t){return aS(t.x)&&aS(t.y)}function rS(t,e){return t.min===e.min&&t.max===e.max}function k8(t,e){return rS(t.x,e.x)&&rS(t.y,e.y)}function oS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uE(t,e){return oS(t.x,e.x)&&oS(t.y,e.y)}function lS(t){return on(t.x)/on(t.y)}function cS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class D8{constructor(){this.members=[]}add(e){s0(this.members,e),e.scheduleRender()}remove(e){if(i0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let a;for(let r=s;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(e,s){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,s&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:a}=e;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j8(t,e,s){let a="";const r=t.x.translate/e.x,l=t.y.translate/e.y,c=s?.z||0;if((r||l||c)&&(a=`translate3d(${r}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:b,skewX:v,skewY:C}=s;m&&(a=`perspective(${m}px) ${a}`),g&&(a+=`rotate(${g}deg) `),x&&(a+=`rotateX(${x}deg) `),b&&(a+=`rotateY(${b}deg) `),v&&(a+=`skewX(${v}deg) `),C&&(a+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,h=t.y.scale*e.y;return(f!==1||h!==1)&&(a+=`scale(${f}, ${h})`),a||"none"}const Om=["","X","Y","Z"],_8=1e3;let O8=0;function Am(t,e,s,a){const{latestValues:r}=e;r[t]&&(s[t]=r[t],e.setStaticValue(t,0),a&&(a[t]=0))}function dE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Ww(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",it,!(r||l))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&dE(a)}function fE({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(c={},f=e?.()){this.id=O8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L8),this.nodes.forEach(I8),this.nodes.forEach(B8),this.nodes.forEach(U8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new b8)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new o0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const h=this.eventHandlers.get(c);h&&h.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Rw(c)&&!_U(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),t){let g,x=0;const b=()=>this.root.updateBlockedByResize=!1;it.read(()=>{x=window.innerWidth}),t(c,()=>{const v=window.innerWidth;v!==x&&(x=v,this.root.updateBlockedByResize=!0,g&&g(),g=v8(b,250),Iu.hasAnimatedSinceResize&&(Iu.hasAnimatedSinceResize=!1,this.nodes.forEach(fS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||G8,{onLayoutAnimationStart:E,onLayoutAnimationComplete:N}=m.getProps(),R=!this.targetLayout||!uE(this.targetLayout,v),D=!x&&b;if(this.options.layoutRoot||this.resumeFrom||D||x&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...b0(C,"layout"),onPlay:E,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,D)}else x||fS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(F8),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z8),this.nodes.forEach(A8),this.nodes.forEach(M8)):this.nodes.forEach(dS),this.clearAllSnapshots();const f=xn.now();Ft.delta=ai(0,1e3/60,f-Ft.timestamp),Ft.timestamp=f,Ft.isProcessing=!0,Sm.update.process(Ft),Sm.preRender.process(Ft),Sm.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,S0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P8),this.sharedNodes.forEach(V8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!on(this.snapshot.measuredBox.x)&&!on(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!cE(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ca(this.latestValues)||g)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return c&&(h=this.removeTransform(h)),$8(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Rt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y8))){const{scroll:m}=this.root;m&&(Fr(f.x,m.offset.x),Fr(f.y,m.offset.y))}return f}removeElementScroll(c){const f=Rt();if(ss(f,c),this.scroll?.wasRoot)return f;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:x}=m;m!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&ss(f,c),Fr(f.x,g.offset.x),Fr(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const h=Rt();ss(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Vr(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ca(g.latestValues)&&Vr(h,g.latestValues)}return Ca(this.latestValues)&&Vr(h,this.latestValues),h}removeTransform(c){const f=Rt();ss(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Ca(m.latestValues))continue;gp(m.latestValues)&&m.updateSnapshot();const g=Rt(),x=m.measurePageBox();ss(g,x),iS(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ca(this.latestValues)&&iS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!this.layout||!(g||x))return;this.resolvedRelativeTargetAt=Ft.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),t8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),Hw(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gp(this.parent.latestValues)||Vw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),ad(this.relativeTargetOrigin,f,h),ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;ss(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;pP(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tS(this.prevProjectionDelta.x,this.projectionDelta.x),tS(this.prevProjectionDelta.y,this.projectionDelta.y)),wl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!cS(this.projectionDelta.x,this.prevProjectionDelta.x)||!cS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(c,f=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},x=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Rt(),v=h?h.source:void 0,C=this.layout?this.layout.source:void 0,E=v!==C,N=this.getStack(),R=!N||N.members.length<=1,D=!!(E&&!R&&this.options.crossfade===!0&&!this.path.some(q8));this.animationProgress=0;let j;this.mixTargetDelta=O=>{const k=O/1e3;hS(x.x,c.x,k),hS(x.y,c.y,k),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ad(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H8(this.relativeTarget,this.relativeTargetOrigin,b,k),j&&k8(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Rt()),ss(j,this.relativeTarget)),E&&(this.animationValues=g,C8(g,m,this.latestValues,k,D,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Iu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=so(0)),this.currentAnimation=y8(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:g}=c;if(!(!f||!h||!m)){if(this!==c&&this.layout&&m&&hE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Rt();const x=on(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const b=on(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}ss(f,h),Vr(f,g),wl(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new D8),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Am("z",c,m,this.animationValues);for(let g=0;g<Om.length;g++)Am(`rotate${Om[g]}`,c,m,this.animationValues),Am(`skew${Om[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zu(f?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zu(f?.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=j8(this.projectionDeltaWithTransform,this.treeScale,g);h&&(x=h(g,x)),c.transform=x;const{x:b,y:v}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in pp){if(g[C]===void 0)continue;const{correct:E,applyTo:N,isCSSVariable:R}=pp[C],D=x==="none"?g[C]:E(g[C],m);if(N){const j=N.length;for(let O=0;O<j;O++)c[N[O]]=D}else R?this.options.visualElement.renderState.vars[C]=D:c[C]=D}this.options.layoutId&&(c.pointerEvents=m===this?zu(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(uS),this.root.sharedNodes.clear()}}}function A8(t){t.updateLayout()}function M8(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:r}=t.options,l=e.source!==t.layout.source;r==="size"?Gn(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],b=on(x);x.min=s[g].min,x.max=x.min+b}):hE(r,e.layoutBox,s)&&Gn(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],b=on(s[g]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const c=Hr();wl(c,s,e.layoutBox);const f=Hr();l?wl(f,t.applyTransform(a,!0),e.measuredBox):wl(f,s,e.layoutBox);const h=!cE(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const v=Rt();ad(v,e.layoutBox,x.layoutBox);const C=Rt();ad(C,s,b.layoutBox),uE(v,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=v,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function L8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function P8(t){t.clearSnapshot()}function uS(t){t.clearMeasurements()}function dS(t){t.isLayoutDirty=!1}function z8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I8(t){t.resolveTargetDelta()}function B8(t){t.calcProjection()}function F8(t){t.resetSkewAndRotation()}function V8(t){t.removeLeadSnapshot()}function hS(t,e,s){t.translate=ot(e.translate,0,s),t.scale=ot(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function mS(t,e,s,a){t.min=ot(e.min,s.min,a),t.max=ot(e.max,s.max,a)}function H8(t,e,s,a){mS(t.x,e.x,s.x,a),mS(t.y,e.y,s.y,a)}function q8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G8={duration:.45,ease:[.4,0,.1,1]},pS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gS=pS("applewebkit/")&&!pS("chrome/")?Math.round:Wn;function yS(t){t.min=gS(t.min),t.max=gS(t.max)}function $8(t){yS(t.x),yS(t.y)}function hE(t,e,s){return t==="position"||t==="preserve-aspect"&&!e8(lS(e),lS(s),.2)}function Y8(t){return t!==t.root&&t.scroll?.wasRoot}const Q8=fE({attachResizeListener:(t,e)=>Ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mm={current:void 0},mE=fE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mm.current){const t=new Q8({});t.mount(window),t.setOptions({layoutScroll:!0}),Mm.current=t}return Mm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),W8={pan:{Feature:p8},drag:{Feature:m8,ProjectionNode:mE,MeasureLayout:rE}};function xS(t,e,s){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,l=a[r];l&&it.postRender(()=>l(e,ql(e)))}class X8 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=RU(e,(s,a)=>(xS(this.node,a,"Start"),r=>xS(this.node,r,"End"))))}unmount(){}}class K8 extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(Ll(this.node.current,"focus",()=>this.onFocus()),Ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bS(t,e,s){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),l=a[r];l&&it.postRender(()=>l(e,ql(e)))}class Z8 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=jU(e,(s,a)=>(bS(this.node,a,"Start"),(r,{success:l})=>bS(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wp=new WeakMap,Lm=new WeakMap,J8=t=>{const e=wp.get(t.target);e&&e(t)},ez=t=>{t.forEach(J8)};function tz({root:t,...e}){const s=t||document;Lm.has(s)||Lm.set(s,{});const a=Lm.get(s),r=JSON.stringify(e);return a[r]||(a[r]=new IntersectionObserver(ez,{root:t,...e})),a[r]}function nz(t,e,s){const a=tz(e);return wp.set(t,s),a.observe(t),()=>{wp.delete(t),a.unobserve(t)}}const sz={some:0,all:1};class iz extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:a,amount:r="some",once:l}=e,c={root:s?s.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:sz[r]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),b=m?g:x;b&&b(h)};return nz(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(az(e,s))&&this.startObserver()}unmount(){}}function az({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const rz={inView:{Feature:iz},tap:{Feature:Z8},focus:{Feature:K8},hover:{Feature:X8}},oz={layout:{ProjectionNode:mE,MeasureLayout:rE}},lz={...QP,...rz,...W8,...oz},cz=fP(lz,NP);function uz(t){t.values.forEach(e=>e.stop())}function Ep(t,e){[...e].reverse().forEach(a=>{const r=t.getVariant(a);r&&_0(t,r),t.variantChildren&&t.variantChildren.forEach(l=>{Ep(l,e)})})}function dz(t,e){if(Array.isArray(e))return Ep(t,e);if(typeof e=="string")return Ep(t,[e]);_0(t,e)}function fz(){const t=new Set,e={subscribe(s){return t.add(s),()=>void t.delete(s)},start(s,a){const r=[];return t.forEach(l=>{r.push(Zw(l,s,{transitionOverride:a}))}),Promise.all(r)},set(s){return t.forEach(a=>{dz(a,s)})},stop(){t.forEach(s=>{uz(s)})},mount(){return()=>{e.stop()}}};return e}function hz(){const t=LC(fz);return UC(t.mount,[]),t}const mz=hz,pz=t=>{const{id:e,className:s,background:a,minSize:r,maxSize:l,speed:c,particleColor:f,particleDensity:h}=t,[m,g]=w.useState(!1);w.useEffect(()=>{OO(async C=>{await YM(C)}).then(()=>{g(!0)})},[]);const x=mz(),b=async C=>{C&&x.start({opacity:1,transition:{duration:1}})},v=w.useId();return u.jsx(cz.div,{animate:x,className:l1("opacity-0",s),children:m&&u.jsx(_O,{id:e||v,className:l1("h-full w-full"),particlesLoaded:b,options:{background:{color:{value:a||"#0d47a1"}},fullScreen:{enable:!1,zIndex:1},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!1,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:f||"#ffffff",animation:{h:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0,options:{},type:{}},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out"},random:!1,size:!1,speed:{min:.05,max:c?c/10:.5},spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:400,height:400},limit:{mode:"delete",value:0},value:h||120},opacity:{value:{min:.1,max:1},animation:{count:0,enable:!0,speed:c||4,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:r||1,max:l||3},animation:{count:0,enable:!1,speed:5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},stroke:{width:0},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{value:0,sync:!1},duration:{value:0,sync:!1}},rotate:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{value:45},width:1},links:{blink:!1,color:{value:"#fff"},consent:!1,distance:100,enable:!1,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},detectRetina:!0}})})},vS=(t,e)=>e==="dark"?`radial-gradient(circle, ${t} 0%, rgba(15, 23, 42, 0) 70%)`:`radial-gradient(circle, ${t} 0%, rgba(255, 255, 255, 0) 70%)`,et=t=>{const e=Math.sin(t)*1e4;return e-Math.floor(e)},SS=(t,e=42)=>{const a=t==="dark"?["rgba(56, 189, 248, 0.35)","rgba(59, 130, 246, 0.3)","rgba(168, 85, 247, 0.32)","rgba(16, 185, 129, 0.28)","rgba(236, 72, 153, 0.28)"]:["rgba(2, 132, 199, 0.25)","rgba(37, 99, 235, 0.2)","rgba(147, 51, 234, 0.22)","rgba(5, 150, 105, 0.18)","rgba(219, 39, 119, 0.18)"],r=60,l=24,c=Array.from({length:r},(h,m)=>{const g=e+m,x=et(g),b=et(g+100),v=et(g+200),C=et(g+300),E=et(g+400),N=et(g+500),R=et(g+600),D=et(g+700),j=a[Math.floor(x*a.length)],O=b,k=O>.7?"animate-float-fast":O<.25?"animate-float-slow":"animate-float",V=v>.5?"animate-twinkle":"animate-twinkle-slow";return{id:`primary-${m}`,x:C*100,y:E*100,size:N*6+1.5,duration:R*20+20,delay:D*6,opacity:et(g+800)*.35+.15,blurClass:et(g+900)>.6?"blur-md":"blur-sm",animationClass:k,twinkleClass:V,glowClass:et(g+1e3)>.6?"particle-glow":"",gradient:vS(j,t)}}),f=Array.from({length:l},(h,m)=>{const g=e+r+m,x=et(g),b=et(g+100),v=et(g+200),C=et(g+300),E=et(g+400),N=et(g+500),R=et(g+600),D=a[Math.floor(x*a.length)];return{id:`accent-${m}`,x:b*100,y:v*100,size:C*14+8,duration:E*18+18,delay:N*10,opacity:R*.25+.1,blurClass:"blur-md",animationClass:"animate-float-slow",twinkleClass:"animate-twinkle-slow",glowClass:"particle-glow-strong",gradient:vS(D,t)}});return[...c,...f]},CS=(t,e=42)=>{const a=t==="dark"?["linear-gradient(180deg, rgba(14, 165, 233, 0.35) 0%, rgba(14, 165, 233, 0.0) 100%)","linear-gradient(180deg, rgba(168, 85, 247, 0.35) 0%, rgba(168, 85, 247, 0.0) 100%)","linear-gradient(180deg, rgba(59, 130, 246, 0.35) 0%, rgba(59, 130, 246, 0.0) 100%)"]:["linear-gradient(180deg, rgba(2, 132, 199, 0.25) 0%, rgba(2, 132, 199, 0.0) 100%)","linear-gradient(180deg, rgba(147, 51, 234, 0.25) 0%, rgba(147, 51, 234, 0.0) 100%)","linear-gradient(180deg, rgba(37, 99, 235, 0.25) 0%, rgba(37, 99, 235, 0.0) 100%)"];return Array.from({length:12},(l,c)=>{const f=e+1e3+c,h=et(f),m=et(f+100),g=et(f+200),x=et(f+300),b=et(f+400),v=et(f+500),C=et(f+600),E=et(f+700),N=a[Math.floor(h*a.length)];return{id:`streak-${c}`,x:m*100,y:g*100,width:x*2+1,height:b*120+80,rotation:(v-.5)*22,duration:C*10+12,delay:E*8,opacity:et(f+800)*.2+.05,gradient:N}})},pE=w.memo(()=>{const{theme:t}=Op(),e=w.useRef(!0),s=w.useRef(t),a=w.useRef(42),[r,l]=w.useState(()=>SS(t,a.current)),[c,f]=w.useState(()=>CS(t,a.current));return w.useEffect(()=>{if(e.current){e.current=!1;return}s.current!==t&&(s.current=t,l(SS(t,a.current)),f(CS(t,a.current)))},[t]),u.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0","aria-hidden":"true",role:"presentation",children:[r.map(h=>u.jsx("div",{className:`absolute rounded-full ${t==="dark"?"mix-blend-screen":"mix-blend-multiply"} ${h.blurClass} ${h.animationClass} ${h.twinkleClass} ${h.glowClass}`,style:{left:`${h.x}%`,top:`${h.y}%`,width:`${h.size}px`,height:`${h.size}px`,opacity:h.opacity,animationDuration:`${h.duration}s`,animationDelay:`${h.delay}s`,background:h.gradient}},h.id)),c.map(h=>u.jsx("div",{className:`absolute animate-streak ${t==="dark"?"mix-blend-screen":"mix-blend-multiply"}`,style:{left:`${h.x}%`,top:`${h.y}%`,width:`${h.width}px`,height:`${h.height}px`,opacity:h.opacity,animationDuration:`${h.duration}s`,animationDelay:`${h.delay}s`,transform:`rotate(${h.rotation}deg)`,background:h.gradient}},h.id))]})});pE.displayName="ParticleBackground";const Gl=w.memo(()=>{const{theme:t,highContrast:e}=Op(),s=w.useMemo(()=>e?{particleColor:"#00FF00",minSize:.8,maxSize:2.5,particleDensity:80,speed:.7}:t==="dark"?{particleColor:"#60A5FA",minSize:.4,maxSize:1.2,particleDensity:80,speed:.7}:{particleColor:"#3B82F6",minSize:.3,maxSize:.9,particleDensity:80,speed:.8},[e,t]);return u.jsxs(u.Fragment,{children:[u.jsx(pE,{}),u.jsx("div",{className:"fixed inset-0 pointer-events-none z-0","aria-hidden":"true",children:u.jsx(pz,{id:"uds-sparkles-main",background:"transparent",minSize:s.minSize,maxSize:s.maxSize,particleDensity:s.particleDensity,className:"w-full h-full",particleColor:s.particleColor,speed:s.speed})})]})});Gl.displayName="EnhancedBackground";const gl=[{target:".protocol-dashboard",title:" Protocol State Dashboard",content:"Monitor your UDS session status, security level, and active diagnostic mode in real-time.",position:"bottom"},{target:".request-builder",title:" Request Builder",content:"Select a UDS service and build diagnostic requests. Hover over services to see detailed tooltips with examples and use cases.",position:"bottom"},{target:".quick-examples",title:" Quick Examples",content:"Try pre-configured diagnostic scenarios with one click. Great for learning common UDS workflows.",position:"left"},{target:".response-visualizer",title:" Response Visualizer",content:"See ECU responses with byte-by-byte breakdown, color-coded syntax, and live timing metrics.",position:"left"},{target:".help-button",title:" Need Help?",content:"Access the help menu anytime for keyboard shortcuts, UDS reference, and to restart this tour.",position:"bottom"}],gz=({isOpen:t,onClose:e})=>{const[s,a]=w.useState(0),[r,l]=w.useState({top:0,left:0}),[c,f]=w.useState("top");if(w.useEffect(()=>{if(!t)return;const v=gl[s],C=document.querySelector(v.target);if(C){const E=C.getBoundingClientRect(),N=320,R=200,D=20;let j=0,O=0,k="top";switch(v.position){case"bottom":j=E.bottom+D,O=E.left+E.width/2-N/2,k="top";break;case"top":j=E.top-R-D,O=E.left+E.width/2-N/2,k="bottom";break;case"right":j=E.top+E.height/2-R/2,O=E.right+D,k="left";break;case"left":j=E.top+E.height/2-R/2,O=E.left-N-D,k="right";break}j=Math.max(10,Math.min(j,window.innerHeight-R-10)),O=Math.max(10,Math.min(O,window.innerWidth-N-10)),l({top:j,left:O}),f(k),C.classList.add("tour-highlight")}return()=>{document.querySelectorAll(".tour-highlight").forEach(E=>{E.classList.remove("tour-highlight")})}},[s,t]),!t)return null;const h=()=>{s<gl.length-1?a(s+1):g()},m=()=>{s>0&&a(s-1)},g=()=>{localStorage.setItem("uds-tour-completed","true"),e(),a(0)},x=()=>{localStorage.setItem("uds-tour-completed","true"),e(),a(0)},b=gl[s];return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/70 z-40 animate-fade-in",onClick:x}),u.jsxs("div",{className:"fixed z-50 w-80 rounded-lg border-2 border-cyber-blue bg-dark-900/98 p-6 shadow-2xl animate-slide-up backdrop-blur-sm",style:{top:r.top,left:r.left},children:[u.jsx("div",{className:`absolute w-4 h-4 bg-dark-900 border-cyber-blue ${c==="top"?"border-t-2 border-l-2 -top-2 left-1/2 -translate-x-1/2 rotate-45":c==="bottom"?"border-b-2 border-r-2 -bottom-2 left-1/2 -translate-x-1/2 rotate-45":c==="left"?"border-l-2 border-b-2 -left-2 top-1/2 -translate-y-1/2 rotate-45":"border-r-2 border-t-2 -right-2 top-1/2 -translate-y-1/2 rotate-45"}`}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-cyber-blue mb-2",children:b.title}),u.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:b.content})]}),u.jsx("div",{className:"flex gap-1.5 justify-center",children:gl.map((v,C)=>u.jsx("div",{className:`h-1.5 rounded-full transition-all ${C===s?"w-8 bg-cyber-blue":C<s?"w-1.5 bg-cyber-blue/50":"w-1.5 bg-dark-600"}`},C))}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dark-600",children:[u.jsx("button",{onClick:x,className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Skip Tour"}),u.jsxs("div",{className:"flex gap-2",children:[s>0&&u.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-300 hover:text-cyber-blue transition-colors",children:"Previous"}),u.jsx("button",{onClick:h,className:"px-4 py-2 text-sm bg-cyber-blue text-black font-semibold rounded hover:bg-cyber-blue/80 transition-colors",children:s===gl.length-1?"Finish":"Next"})]})]})]})]})]})},yz=({id:t,type:e,message:s,description:a,duration:r=5e3,onClose:l})=>{w.useEffect(()=>{const h=setTimeout(()=>l(t),r);return()=>clearTimeout(h)},[t,r,l]);const c={success:"bg-green-500/10 border-green-500/50 text-green-400",error:"bg-red-500/10 border-red-500/50 text-red-400",warning:"bg-yellow-500/10 border-yellow-500/50 text-yellow-400",info:"bg-blue-500/10 border-blue-500/50 text-blue-400"},f={success:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),warning:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:u.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};return u.jsxs("div",{className:`
        ${c[e]}
        border-2 rounded-xl p-4 shadow-2xl backdrop-blur-md
        animate-slide-in-right
        flex items-start gap-3 min-w-[320px] max-w-[500px]
        hover:scale-105 transition-transform duration-200
      `,role:"alert","aria-live":"polite","aria-atomic":"true",children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f[e]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-bold text-sm",children:s}),a&&u.jsx("div",{className:"text-xs opacity-90 mt-1 leading-relaxed",children:a})]}),u.jsx("button",{onClick:()=>l(t),className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors rounded-lg p-1 hover:bg-white/10","aria-label":"Close notification",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},xz=({toasts:t,onClose:e})=>u.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-3 max-w-md pointer-events-none","aria-label":"Notifications",role:"region",children:t.map(s=>u.jsx("div",{className:"pointer-events-auto",children:u.jsx(yz,{...s,onClose:e})},s.id))}),bz=()=>{const[t,e]=w.useState(!1),[s,a]=w.useState([]);w.useEffect(()=>{localStorage.getItem("uds-tour-completed")||setTimeout(()=>e(!0),1e3);const f=()=>e(!0);return window.addEventListener("restart-tour",f),()=>window.removeEventListener("restart-tour",f)},[]);const r=c=>{const f=`toast-${Date.now()}-${Math.random()}`;a(h=>[...h,{...c,id:f}])},l=c=>{a(f=>f.filter(h=>h.id!==c))};return w.useEffect(()=>(window.addToast=r,()=>{delete window.addToast}),[]),u.jsxs("div",{className:"min-h-screen relative overflow-hidden transition-colors duration-300",children:[u.jsx("div",{className:"cyber-grid"}),u.jsx(Gl,{}),u.jsx("div",{className:"scanline","aria-hidden":"true"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-cyber-blue focus:text-dark-900 focus:rounded-lg focus:font-bold",children:"Skip to main content"}),u.jsx(ld,{}),u.jsxs("main",{id:"main-content",className:"container mx-auto px-4 py-4 sm:py-6 lg:py-8",children:[u.jsx("div",{className:"protocol-dashboard mb-4 sm:mb-6",children:u.jsx(Hp,{})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-4 sm:mb-6",children:[u.jsx("div",{className:"space-y-4 sm:space-y-6 order-2 lg:order-1",children:u.jsx("div",{className:"request-builder",children:u.jsx(U2,{})})}),u.jsx("div",{className:"space-y-4 sm:space-y-6 order-1 lg:order-2",children:u.jsx("div",{className:"response-visualizer",children:u.jsx(P2,{})})})]})]})]}),u.jsx(gz,{isOpen:t,onClose:()=>e(!1)}),u.jsx(xz,{toasts:s,onClose:l})]})},vz=()=>{const{voltage:t,current:e,powerState:s,targetVoltage:a,currentLimit:r,systemVoltage:l,faultState:c,setTargetVoltage:f,setCurrentLimit:h,setPowerState:m,setSystemVoltage:g,setFaultState:x,simulateCranking:b,rpsEnabled:v,rpsPowerDownTime:C,rpsCountdown:E}=li(),N=w.useRef(null),[R,D]=w.useState(new Array(100).fill(0));w.useEffect(()=>{D(M=>[...M.slice(1),t])},[t]),w.useEffect(()=>{const M=N.current;if(!M)return;const _=M.getContext("2d");if(!_)return;const W=M.width,X=M.height,ce=document.documentElement.getAttribute("data-theme")==="light";_.clearRect(0,0,W,X),_.strokeStyle=ce?"#e2e8f0":"#374151",_.lineWidth=1,_.beginPath();for(let oe=0;oe<W;oe+=20)_.moveTo(oe,0),_.lineTo(oe,X);for(let oe=0;oe<X;oe+=20)_.moveTo(0,oe),_.lineTo(W,oe);_.stroke();const F=_.createLinearGradient(0,0,0,X);F.addColorStop(0,"rgba(16, 185, 129, 0.3)"),F.addColorStop(1,"rgba(16, 185, 129, 0)"),_.strokeStyle="#10B981",_.lineWidth=2,_.beginPath();const se=X/(l===12?18:36);R.forEach((oe,z)=>{const G=z/(R.length-1)*W,I=X-oe*se;z===0?_.moveTo(G,I):_.lineTo(G,I)}),_.stroke(),_.lineTo(W,X),_.lineTo(0,X),_.closePath(),_.fillStyle=F,_.fill()},[R,l]);const j=e>=r&&s!=="OFF",O=t>(l===12?16:30),k=t*e,V=()=>s==="OFF"?"text-slate-400 dark:text-gray-500":t<11&&l===12||t<22&&l===24?"text-amber-500 dark:text-yellow-400":t>15&&l===12||t>28&&l===24?"text-red-500":"text-emerald-500 dark:text-emerald-400";return u.jsxs("div",{className:"bg-white dark:bg-dark-800/60 backdrop-blur-md border border-slate-200 dark:border-gray-700 rounded-xl p-4 mb-6 relative overflow-hidden shadow-lg dark:shadow-none",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-slate-200 dark:border-gray-700 pb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500 animate-pulse shadow-lg shadow-emerald-500/50"}),u.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-gray-100 font-mono tracking-tight",children:["DC POWER SUPPLY",u.jsx("span",{className:"text-xs text-slate-400 dark:text-gray-500 ml-2 font-normal",children:"PPS-3005 PRO"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>g(12),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${l===12?"bg-blue-500 text-white shadow-lg shadow-blue-500/30":"bg-slate-100 dark:bg-gray-800 text-slate-600 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700 border border-slate-200 dark:border-gray-700"}`,children:"12V SYS"}),u.jsx("button",{onClick:()=>g(24),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${l===24?"bg-blue-500 text-white shadow-lg shadow-blue-500/30":"bg-slate-100 dark:bg-gray-800 text-slate-600 dark:text-gray-400 hover:bg-slate-200 dark:hover:bg-gray-700 border border-slate-200 dark:border-gray-700"}`,children:"24V SYS"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-1 bg-slate-50 dark:bg-black/40 rounded-xl p-4 border border-slate-200 dark:border-gray-700 flex flex-col justify-between relative overflow-hidden",children:[u.jsxs("div",{className:"absolute top-3 right-3 flex gap-1.5",children:[u.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${j?"bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 border border-red-300 dark:border-red-500/50":"text-slate-400 dark:text-gray-600"}`,children:"CC"}),u.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${!j&&s!=="OFF"?"bg-emerald-100 dark:bg-green-500/20 text-emerald-600 dark:text-green-400 border border-emerald-300 dark:border-green-500/50":"text-slate-400 dark:text-gray-600"}`,children:"CV"}),u.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${O?"bg-red-500 text-white animate-pulse":"text-slate-400 dark:text-gray-600"}`,children:"OVP"}),u.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${E!==null?"bg-orange-500 text-white animate-pulse":v?"bg-cyan-100 dark:bg-cyan-500/20 text-cyan-600 dark:text-cyan-400 border border-cyan-300 dark:border-cyan-500/50":"text-slate-400 dark:text-gray-600"}`,title:v?`RPS Enabled: ${C*10}ms`:"RPS Disabled",children:"RPS"})]}),E!==null&&u.jsx("div",{className:"absolute inset-0 bg-orange-500/10 flex items-center justify-center pointer-events-none z-10 backdrop-blur-sm",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-orange-500 dark:text-orange-400 text-xs font-bold uppercase tracking-wider mb-1",children:"RPS POWER-DOWN"}),u.jsxs("div",{className:"text-orange-600 dark:text-orange-300 text-3xl font-mono font-bold",children:[(E/1e3).toFixed(1),"s"]})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-500 uppercase tracking-wider mb-1 font-medium",children:"Voltage"}),u.jsxs("div",{className:`text-5xl font-mono font-bold tracking-tighter ${V()}`,children:[t.toFixed(2),u.jsx("span",{className:"text-2xl ml-1 text-slate-400 dark:text-gray-600",children:"V"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-500 uppercase tracking-wider mb-1 font-medium",children:"Current"}),u.jsxs("div",{className:"text-4xl font-mono font-bold text-cyan-600 dark:text-cyan-400 tracking-tighter",children:[e<1?(e*1e3).toFixed(0):e.toFixed(3),u.jsx("span",{className:"text-xl ml-1 text-slate-400 dark:text-gray-600",children:e<1?"mA":"A"})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-500 uppercase tracking-wider mb-1 font-medium",children:"Power"}),u.jsxs("div",{className:"text-2xl font-mono font-bold text-purple-600 dark:text-purple-400",children:[k.toFixed(1),u.jsx("span",{className:"text-sm ml-1 text-slate-400 dark:text-gray-600",children:"W"})]})]})]}),u.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[u.jsxs("div",{className:"bg-slate-50 dark:bg-transparent p-4 rounded-xl border border-slate-200 dark:border-gray-700/50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("label",{className:"text-xs font-bold text-slate-600 dark:text-gray-400 uppercase tracking-wide",children:"Set Voltage"}),u.jsxs("span",{className:"text-sm font-mono font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-500/10 px-2 py-0.5 rounded",children:[a.toFixed(2),"V"]})]}),u.jsx("input",{type:"range",min:"0",max:"32",step:"0.1",value:a,onChange:M=>f(parseFloat(M.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),u.jsx("div",{className:"grid grid-cols-5 gap-2 mt-3",children:[3.3,5,12,13.5,24].map(M=>u.jsxs("button",{onClick:()=>f(M),className:"px-1 py-1.5 bg-white dark:bg-gray-800 hover:bg-slate-100 dark:hover:bg-gray-700 border border-slate-300 dark:border-gray-600 rounded-lg text-[11px] font-mono font-medium text-slate-700 dark:text-gray-300 transition-colors shadow-sm",children:[M,"V"]},M))})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-transparent p-4 rounded-xl border border-slate-200 dark:border-gray-700/50",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("label",{className:"text-xs font-bold text-slate-600 dark:text-gray-400 uppercase tracking-wide",children:"Current Limit (OCP)"}),u.jsxs("span",{className:"text-sm font-mono font-bold text-cyan-600 dark:text-cyan-400 bg-cyan-50 dark:bg-cyan-500/10 px-2 py-0.5 rounded",children:[r.toFixed(2),"A"]})]}),u.jsx("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:r,onChange:M=>h(parseFloat(M.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),u.jsxs("div",{className:"flex items-center justify-between bg-slate-100 dark:bg-gray-800/50 p-4 rounded-xl border border-slate-200 dark:border-gray-700",children:[u.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-gray-300",children:"IGNITION (KL15)"}),u.jsx("button",{onClick:()=>m(s==="OFF"?"ON":"OFF"),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 ${s!=="OFF"?"bg-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-300 dark:bg-gray-700"}`,children:u.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow-md transition-transform ${s!=="OFF"?"translate-x-6":"translate-x-1"}`})})]})]}),u.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-4",children:[u.jsxs("div",{className:"flex-1 bg-slate-100 dark:bg-gray-900/50 rounded-xl border border-slate-200 dark:border-gray-700 p-3 relative min-h-[120px]",children:[u.jsx("div",{className:"absolute top-2 left-3 text-[10px] text-slate-500 dark:text-gray-500 font-bold uppercase tracking-wider",children:"V-OUT MONITOR"}),u.jsx("canvas",{ref:N,width:300,height:120,className:"w-full h-full rounded-lg"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onMouseDown:()=>x("SHORT_GND"),onMouseUp:()=>x("NONE"),onMouseLeave:()=>x("NONE"),className:`p-3 rounded-xl border text-xs font-bold transition-all active:scale-95 ${c==="SHORT_GND"?"bg-red-500 text-white border-red-500 shadow-lg shadow-red-500/30":"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-900/50 hover:bg-red-100 dark:hover:bg-red-900/40"}`,children:"SHORT GND"}),u.jsx("button",{onMouseDown:()=>x("OPEN_CIRCUIT"),onMouseUp:()=>x("NONE"),onMouseLeave:()=>x("NONE"),className:`p-3 rounded-xl border text-xs font-bold transition-all active:scale-95 ${c==="OPEN_CIRCUIT"?"bg-amber-500 text-white border-amber-500 shadow-lg shadow-amber-500/30":"bg-amber-50 dark:bg-yellow-900/20 text-amber-600 dark:text-yellow-400 border-amber-200 dark:border-yellow-900/50 hover:bg-amber-100 dark:hover:bg-yellow-900/40"}`,children:"OPEN CIRCUIT"}),u.jsx("button",{onClick:b,disabled:s==="OFF"||s==="CRANKING",className:"col-span-2 p-3 rounded-xl border border-blue-300 dark:border-blue-500/30 bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400 text-xs font-bold hover:bg-blue-100 dark:hover:bg-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s==="CRANKING"?"CRANKING...":"SIMULATE CRANKING"})]})]})]})]})},Sz=()=>u.jsxs("div",{className:"min-h-screen relative overflow-hidden transition-colors duration-300",children:[u.jsx("div",{className:"cyber-grid"}),u.jsx(Gl,{}),u.jsx("div",{className:"scanline","aria-hidden":"true"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx(ld,{}),u.jsxs("main",{className:"container mx-auto p-4 flex flex-col relative min-h-[calc(100vh-80px)]",children:[u.jsx(Hp,{}),u.jsx("div",{className:"flex flex-col gap-4",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsx("div",{className:"flex flex-col h-full",children:u.jsx(U2,{initialRequest:""})}),u.jsx("div",{className:"flex flex-col h-full",children:u.jsx(P2,{})})]})}),u.jsx("div",{className:"mt-4",children:u.jsx(vz,{})})]})]})]}),Cz=({onClose:t,compact:e=!1})=>{const{sendRequest:s,ecuConfig:a,ecuPower:r}=li(),[l,c]=w.useState("all"),[f,h]=w.useState("all"),[m,g]=w.useState(null),[x,b]=w.useState(!1),[v,C]=w.useState(2),E=a?.dtcs||[];rt.useEffect(()=>{console.log("[DTCManagementPanel] Mounted. ECU Power:",r)},[r]);const N=w.useMemo(()=>E.filter(F=>!(l!=="all"&&F.category!==l||f==="confirmed"&&!F.status.confirmedDTC||f==="pending"&&!F.status.pendingDTC||f==="active"&&!F.status.testFailed)),[E,l,f]),R=w.useMemo(()=>({all:E.length,powertrain:E.filter(F=>F.category==="powertrain").length,chassis:E.filter(F=>F.category==="chassis").length,body:E.filter(F=>F.category==="body").length,network:E.filter(F=>F.category==="network").length}),[E]),D=w.useMemo(()=>({confirmed:E.filter(F=>F.status.confirmedDTC).length,pending:E.filter(F=>F.status.pendingDTC).length,active:E.filter(F=>F.status.testFailed).length}),[E]),j=async(F,Z=255)=>{b(!0),C(F);try{await s({sid:25,subFunction:F,data:[Z],timestamp:Date.now()}),console.log("[DTCManagementPanel] Read DTCs Success")}catch(se){console.error("[DTCManagementPanel] Read DTCs Failed:",se)}finally{b(!1)}},O=async()=>{b(!0);const Z={sid:20,data:[255,255,255],timestamp:Date.now()};console.log("[DTCManagementPanel]  Clear DTC Request Created:"),console.log("  - SID:",`0x${Z.sid.toString(16).toUpperCase()}`),console.log("  - Data Array:",Z.data),console.log("  - Data Length:",Z.data?.length),console.log("  - Data Contents:",Z.data?.map(se=>`0x${se.toString(16).toUpperCase().padStart(2,"0")}`).join(" ")),console.log("  - Timestamp:",Z.timestamp),console.log("  - Request Object:",JSON.stringify(Z));try{console.log("[DTCManagementPanel]  Sending Clear DTC request..."),await s(Z),console.log("[DTCManagementPanel]  Clear DTC request completed successfully")}catch(se){console.error("[DTCManagementPanel]  Clear DTC request failed:",se)}finally{b(!1)}},k=F=>{switch(F){case"powertrain":return"";case"chassis":return"";case"body":return"";case"network":return"";default:return""}},V=F=>{if(!F)return"Unknown";const Z=new Date(F),oe=new Date().getTime()-Z.getTime(),z=Math.floor(oe/6e4),G=Math.floor(oe/36e5),I=Math.floor(oe/864e5);return z<60?`${z}m ago`:G<24?`${G}h ago`:I<7?`${I}d ago`:Z.toLocaleDateString()},M=F=>{const Z=jt(F),se=[{mask:128,label:"WIR",desc:"Warning Indicator Requested"},{mask:64,label:"TNC",desc:"Test Not Completed This Cycle"},{mask:32,label:"TFS",desc:"Test Failed Since Last Clear"},{mask:16,label:"TNC",desc:"Test Not Completed Since Clear"},{mask:8,label:"CD",desc:"Confirmed DTC"},{mask:4,label:"PD",desc:"Pending DTC"},{mask:2,label:"TFT",desc:"Test Failed This Operation Cycle"},{mask:1,label:"TF",desc:"Test Failed"}];return u.jsx("div",{className:"flex gap-1",children:se.map((oe,z)=>u.jsx("div",{title:oe.desc,className:`dtc-status-bit ${(Z&oe.mask)!==0?"dtc-status-bit-active":"dtc-status-bit-inactive"}`,children:(Z&oe.mask)!==0?"1":"0"},z))})},_=()=>u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[u.jsx("button",{onClick:()=>{console.log("[DTCManagementPanel] Clicked Count All"),j(1,255)},disabled:x||!r,className:"dtc-action-btn dtc-action-btn-primary",children:"Count All"}),u.jsx("button",{onClick:()=>{console.log("[DTCManagementPanel] Clicked Read All"),j(2,255)},disabled:x||!r,className:"dtc-action-btn dtc-action-btn-primary",children:"Read All"}),u.jsx("button",{onClick:()=>j(2,8),disabled:x||!r,className:"dtc-action-btn dtc-action-btn-warning",children:"Confirmed Only"}),u.jsx("button",{onClick:()=>j(2,4),disabled:x||!r,className:"dtc-action-btn dtc-action-btn-info",children:"Pending Only"}),u.jsx("button",{onClick:()=>j(10),disabled:x||!r,className:"dtc-action-btn dtc-action-btn-purple",children:"Supported DTCs"}),u.jsx("button",{onClick:O,disabled:x||!r,className:"dtc-action-btn dtc-action-btn-danger ml-auto",children:"Clear All DTCs"})]}),W=()=>u.jsx("div",{className:"flex gap-1 mb-3 overflow-x-auto pb-1",children:["all","powertrain","chassis","body","network"].map(F=>u.jsxs("button",{onClick:()=>c(F),className:`dtc-category-tab ${l===F?"dtc-category-tab-active":"dtc-category-tab-inactive"}`,children:[F==="all"?" All":`${k(F)} ${F.charAt(0).toUpperCase()+F.slice(1)}`,u.jsxs("span",{className:"ml-1.5 text-[10px] opacity-70",children:["(",R[F],")"]})]},F))}),X=()=>u.jsx("div",{className:"flex gap-2 mb-4",children:["all","confirmed","pending","active"].map(F=>u.jsxs("button",{onClick:()=>h(F),className:`dtc-status-pill ${f===F?F==="confirmed"?"dtc-status-pill-confirmed":F==="pending"?"dtc-status-pill-pending":F==="active"?"dtc-status-pill-active":"dtc-status-pill-all":"dtc-status-pill-inactive"}`,children:[F.charAt(0).toUpperCase()+F.slice(1),F!=="all"&&u.jsxs("span",{className:"ml-1",children:["(",D[F],")"]})]},F))}),ce=({dtc:F})=>{const Z=m===F.code,se=gk(F.code),oe=yk(F.status),z=G=>{switch(G){case"critical":return"dtc-severity-critical";case"high":return"dtc-severity-high";case"medium":return"dtc-severity-medium";case"low":return"dtc-severity-low";default:return"dtc-severity-default"}};return u.jsxs("div",{className:`dtc-card ${Z?"dtc-card-expanded":""}`,children:[u.jsxs("button",{onClick:()=>g(Z?null:F.code),className:"w-full p-3 flex items-center gap-3 text-left dtc-card-header",children:[u.jsx("div",{className:"text-xl",children:k(F.category)}),u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("div",{className:"dtc-code",children:se}),u.jsx("div",{className:"dtc-category-label",children:F.category})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"dtc-description",children:F.description}),u.jsxs("div",{className:"flex gap-1 mt-1",children:[oe.slice(0,3).map((G,I)=>u.jsx("span",{className:"dtc-status-tag",children:G},I)),oe.length>3&&u.jsxs("span",{className:"dtc-status-more",children:["+",oe.length-3]})]})]}),u.jsx("div",{className:`dtc-severity-badge ${z(F.severity)}`,children:F.severity}),u.jsx("svg",{className:`dtc-expand-icon ${Z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Z&&u.jsxs("div",{className:"dtc-expanded-content",children:[u.jsxs("div",{className:"pt-4",children:[u.jsxs("div",{className:"dtc-section-label",children:["Status Byte (0x",jt(F.status).toString(16).toUpperCase().padStart(2,"0"),")"]}),M(F.status),u.jsx("div",{className:"mt-2 dtc-status-labels",children:"WIR | TNC | TFS | TNC | CD | PD | TFT | TF"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"dtc-counter-box",children:[u.jsx("div",{className:"dtc-counter-label",children:"Occurrences"}),u.jsx("div",{className:"dtc-counter-value dtc-counter-value-primary",children:F.occurrenceCounter})]}),u.jsxs("div",{className:"dtc-counter-box",children:[u.jsx("div",{className:"dtc-counter-label",children:"Aging Counter"}),u.jsx("div",{className:"dtc-counter-value dtc-counter-value-secondary",children:F.agingCounter})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"dtc-timestamp-label",children:"First Failure: "}),u.jsx("span",{className:"dtc-timestamp-value",children:V(F.firstFailureTimestamp)})]}),u.jsxs("div",{children:[u.jsx("span",{className:"dtc-timestamp-label",children:"Most Recent: "}),u.jsx("span",{className:"dtc-timestamp-value",children:V(F.mostRecentFailureTimestamp)})]})]}),F.snapshots&&F.snapshots.length>0&&u.jsxs("div",{children:[u.jsxs("div",{className:"dtc-section-label",children:["Freeze Frame Data (Record #",F.snapshots[0].recordNumber,")"]}),u.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(F.snapshots[0].data).map(([G,I])=>u.jsxs("div",{className:"dtc-data-row",children:[u.jsx("span",{className:"dtc-data-key",children:G.replace(/([A-Z])/g," $1").trim()}),u.jsx("span",{className:"dtc-data-value",children:I})]},G))})]}),F.extendedData&&F.extendedData.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"dtc-section-label",children:"Extended Data"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[u.jsxs("div",{className:"dtc-data-row",children:[u.jsx("span",{className:"dtc-data-key",children:"Aged: "}),u.jsx("span",{className:"dtc-data-value",children:F.extendedData[0].agedCounter})]}),u.jsxs("div",{className:"dtc-data-row",children:[u.jsx("span",{className:"dtc-data-key",children:"Self-Heal: "}),u.jsx("span",{className:"dtc-data-value",children:F.extendedData[0].selfHealingCounter})]}),u.jsxs("div",{className:"dtc-data-row",children:[u.jsx("span",{className:"dtc-data-key",children:"Failed Since Clear: "}),u.jsx("span",{className:F.extendedData[0].failedSinceLastClear?"dtc-data-value-fail":"dtc-data-value-pass",children:F.extendedData[0].failedSinceLastClear?"Yes":"No"})]})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{onClick:()=>j(4,F.code),className:"dtc-detail-btn dtc-detail-btn-primary",children:"Read Snapshot"}),u.jsx("button",{onClick:()=>j(6,F.code),className:"dtc-detail-btn dtc-detail-btn-purple",children:"Read Extended Data"})]})]})]})};return console.log("[DTCManagementPanel] Render. isLoading:",x,"ecuPower:",r),u.jsxs("div",{className:`dtc-panel ${e?"p-3":"p-4"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"dtc-header-icon",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsxs("div",{children:[u.jsx("h3",{className:"dtc-panel-title",children:"DTC Management"}),u.jsx("p",{className:"dtc-panel-subtitle",children:"Service 0x19 - Read DTC Information"})]})]}),t&&u.jsx("button",{onClick:t,className:"dtc-close-btn",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v>0&&u.jsxs("div",{className:"dtc-last-request",children:["Last Request: ",u.jsx("span",{className:"dtc-last-request-value",children:xk(v)})]}),u.jsx(_,{}),u.jsx(W,{}),u.jsx(X,{}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-1 custom-scrollbar",children:N.length===0?u.jsxs("div",{className:"dtc-empty-state",children:[u.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("p",{children:"No DTCs match the current filters"})]}):N.map(F=>u.jsx(ce,{dtc:F},F.code))}),u.jsxs("div",{className:"dtc-footer",children:[u.jsxs("span",{children:["Showing ",N.length," of ",E.length," DTCs"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"dtc-footer-dot dtc-footer-dot-confirmed"}),"Confirmed: ",D.confirmed]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"dtc-footer-dot dtc-footer-dot-pending"}),"Pending: ",D.pending]})]})]})]})},wz=rt.memo(Cz),wS=({value:t,min:e,max:s,label:a,size:r=280,redZoneStart:l,isRpm:c=!1})=>{const f=r/2,h=r/2-15,m=h-35,g=-225,x=45,b=x-g,v=Math.max(e,Math.min(s,t)),C=g+(v-e)/(s-e)*b,E=[],N=c?10:14,R=(s-e)/N;for(let W=0;W<=N;W++){const X=e+W*R,ce=(g+W/N*b)*(Math.PI/180),F=l!==void 0&&X>=l,Z=h-8,se=Z-(W%2===0?20:10),oe=f+Math.cos(ce)*se,z=f+Math.sin(ce)*se,G=f+Math.cos(ce)*Z,I=f+Math.sin(ce)*Z;if(E.push(u.jsx("line",{x1:oe,y1:z,x2:G,y2:I,stroke:F?"#ff3b30":"#ffffff",strokeWidth:W%2===0?3:1.5,strokeLinecap:"round",opacity:W%2===0?1:.5},`tick-${W}`)),W%2===0){const ue=se-18,ve=f+Math.cos(ce)*ue,U=f+Math.sin(ce)*ue,$=c?X/1e3:X;E.push(u.jsx("text",{x:ve,y:U,fill:F?"#ff3b30":"#aaaaaa",fontSize:"14",fontWeight:"600",textAnchor:"middle",dominantBaseline:"middle",style:{fontFamily:"'Inter', 'Segoe UI', sans-serif"},children:Math.round($)},`label-${W}`))}}let D=null;if(l!==void 0&&l<s){const W=g+(l-e)/(s-e)*b,X=h-5,ce=W*(Math.PI/180),F=x*(Math.PI/180),Z=f+Math.cos(ce)*X,se=f+Math.sin(ce)*X,oe=f+Math.cos(F)*X,z=f+Math.sin(F)*X,G=x-W>180?1:0;D=u.jsx("path",{d:`M ${Z} ${se} A ${X} ${X} 0 ${G} 1 ${oe} ${z}`,fill:"none",stroke:"#ff3b30",strokeWidth:"5",opacity:"0.9"})}const j=C*(Math.PI/180),O=m+15,k=f+Math.cos(j)*O,V=f+Math.sin(j)*O,_=l!==void 0&&t>=l?"#ff3b30":"#00d4ff";return u.jsxs("div",{className:"relative cluster-gauge",style:{width:r,height:r},children:[u.jsxs("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,className:"cluster-gauge-svg",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:`bezel-${a}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",className:"gauge-bezel-start",stopColor:"var(--gauge-bezel-start, #3a3a40)"}),u.jsx("stop",{offset:"50%",className:"gauge-bezel-mid",stopColor:"var(--gauge-bezel-mid, #1a1a1f)"}),u.jsx("stop",{offset:"100%",className:"gauge-bezel-end",stopColor:"var(--gauge-bezel-end, #2a2a30)"})]}),u.jsxs("radialGradient",{id:`inner-${a}`,cx:"30%",cy:"30%",children:[u.jsx("stop",{offset:"0%",stopColor:"var(--gauge-inner-start, #1a1a1f)"}),u.jsx("stop",{offset:"100%",stopColor:"var(--gauge-inner-end, #0a0a0d)"})]}),u.jsxs("filter",{id:`needle-glow-${a}`,children:[u.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"blur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("filter",{id:`bezel-glow-${a}`,children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"blur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("circle",{cx:f,cy:f,r:h+3,fill:"none",className:"gauge-bezel-glow",strokeWidth:"1",filter:`url(#bezel-glow-${a})`}),u.jsx("circle",{cx:f,cy:f,r:h,className:"gauge-outer-bezel",fill:`url(#inner-${a})`,stroke:`url(#bezel-${a})`,strokeWidth:"8"}),u.jsx("circle",{cx:f,cy:f,r:m-30,className:"gauge-inner-circle",strokeWidth:"1"}),D,E,u.jsx("line",{x1:f,y1:f,x2:k,y2:V,stroke:_,strokeWidth:"4",strokeLinecap:"round",filter:`url(#needle-glow-${a})`,style:{transition:"all 0.15s ease-out"}}),u.jsx("circle",{cx:f,cy:f,r:"18",className:"gauge-center-hub",strokeWidth:"3"}),u.jsx("circle",{cx:f,cy:f,r:"8",className:"gauge-center-dot"})]}),u.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2",children:u.jsx("span",{className:"text-sm cluster-gauge-label uppercase tracking-[0.2em] font-medium",children:a})})]})},Ez=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M17 10h-4V6h-2v4H7v2h4v4h2v-4h4v-2zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),Nz=()=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"12",y:"15",textAnchor:"middle",fontSize:"7",fontWeight:"bold",children:"ABS"})]}),ES=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M17 4h-3V2h-4v2H7v18h10V4zm-4 12h-2v-4H9v-2h2V8h2v2h2v2h-2v4z"})}),NS=()=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("path",{d:"M19 20H5V9l7-7 7 7v11zM12 4.83L7 9.83V18h10V9.83l-5-5z"}),u.jsx("circle",{cx:"12",cy:"14",r:"3"})]}),RS=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1v3h-2V5z"})}),Rz=()=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}),u.jsx("text",{x:"12",y:"9",textAnchor:"middle",fontSize:"5",children:"!"}),u.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"4",children:"BRAKE"})]}),Tz=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 14l-5-5 1.41-1.41L11 14.17l7.59-7.59L20 8l-9 9z"})}),TS=()=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.77 7.23l.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1v-4c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5z"})}),Ai=({icon:t,active:e,color:s,label:a})=>{const l={red:{on:"#ff3b30",glow:"rgba(255, 59, 48, 0.8)"},amber:{on:"#ff9500",glow:"rgba(255, 149, 0, 0.8)"},green:{on:"#30d158",glow:"rgba(48, 209, 88, 0.8)"}}[s];return u.jsx("div",{className:"flex flex-col items-center",title:a,children:u.jsx("div",{className:`w-6 h-6 transition-all duration-300 ${e?"":"cluster-telltale-inactive"}`,style:{color:e?l.on:void 0,filter:e?`drop-shadow(0 0 6px ${l.glow})`:"none"},children:t})})},ku=({icon:t,label:e,value:s,unit:a,warning:r})=>u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2",children:[u.jsx("div",{className:`w-5 h-5 ${r?"text-red-500":"text-cyan-500"}`,children:t}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] cluster-text-secondary uppercase tracking-wider",children:e}),u.jsxs("div",{className:`text-lg font-semibold tabular-nums ${r?"text-red-400":"cluster-status-value"}`,children:[s,u.jsx("span",{className:"text-xs cluster-text-secondary ml-1",children:a})]})]})]}),kz=({gear:t,onChange:e})=>{const s=["P","R","N","D"];return u.jsx("div",{className:"flex flex-col items-center gap-1",children:s.map(a=>u.jsx("button",{onClick:()=>e(a),className:`w-12 h-10 flex items-center justify-center text-xl font-bold transition-all duration-200 rounded ${t===a?"text-green-400 bg-green-500/10 shadow-[0_0_15px_rgba(48,209,88,0.3)]":"cluster-fault-chevron hover:text-gray-400"}`,style:{fontFamily:"'Inter', sans-serif",textShadow:t===a?"0 0 10px rgba(48, 209, 88, 0.8)":"none"},children:a},a))})},Dz=({status:t,onChange:e})=>{const s=["OFF","ACC","ON","CRANK"],a={OFF:"#666",ACC:"#ff9500",ON:"#30d158",CRANK:"#007aff"};return u.jsx("div",{className:"flex gap-1 cluster-ignition-switch rounded-lg p-1",children:s.map(r=>u.jsx("button",{onClick:()=>e(r),className:`px-3 py-1.5 text-[10px] font-bold rounded transition-all ${t===r?"scale-105":"opacity-40 hover:opacity-70 cluster-ignition-btn-inactive"}`,style:{backgroundColor:t===r?`${a[r]}20`:"transparent",color:t===r?a[r]:void 0,boxShadow:t===r?`0 0 10px ${a[r]}40`:"none"},children:r},r))})},Bt=({label:t,checked:e,onChange:s})=>u.jsxs("label",{className:"flex items-center justify-between py-1.5 cursor-pointer group",children:[u.jsx("span",{className:`text-xs transition-colors ${e?"text-red-400":"cluster-fault-label group-hover:cluster-fault-label"}`,children:t}),u.jsx("div",{className:`w-9 h-5 rounded-full relative transition-all cursor-pointer ${e?"bg-red-500":"cluster-toggle-inactive"}`,onClick:()=>s(!e),children:u.jsx("div",{className:`absolute top-0.5 w-4 h-4 rounded-full bg-white transition-all ${e?"left-4":"left-0.5"}`})})]}),Du=({title:t,activeCount:e,children:s})=>{const[a,r]=w.useState(!0);return u.jsxs("div",{className:"border cluster-fault-section rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>r(!a),className:"w-full flex items-center justify-between p-2.5 cluster-fault-section-header hover:bg-white/5 transition-colors",children:[u.jsx("span",{className:"text-xs font-medium cluster-fault-section-title",children:t}),u.jsxs("div",{className:"flex items-center gap-2",children:[e>0&&u.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold bg-red-500/20 text-red-400 rounded",children:e}),u.jsx("svg",{className:`w-3 h-3 cluster-fault-chevron transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),a&&u.jsx("div",{className:"px-2.5 pb-2.5 border-t cluster-fault-section-content",children:s})]})},jz=()=>{const{vehicleState:t,updateVehicleState:e,powerState:s,setPowerState:a,voltage:r,simulateCranking:l,updateDTCStatus:c}=li();rt.useEffect(()=>{console.log("[ClusterDashboardPage] Mounted")},[]);const f=k=>{switch(k){case"OFF":return"OFF";case"ACC":return"ACC";case"ON":return"ON";case"CRANKING":return"CRANK";default:return"OFF"}},h=k=>{switch(k){case"OFF":return"OFF";case"ACC":return"ACC";case"ON":return"ON";case"CRANK":return"CRANKING";default:return"OFF"}},m=f(s),g=k=>{k==="CRANK"?l():a(h(k))},x=(k,V)=>{e(k,V)},[b,v]=w.useState({powertrain:{mafFault:!1,coolantTempSensorFault:!1,throttlePositionError:!1,misfireDetected:!1,fuelPressureLow:!1},brakes:{wheelSpeedFLFault:!1,wheelSpeedFRFault:!1,brakePressureSensorFault:!1,absPumpMotorFailure:!1,yawRateSensorFault:!1},body:{driverDoorSwitchStuck:!1,windowMotorFLStuck:!1,wiperMotorOverload:!1,centralLockControlFault:!1},network:{canTimeoutEngineEcu:!1,canTimeoutAbs:!1,canBusOff:!1}}),C=(k,V,M)=>{v(_=>({..._,[k]:{..._[k],[V]:M}}))},E=k=>Object.values(b[k]).filter(Boolean).length,N=Object.keys(b).reduce((k,V)=>k+E(V),0),R=()=>{console.log("=== Operating Conditions Applied ==="),console.log("vehicleState:",JSON.stringify(t,null,2)),console.log("ignitionStatus:",m),console.log("voltage:",r)},D=()=>{console.log("=== Fault Triggers Applied ==="),console.log("faultTriggers:",JSON.stringify({...b,totalActive:N},null,2)),c(65793,b.powertrain.mafFault,t),c(65905,b.powertrain.coolantTempSensorFault,t),c(66304,b.powertrain.misfireDetected,t),c(66914,b.powertrain.fuelPressureLow,t),c(131125,b.brakes.wheelSpeedFLFault,t),c(131141,b.brakes.absPumpMotorFailure,t),c(196694,b.body.driverDoorSwitchStuck,t),c(262400,b.network.canTimeoutEngineEcu,t),c(262433,b.network.canTimeoutAbs,t)},j=()=>{v({powertrain:{mafFault:!1,coolantTempSensorFault:!1,throttlePositionError:!1,misfireDetected:!1,fuelPressureLow:!1},brakes:{wheelSpeedFLFault:!1,wheelSpeedFRFault:!1,brakePressureSensorFault:!1,absPumpMotorFailure:!1,yawRateSensorFault:!1},body:{driverDoorSwitchStuck:!1,windowMotorFLStuck:!1,wiperMotorOverload:!1,centralLockControlFault:!1},network:{canTimeoutEngineEcu:!1,canTimeoutAbs:!1,canBusOff:!1}})},O={engine:Object.values(b.powertrain).some(Boolean),abs:Object.values(b.brakes).some(Boolean),battery:r<11.5||r>15.5,oil:b.powertrain.fuelPressureLow||t.oilPressure<20,temp:t.coolantTemperature>105,fuel:t.fuelLevel<15,brake:b.brakes.brakePressureSensorFault,esp:b.brakes.yawRateSensorFault};return u.jsxs("div",{className:"min-h-screen relative overflow-hidden cluster-page-container",children:[u.jsx("div",{className:"cyber-grid opacity-30"}),u.jsx(Gl,{}),u.jsxs("div",{className:"relative z-10",children:[u.jsx(ld,{}),u.jsxs("main",{className:"container mx-auto px-4 py-4",children:[u.jsx("div",{className:"protocol-dashboard mb-4",children:u.jsx(Hp,{})}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-5 gap-4",children:[u.jsx("div",{className:"xl:col-span-4",children:u.jsxs("div",{className:"relative rounded-[2rem] overflow-hidden cluster-main-panel",children:[u.jsxs("div",{className:"flex items-center justify-center gap-8 py-4 border-b cluster-telltales-header",children:[u.jsx(Ai,{icon:u.jsx(Ez,{}),active:O.engine,color:"amber",label:"Check Engine"}),u.jsx(Ai,{icon:u.jsx(Nz,{}),active:O.abs,color:"amber",label:"ABS"}),u.jsx(Ai,{icon:u.jsx(ES,{}),active:O.battery,color:"red",label:"Battery"}),u.jsx(Ai,{icon:u.jsx(NS,{}),active:O.oil,color:"red",label:"Oil"}),u.jsx(Ai,{icon:u.jsx(RS,{}),active:O.temp,color:"red",label:"Temperature"}),u.jsx(Ai,{icon:u.jsx(TS,{}),active:O.fuel,color:"amber",label:"Fuel"}),u.jsx(Ai,{icon:u.jsx(Rz,{}),active:O.brake,color:"red",label:"Brake"}),u.jsx(Ai,{icon:u.jsx(Tz,{}),active:O.esp,color:"amber",label:"ESP"})]}),u.jsxs("div",{className:"flex items-center justify-center py-6 px-4 gap-2 lg:gap-0",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(wS,{value:t.engineRpm,min:0,max:1e4,label:"RPM",size:260,redZoneStart:7e3,isRpm:!0})}),u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4 lg:px-8 min-w-[200px] max-w-[350px]",children:[u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("div",{className:"text-7xl lg:text-8xl font-extralight tabular-nums tracking-tight cluster-speed-display",style:{fontFamily:"'Inter', sans-serif"},children:Math.round(t.vehicleSpeedKph)}),u.jsx("div",{className:"text-sm cluster-text-secondary tracking-[0.3em] mt-1",children:"KM/H"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full cluster-status-panel rounded-xl p-3 border",children:[u.jsx(ku,{icon:u.jsx(ES,{}),label:"Voltage",value:r.toFixed(1),unit:"V",warning:r<11.5}),u.jsx(ku,{icon:u.jsx(RS,{}),label:"Coolant",value:t.coolantTemperature.toString(),unit:"C",warning:t.coolantTemperature>105}),u.jsx(ku,{icon:u.jsx(NS,{}),label:"Oil Press",value:t.oilPressure.toString(),unit:"psi",warning:t.oilPressure<20}),u.jsx(ku,{icon:u.jsx(TS,{}),label:"Fuel",value:t.fuelLevel.toString(),unit:"%",warning:t.fuelLevel<15})]}),u.jsx("div",{className:"mt-4",children:u.jsx(Dz,{status:m,onChange:g})})]}),u.jsxs("div",{className:"flex-shrink-0 flex items-center gap-4",children:[u.jsx(wS,{value:t.vehicleSpeedKph,min:0,max:280,label:"KM/H",size:260}),u.jsx(kz,{gear:t.gearPosition,onChange:k=>x("gearPosition",k)})]})]}),u.jsxs("div",{className:"px-6 pb-4",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"cluster-control-slider rounded-lg p-3 border",children:[u.jsx("label",{className:"text-[10px] cluster-control-label uppercase tracking-wider",children:"Engine RPM"}),u.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:t.engineRpm,onChange:k=>x("engineRpm",Number(k.target.value)),className:"w-full mt-1 accent-cyan-500"}),u.jsx("div",{className:"text-center text-xs cluster-control-value mt-1",children:t.engineRpm})]}),u.jsxs("div",{className:"cluster-control-slider rounded-lg p-3 border",children:[u.jsx("label",{className:"text-[10px] cluster-control-label uppercase tracking-wider",children:"Speed"}),u.jsx("input",{type:"range",min:"0",max:"280",value:t.vehicleSpeedKph,onChange:k=>x("vehicleSpeedKph",Number(k.target.value)),className:"w-full mt-1 accent-cyan-500"}),u.jsxs("div",{className:"text-center text-xs cluster-control-value mt-1",children:[t.vehicleSpeedKph," km/h"]})]}),u.jsxs("div",{className:"cluster-control-slider rounded-lg p-3 border",children:[u.jsx("label",{className:"text-[10px] cluster-control-label uppercase tracking-wider",children:"Coolant"}),u.jsx("input",{type:"range",min:"-40",max:"130",value:t.coolantTemperature,onChange:k=>x("coolantTemperature",Number(k.target.value)),className:"w-full mt-1 accent-red-500"}),u.jsxs("div",{className:"text-center text-xs cluster-control-value mt-1",children:[t.coolantTemperature,"C"]})]}),u.jsxs("div",{className:"cluster-control-slider rounded-lg p-3 border",children:[u.jsx("label",{className:"text-[10px] cluster-control-label uppercase tracking-wider",children:"Fuel Level"}),u.jsx("input",{type:"range",min:"0",max:"100",value:t.fuelLevel,onChange:k=>x("fuelLevel",Number(k.target.value)),className:"w-full mt-1 accent-green-500"}),u.jsxs("div",{className:"text-center text-xs cluster-control-value mt-1",children:[t.fuelLevel,"%"]})]})]}),u.jsx("button",{onClick:R,className:"w-full mt-3 py-2.5 cluster-apply-btn text-sm font-medium rounded-lg transition-all",children:"Apply Operating Conditions"})]})]})}),u.jsxs("div",{className:"cluster-fault-panel rounded-xl p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"text-xs font-medium cluster-fault-header uppercase tracking-wider",children:"Faults"}),N>0&&u.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold bg-red-500/20 text-red-400 rounded",children:N})]}),u.jsxs("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-1 custom-scrollbar",children:[u.jsxs(Du,{title:"Powertrain",activeCount:E("powertrain"),children:[u.jsx(Bt,{label:"MAF Sensor",checked:b.powertrain.mafFault,onChange:k=>C("powertrain","mafFault",k)}),u.jsx(Bt,{label:"Coolant Sensor",checked:b.powertrain.coolantTempSensorFault,onChange:k=>C("powertrain","coolantTempSensorFault",k)}),u.jsx(Bt,{label:"Throttle Error",checked:b.powertrain.throttlePositionError,onChange:k=>C("powertrain","throttlePositionError",k)}),u.jsx(Bt,{label:"Misfire",checked:b.powertrain.misfireDetected,onChange:k=>C("powertrain","misfireDetected",k)}),u.jsx(Bt,{label:"Fuel Pressure",checked:b.powertrain.fuelPressureLow,onChange:k=>C("powertrain","fuelPressureLow",k)})]}),u.jsxs(Du,{title:"Brakes/ABS/ESP",activeCount:E("brakes"),children:[u.jsx(Bt,{label:"Wheel Speed FL",checked:b.brakes.wheelSpeedFLFault,onChange:k=>C("brakes","wheelSpeedFLFault",k)}),u.jsx(Bt,{label:"Wheel Speed FR",checked:b.brakes.wheelSpeedFRFault,onChange:k=>C("brakes","wheelSpeedFRFault",k)}),u.jsx(Bt,{label:"Brake Pressure",checked:b.brakes.brakePressureSensorFault,onChange:k=>C("brakes","brakePressureSensorFault",k)}),u.jsx(Bt,{label:"ABS Pump",checked:b.brakes.absPumpMotorFailure,onChange:k=>C("brakes","absPumpMotorFailure",k)}),u.jsx(Bt,{label:"Yaw Rate",checked:b.brakes.yawRateSensorFault,onChange:k=>C("brakes","yawRateSensorFault",k)})]}),u.jsxs(Du,{title:"Body/Comfort",activeCount:E("body"),children:[u.jsx(Bt,{label:"Door Switch",checked:b.body.driverDoorSwitchStuck,onChange:k=>C("body","driverDoorSwitchStuck",k)}),u.jsx(Bt,{label:"Window Motor",checked:b.body.windowMotorFLStuck,onChange:k=>C("body","windowMotorFLStuck",k)}),u.jsx(Bt,{label:"Wiper Motor",checked:b.body.wiperMotorOverload,onChange:k=>C("body","wiperMotorOverload",k)}),u.jsx(Bt,{label:"Central Lock",checked:b.body.centralLockControlFault,onChange:k=>C("body","centralLockControlFault",k)})]}),u.jsxs(Du,{title:"Network/CAN",activeCount:E("network"),children:[u.jsx(Bt,{label:"CAN Engine",checked:b.network.canTimeoutEngineEcu,onChange:k=>C("network","canTimeoutEngineEcu",k)}),u.jsx(Bt,{label:"CAN ABS",checked:b.network.canTimeoutAbs,onChange:k=>C("network","canTimeoutAbs",k)}),u.jsx(Bt,{label:"CAN Bus-Off",checked:b.network.canBusOff,onChange:k=>C("network","canBusOff",k)})]})]}),u.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t cluster-footer-divider",children:[u.jsx("button",{onClick:D,className:"flex-1 py-2 cluster-inject-btn text-xs font-medium rounded-lg transition-all hover:opacity-90",children:"Inject"}),u.jsx("button",{onClick:j,className:"px-3 py-2 cluster-reset-btn text-xs rounded-lg transition-all hover:opacity-90",children:"Reset"})]})]})]}),u.jsx("div",{className:"dtc-management-panel mt-4",children:u.jsx(wz,{})})]})]})]})},Um={16:{code:16,name:"General Reject",description:"General rejection - service not supported or malformed request",severity:"error"},17:{code:17,name:"Service Not Supported",description:"The requested service is not supported by the server",severity:"error"},18:{code:18,name:"Sub-Function Not Supported",description:"The requested sub-function is not supported",severity:"error"},19:{code:19,name:"Incorrect Message Length",description:"The length of the message is incorrect",severity:"error"},20:{code:20,name:"Response Too Long",description:"The response would exceed the maximum allowed size",severity:"warning"},33:{code:33,name:"Busy Repeat Request",description:"Server is busy, client should repeat the request",severity:"info"},34:{code:34,name:"Conditions Not Correct",description:"The conditions are not correct to perform the request",severity:"warning"},36:{code:36,name:"Request Sequence Error",description:"The request is out of sequence",severity:"error"},49:{code:49,name:"Request Out of Range",description:"The request parameter is out of range",severity:"error"},51:{code:51,name:"Security Access Denied",description:"Security access is required but not granted",severity:"critical"},53:{code:53,name:"Invalid Key",description:"The security key sent by the client is invalid",severity:"critical"},54:{code:54,name:"Exceed Number of Attempts",description:"Security access attempts exceeded",severity:"critical"},55:{code:55,name:"Required Time Delay Not Expired",description:"Required delay period has not expired",severity:"warning"},112:{code:112,name:"Upload/Download Not Accepted",description:"Upload or download operation not accepted",severity:"error"},113:{code:113,name:"Transfer Data Suspended",description:"Data transfer operation has been suspended",severity:"warning"},114:{code:114,name:"General Programming Failure",description:"General programming failure occurred",severity:"critical"},115:{code:115,name:"Wrong Block Sequence Counter",description:"Block sequence counter is incorrect",severity:"error"},120:{code:120,name:"Request Correctly Received - Response Pending",description:"Request received but response is pending",severity:"info"},126:{code:126,name:"Sub-Function Not Supported In Active Session",description:"Sub-function not supported in the current session",severity:"warning"},127:{code:127,name:"Service Not Supported In Active Session",description:"Service not supported in the current session",severity:"warning"}};class _z{analyzeReport(e){const{requests:s,responses:a}=e,r=s.length,l=a.length,c=a.filter(N=>!N.isNegative).length,f=a.filter(N=>N.isNegative).length,h=l>0?c/l*100:0,m=s.map(N=>N.timestamp),g=m.length>0?Math.min(...m):0,x=m.length>0?Math.max(...m):0,b=x-g,v=new Map;a.filter(N=>N.isNegative&&N.nrc!==void 0).forEach(N=>{const R=N.nrc,D=v.get(R);if(D)D.count++;else{const j=Um[R]||{name:`Unknown NRC (0x${R.toString(16).toUpperCase().padStart(2,"0")})`};v.set(R,{count:1,description:j.name,percentage:0})}}),v.forEach(N=>{N.percentage=f>0?N.count/f*100:0});const C=s.map((N,R)=>{const D=a[R];return{timestamp:N.timestamp,isSuccess:D?!D.isNegative:!1,nrc:D?.nrc,description:N.description,requestIndex:R}}),E=s.map((N,R)=>{const D=a[R],j=D?D.timestamp-N.timestamp:0,O=D?D.isNegative?"nrc":"success":"timeout";return{request:N,response:D||{sid:N.sid,data:[],timestamp:N.timestamp,isNegative:!0,nrc:120},duration:j,status:O}});return{summary:{totalRequests:r,totalResponses:l,successCount:c,nrcCount:f,successRate:Math.round(h*100)/100,duration:b,startTime:g,endTime:x},nrcBreakdown:v,timeline:C,requestResponsePairs:E}}getNRCDescription(e){return Um[e]||{code:e,name:`Unknown NRC (0x${e.toString(16).toUpperCase().padStart(2,"0")})`,description:"Unknown or custom negative response code",severity:"error"}}getAllNRCDescriptions(){return Object.values(Um)}formatDuration(e){if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(2)}s`;if(e<36e5){const s=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return`${s}m ${a}s`}else{const s=Math.floor(e/36e5),a=Math.floor(e%36e5/6e4);return`${s}h ${a}m`}}formatTimestamp(e){return new Date(e).toLocaleString()}getSIDName(e){return{16:"Diagnostic Session Control",17:"ECU Reset",20:"Clear Diagnostic Information",25:"Read DTC Information",34:"Read Data By Identifier",35:"Read Memory By Address",39:"Security Access",40:"Communication Control",42:"Read Data By Periodic Identifier",46:"Write Data By Identifier",49:"Routine Control",52:"Request Download",53:"Request Upload",54:"Transfer Data",55:"Request Transfer Exit",61:"Write Memory By Address"}[e]||`Service 0x${e.toString(16).toUpperCase().padStart(2,"0")}`}}const bn=new _z,Oz=({analysis:t,reportName:e})=>{const{summary:s}=t,a=[{label:"Total Requests",value:s.totalRequests.toString(),icon:"",color:"cyan"},{label:"Successful",value:s.successCount.toString(),icon:"",color:"green"},{label:"NRC Errors",value:s.nrcCount.toString(),icon:"",color:"red"},{label:"Success Rate",value:`${s.successRate.toFixed(1)}%`,icon:"",color:s.successRate>=80?"green":s.successRate>=50?"orange":"red"},{label:"Test Duration",value:bn.formatDuration(s.duration),icon:"",color:"purple"}];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"glass-card p-6",children:[u.jsx("h2",{className:"text-2xl font-bold gradient-text mb-2",children:e}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[u.jsxs("span",{children:["Start: ",bn.formatTimestamp(s.startTime)]}),u.jsxs("span",{children:["End: ",bn.formatTimestamp(s.endTime)]}),u.jsxs("span",{children:["Total Responses: ",s.totalResponses]})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:a.map((r,l)=>u.jsxs("div",{className:`glass-card p-6 hover-lift transition-all duration-300 ${Az(r.color)}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-3xl","aria-hidden":"true",children:r.icon}),u.jsx("div",{className:`text-3xl font-bold ${Mz(r.color)}`,children:r.value})]}),u.jsx("div",{className:"text-sm text-gray-400",children:r.label})]},l))})]})};function Az(t){switch(t){case"green":return"border-l-4 border-l-cyber-green";case"red":return"border-l-4 border-l-red-500";case"orange":return"border-l-4 border-l-orange-500";case"purple":return"border-l-4 border-l-purple-500";case"cyan":default:return"border-l-4 border-l-cyber-blue"}}function Mz(t){switch(t){case"green":return"text-cyber-green";case"red":return"text-red-500";case"orange":return"text-orange-500";case"purple":return"text-purple-500";case"cyan":default:return"text-cyber-blue"}}const Lz=({analysis:t})=>{const[e,s]=w.useState(null),a=Array.from(t.nrcBreakdown.entries()).map(([r,l])=>({code:r,...l,nrcInfo:bn.getNRCDescription(r)})).sort((r,l)=>l.count-r.count);return a.length===0?u.jsxs("div",{className:"glass-card p-8",children:[u.jsx("h3",{className:"text-xl font-bold text-cyber-blue mb-4",children:"NRC Analysis"}),u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("p",{className:"text-gray-400",children:"No NRC errors encountered in this test session!"}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"All requests completed successfully."})]})]}):u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-cyber-blue",children:"NRC Distribution"}),u.jsxs("div",{className:"text-sm text-gray-400",children:["Total NRCs: ",u.jsx("span",{className:"text-red-500 font-bold",children:t.summary.nrcCount})]})]}),u.jsx("div",{className:"space-y-3 mb-6",children:a.map(r=>{const l=e===r.code,c=kS(r.nrcInfo.severity);return u.jsxs("div",{className:`transition-all duration-300 cursor-pointer ${l?"scale-105":"hover:scale-102"}`,onClick:()=>s(l?null:r.code),children:[u.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[u.jsxs("div",{className:"font-mono text-sm text-cyber-blue min-w-[4rem]",children:["0x",r.code.toString(16).toUpperCase().padStart(2,"0")]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm text-gray-300",children:r.description}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-xs text-gray-500",children:[r.count,"x"]}),u.jsxs("span",{className:"text-xs font-bold text-gray-400",children:[r.percentage.toFixed(1),"%"]})]})]}),u.jsx("div",{className:"relative h-8 bg-dark-800 rounded-lg overflow-hidden",children:u.jsx("div",{className:`h-full ${c} transition-all duration-500 ease-out flex items-center px-3`,style:{width:`${r.percentage}%`},children:u.jsxs("span",{className:"text-xs font-semibold text-white mix-blend-difference",children:[r.count," occurrence",r.count!==1?"s":""]})})})]})]}),l&&u.jsx("div",{className:"ml-20 mt-2 p-4 bg-dark-800/50 rounded-lg border border-cyber-blue/30 animate-fade-in",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Full Name:"}),u.jsx("span",{className:"ml-2 text-gray-200",children:r.nrcInfo.name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Severity:"}),u.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-bold ${Uz(r.nrcInfo.severity)}`,children:r.nrcInfo.severity.toUpperCase()})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("span",{className:"text-gray-500",children:"Description:"}),u.jsx("p",{className:"mt-1 text-gray-300",children:r.nrcInfo.description})]})]})})]},r.code)})}),u.jsx("div",{className:"pt-4 border-t border-dark-600",children:u.jsx("div",{className:"flex flex-wrap gap-4 justify-center text-xs",children:["info","warning","error","critical"].map(r=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`w-3 h-3 rounded ${kS(r)}`}),u.jsx("span",{className:"text-gray-400 capitalize",children:r})]},r))})}),u.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Click on any bar for more details"})]})};function kS(t){switch(t){case"info":return"bg-blue-500";case"warning":return"bg-yellow-500";case"error":return"bg-orange-500";case"critical":return"bg-red-600";default:return"bg-gray-500"}}function Uz(t){switch(t){case"info":return"bg-blue-500/20 text-blue-400";case"warning":return"bg-yellow-500/20 text-yellow-400";case"error":return"bg-orange-500/20 text-orange-400";case"critical":return"bg-red-600/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}}const Pz=({analysis:t})=>{const[e,s]=w.useState("all"),[a,r]=w.useState(null),l=t.timeline.filter(f=>e==="success"?f.isSuccess:e==="error"?!f.isSuccess:!0),c=l.slice(0,100);return u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-cyber-blue",children:"Test Timeline"}),u.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"All",count:t.timeline.length},{value:"success",label:"Success",count:t.summary.successCount},{value:"error",label:"NRC",count:t.summary.nrcCount}].map(f=>u.jsxs("button",{onClick:()=>s(f.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${e===f.value?"bg-cyber-blue text-dark-900":"bg-dark-800 text-gray-400 hover:bg-dark-700"}`,children:[f.label," (",f.count,")"]},f.value))})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-cyber-blue via-purple-500 to-cyber-pink"}),u.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar pr-2",children:c.map((f,h)=>{const m=a===h,g=f.isSuccess,x=new Date(f.timestamp);return u.jsxs("div",{className:"relative pl-16 transition-all duration-200",onMouseEnter:()=>r(h),onMouseLeave:()=>r(null),children:[u.jsx("div",{className:`absolute left-6 top-3 w-5 h-5 rounded-full border-2 transition-all duration-200 ${g?"bg-cyber-green border-cyber-green shadow-neon-green":"bg-red-500 border-red-500 shadow-neon-red"} ${m?"scale-150":"scale-100"}`,children:u.jsx("div",{className:`absolute inset-0 rounded-full animate-ping ${g?"bg-cyber-green":"bg-red-500"}`,style:{animationDuration:"2s"}})}),u.jsxs("div",{className:`glass-panel p-4 rounded-lg transition-all duration-200 border-l-4 ${g?"border-l-cyber-green":"border-l-red-500"} ${m?"bg-dark-700/80 scale-102":"bg-dark-800/50"}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`text-lg ${g?"text-cyber-green":"text-red-500"}`,"aria-label":g?"Success":"Error",children:g?"":""}),u.jsx("p",{className:"text-sm text-gray-300 truncate",children:f.description})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500",children:[u.jsxs("span",{children:["#",f.requestIndex+1]}),u.jsxs("span",{children:[x.toLocaleTimeString(),".",x.getMilliseconds()]}),f.nrc&&u.jsxs("span",{className:"text-red-400 font-mono",children:["NRC: 0x",f.nrc.toString(16).toUpperCase().padStart(2,"0")]})]})]}),u.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap ${g?"bg-cyber-green/20 text-cyber-green":"bg-red-500/20 text-red-500"}`,children:g?"SUCCESS":"NRC"})]}),m&&f.nrc&&u.jsx("div",{className:"mt-3 pt-3 border-t border-dark-600 animate-fade-in",children:u.jsx("p",{className:"text-xs text-gray-400",children:bn.getNRCDescription(f.nrc).description})})]})]},h)})}),l.length>100&&u.jsxs("div",{className:"mt-4 text-center py-3 bg-dark-800/50 rounded-lg",children:[u.jsxs("p",{className:"text-sm text-gray-400",children:["Showing first 100 of ",l.length," items"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"See detailed log table for complete timeline"})]}),c.length===0&&u.jsx("div",{className:"text-center py-12 text-gray-500",children:u.jsx("p",{children:"No items match the selected filter"})})]})]})};class zz{toCSVRow(e){return e.map(s=>{if(s==null)return"";const a=String(s);return a.includes(",")||a.includes('"')||a.includes(`
`)?`"${a.replace(/"/g,'""')}"`:a}).join(",")}formatTimestamp(e){return new Date(e).toLocaleString()}hexArrayToString(e){return e.map(s=>s.toString(16).toUpperCase().padStart(2,"0")).join(" ")}getNRCName(e){return bn.getNRCDescription(e).name}exportTestLog(e){const s=[];return s.push(this.toCSVRow(["Index","Timestamp","Request SID","Request SubFunction","Request Data","Request Description","Response SID","Response Data","Response Status","NRC Code","NRC Description","Duration (ms)"])),e.requestResponsePairs.forEach((a,r)=>{const l=a.request,c=a.response,f=a.status==="success"?"Success":a.status==="nrc"?"NRC":"Timeout";s.push(this.toCSVRow([r+1,this.formatTimestamp(l.timestamp),`0x${l.sid.toString(16).toUpperCase().padStart(2,"0")}`,l.subFunction!==void 0?`0x${l.subFunction.toString(16).toUpperCase().padStart(2,"0")}`:"",this.hexArrayToString(l.data),l.description,`0x${c.sid.toString(16).toUpperCase().padStart(2,"0")}`,this.hexArrayToString(c.data),f,c.isNegative&&c.nrc!==void 0?`0x${c.nrc.toString(16).toUpperCase().padStart(2,"0")}`:"",c.isNegative&&c.nrc!==void 0?this.getNRCName(c.nrc):"",a.duration.toFixed(2)]))}),s.join(`
`)}exportSummary(e,s){const a=[];return a.push(this.toCSVRow(["Report Information"])),a.push(this.toCSVRow(["Report ID",e.id])),a.push(this.toCSVRow(["Report Name",e.name])),a.push(this.toCSVRow(["Description",e.description])),a.push(this.toCSVRow(["Version",e.version])),a.push(this.toCSVRow(["Author",e.metadata.author])),a.push(this.toCSVRow(["Tags",e.metadata.tags.join(", ")])),a.push(this.toCSVRow([])),a.push(this.toCSVRow(["Summary Statistics"])),a.push(this.toCSVRow(["Total Requests",s.summary.totalRequests])),a.push(this.toCSVRow(["Total Responses",s.summary.totalResponses])),a.push(this.toCSVRow(["Successful Responses",s.summary.successCount])),a.push(this.toCSVRow(["Negative Responses (NRC)",s.summary.nrcCount])),a.push(this.toCSVRow(["Success Rate (%)",s.summary.successRate.toFixed(2)])),a.push(this.toCSVRow(["Test Duration",bn.formatDuration(s.summary.duration)])),a.push(this.toCSVRow(["Start Time",this.formatTimestamp(s.summary.startTime)])),a.push(this.toCSVRow(["End Time",this.formatTimestamp(s.summary.endTime)])),a.push(this.toCSVRow([])),s.nrcBreakdown.size>0&&(a.push(this.toCSVRow(["NRC Breakdown"])),a.push(this.toCSVRow(["NRC Code","Description","Count","Percentage (%)"])),s.nrcBreakdown.forEach((r,l)=>{a.push(this.toCSVRow([`0x${l.toString(16).toUpperCase().padStart(2,"0")}`,r.description,r.count,r.percentage.toFixed(2)]))})),a.join(`
`)}exportComplete(e,s){const a=[];return a.push(this.exportSummary(e,s)),a.push(""),a.push(""),a.push("Test Log (Detailed Request/Response Data)"),a.push(this.exportTestLog(s)),a.join(`
`)}downloadCSV(e,s){const r=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(r);l.setAttribute("href",c),l.setAttribute("download",s),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c)}exportTestLogToCSV(e,s){const a=this.exportTestLog(s),r=`${e.id}_test_log_${Date.now()}.csv`;this.downloadCSV(a,r)}exportSummaryToCSV(e,s){const a=this.exportSummary(e,s),r=`${e.id}_summary_${Date.now()}.csv`;this.downloadCSV(a,r)}exportCompleteToCSV(e,s){const a=this.exportComplete(e,s),r=`${e.id}_complete_report_${Date.now()}.csv`;this.downloadCSV(a,r)}}const gE=new zz,Iz=({analysis:t,report:e})=>{const[s,a]=w.useState(""),[r,l]=w.useState("all"),[c,f]=w.useState("index"),[h,m]=w.useState("asc"),[g,x]=w.useState(null),b=w.useMemo(()=>{let E=t.requestResponsePairs.filter(N=>{if(r==="success"&&N.status!=="success"||r==="nrc"&&N.status==="success")return!1;if(s){const R=s.toLowerCase();return String(N.request.description||"").toLowerCase().includes(R)}return!0});return E.sort((N,R)=>{let D,j;switch(c){case"time":D=N.request.timestamp,j=R.request.timestamp;break;case"duration":D=N.duration,j=R.duration;break;case"index":default:D=t.requestResponsePairs.indexOf(N),j=t.requestResponsePairs.indexOf(R);break}return h==="asc"?D-j:j-D}),E},[t.requestResponsePairs,s,r,c,h]),v=E=>{c===E?m(h==="asc"?"desc":"asc"):(f(E),m("asc"))},C=E=>E.length===0?"-":E.map(N=>N.toString(16).toUpperCase().padStart(2,"0")).join(" ");return u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-cyber-blue",children:"Detailed Test Log"}),u.jsxs("div",{className:"text-sm text-gray-400",children:[b.length," / ",t.requestResponsePairs.length," items"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",placeholder:"Search by description...",value:s,onChange:E=>a(E.target.value),className:"w-full px-4 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyber-blue transition-colors"})}),u.jsxs("select",{value:r,onChange:E=>l(E.target.value),className:"px-4 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white focus:outline-none focus:border-cyber-blue transition-colors cursor-pointer",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"success",children:"Success Only"}),u.jsx("option",{value:"nrc",children:"NRC Only"})]}),u.jsx("button",{onClick:()=>gE.exportTestLogToCSV(e,t),className:"px-4 py-2 bg-dark-800 border border-dark-600 rounded-lg text-gray-200 hover:bg-dark-700 hover:border-cyber-blue transition-all duration-200 whitespace-nowrap",title:"Export test log as CSV",children:" Export CSV"})]}),u.jsxs("div",{className:"overflow-x-auto custom-scrollbar",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-dark-600",children:[u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"#"}),u.jsxs("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold cursor-pointer hover:text-cyber-blue transition-colors",onClick:()=>v("time"),children:["Time ",c==="time"&&(h==="asc"?"":"")]}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"SID"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Sub-Func"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold min-w-[300px]",children:"Description"}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Status"}),u.jsxs("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold cursor-pointer hover:text-cyber-blue transition-colors",onClick:()=>v("duration"),children:["Duration ",c==="duration"&&(h==="asc"?"":"")]}),u.jsx("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold",children:"Actions"})]})}),u.jsx("tbody",{children:b.map(E=>{const N=t.requestResponsePairs.indexOf(E),R=g===N,D=E.status==="success";return u.jsxs(rt.Fragment,{children:[u.jsxs("tr",{className:`border-b border-dark-700/50 transition-colors hover:bg-dark-700/30 ${R?"bg-dark-700/50":""} ${D?"border-l-2 border-l-cyber-green":"border-l-2 border-l-red-500"}`,children:[u.jsx("td",{className:"py-3 px-4 text-gray-400",children:N+1}),u.jsx("td",{className:"py-3 px-4 font-mono text-xs text-gray-300",children:new Date(E.request.timestamp).toLocaleTimeString()}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("code",{className:"text-cyber-blue",children:["0x",E.request.sid.toString(16).toUpperCase().padStart(2,"0")]})}),u.jsx("td",{className:"py-3 px-4",children:E.request.subFunction!==void 0?u.jsxs("code",{className:"text-purple-400",children:["0x",E.request.subFunction.toString(16).toUpperCase().padStart(2,"0")]}):u.jsx("span",{className:"text-gray-600",children:"-"})}),u.jsx("td",{className:"py-3 px-4 text-gray-300",children:E.request.description}),u.jsx("td",{className:"py-3 px-4",children:D?u.jsx("span",{className:"px-3 py-1 bg-cyber-green/20 text-white rounded-full text-xs font-bold",children:"SUCCESS"}):E.response.nrc?u.jsxs("span",{className:"px-3 py-1 bg-red-500/20 text-white rounded-full text-xs font-bold font-mono",children:["NRC 0x",E.response.nrc.toString(16).toUpperCase().padStart(2,"0")]}):u.jsx("span",{className:"px-3 py-1 bg-gray-500/20 text-white rounded-full text-xs font-bold",children:"TIMEOUT"})}),u.jsxs("td",{className:"py-3 px-4 text-gray-400",children:[E.duration,"ms"]}),u.jsx("td",{className:"py-3 px-4",children:u.jsx("button",{onClick:()=>x(R?null:N),className:"text-cyber-blue hover:text-cyber-pink transition-colors","aria-label":R?"Collapse":"Expand",children:R?"":""})})]}),R&&u.jsx("tr",{className:"bg-dark-800/80 border-b border-dark-700",children:u.jsx("td",{colSpan:8,className:"py-4 px-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"REQUEST DATA"}),u.jsx("div",{className:"bg-dark-900/50 p-3 rounded font-mono text-xs text-cyber-blue break-all",children:C(E.request.data)}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Service: ",bn.getSIDName(E.request.sid)]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-bold text-gray-400 mb-2",children:"RESPONSE DATA"}),u.jsx("div",{className:"bg-dark-900/50 p-3 rounded font-mono text-xs text-purple-400 break-all",children:C(E.response.data)}),E.response.nrc&&u.jsxs("p",{className:"text-xs text-red-400 mt-2",children:["Error: ",bn.getNRCDescription(E.response.nrc).description]})]})]})})})]},N)})})]}),b.length===0&&u.jsx("div",{className:"text-center py-12 text-gray-500",children:u.jsx("p",{children:"No items match your filters"})})]})]})};class Bz{exportToHTML(e,s){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${this.escapeHtml(e.name)} - UDS Test Report</title>
    <style>
        ${this.getEmbeddedCSS()}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>${this.escapeHtml(e.name)}</h1>
            <p class="subtitle">${this.escapeHtml(e.description)}</p>
            <div class="metadata">
                <span>Report ID: ${this.escapeHtml(e.id)}</span>
                <span>Version: ${this.escapeHtml(e.version)}</span>
                <span>Generated: ${new Date().toLocaleString()}</span>
            </div>
        </header>

        ${this.generateSummarySection(s)}
        ${this.generateNRCAnalysisSection(s)}
        ${this.generateTimelineSection(s)}
        ${this.generateDetailedLogSection(s)}
    </div>

    <script>
        ${this.getEmbeddedJS()}
    <\/script>
</body>
</html>`}generateSummarySection(e){const{summary:s}=e;return`
        <section class="summary-section">
            <h2>Test Summary</h2>
            <div class="stat-grid">
                <div class="stat-card">
                    <div class="stat-value">${s.totalRequests}</div>
                    <div class="stat-label">Total Requests</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-value">${s.successCount}</div>
                    <div class="stat-label">Successful</div>
                </div>
                <div class="stat-card error">
                    <div class="stat-value">${s.nrcCount}</div>
                    <div class="stat-label">NRC Errors</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${s.successRate.toFixed(1)}%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${bn.formatDuration(s.duration)}</div>
                    <div class="stat-label">Duration</div>
                </div>
            </div>
        </section>`}generateNRCAnalysisSection(e){const s=Array.from(e.nrcBreakdown.entries()).sort((a,r)=>r[1].count-a[1].count).map(([a,r])=>{const l=bn.getNRCDescription(a);return`
                <tr>
                    <td><code>0x${a.toString(16).toUpperCase().padStart(2,"0")}</code></td>
                    <td>${this.escapeHtml(r.description)}</td>
                    <td>${r.count}</td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${r.percentage}%"></div>
                        </div>
                        <span class="percentage">${r.percentage.toFixed(1)}%</span>
                    </td>
                    <td><span class="severity ${l.severity}">${l.severity}</span></td>
                </tr>`}).join("");return`
        <section class="nrc-section">
            <h2>NRC Analysis</h2>
            ${e.nrcBreakdown.size>0?`<table class="data-table">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Description</th>
                            <th>Count</th>
                            <th>Percentage</th>
                            <th>Severity</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${s}
                    </tbody>
                </table>`:'<p class="no-data">No NRC errors encountered in this test session.</p>'}
        </section>`}generateTimelineSection(e){return`
        <section class="timeline-section">
            <h2>Test Timeline</h2>
            <div class="timeline-container">
                ${e.timeline.slice(0,50).map(a=>{const r=a.isSuccess?"success":"error",l=a.nrc?` (NRC: 0x${a.nrc.toString(16).toUpperCase().padStart(2,"0")})`:"";return`
                <div class="timeline-item ${r}" title="${this.escapeHtml(a.description)}${l}">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-description">${this.escapeHtml(a.description)}</div>
                        <div class="timeline-time">${new Date(a.timestamp).toLocaleTimeString()}</div>
                    </div>
                    <div class="timeline-status">${a.isSuccess?"":""}</div>
                </div>`}).join("")}
            </div>
            ${e.timeline.length>50?'<p class="note">Showing first 50 items. See detailed log for complete timeline.</p>':""}
        </section>`}generateDetailedLogSection(e){return`
        <section class="log-section">
            <h2>Detailed Test Log</h2>
            <div class="table-controls">
                <input type="text" id="filterInput" placeholder="Filter by description..." />
                <select id="statusFilter">
                    <option value="all">All Status</option>
                    <option value="success">Success Only</option>
                    <option value="error">NRC Only</option>
                </select>
            </div>
            <div class="table-wrapper">
                <table class="data-table" id="logTable">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Time</th>
                            <th>SID</th>
                            <th>Sub-Func</th>
                            <th>Description</th>
                            <th>Status</th>
                            <th>Request Data</th>
                            <th>Response Data</th>
                            <th>Duration</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${e.requestResponsePairs.map((a,r)=>{const l=a.status==="success"?"success":"error",c=a.status==="success"?"Success":a.response.nrc?`NRC 0x${a.response.nrc.toString(16).toUpperCase().padStart(2,"0")}`:"No Response",f=a.request.data.map(m=>m.toString(16).toUpperCase().padStart(2,"0")).join(" "),h=a.response.data.map(m=>m.toString(16).toUpperCase().padStart(2,"0")).join(" ");return`
                <tr class="${l}">
                    <td>${r+1}</td>
                    <td>${new Date(a.request.timestamp).toLocaleTimeString()}</td>
                    <td><code>0x${a.request.sid.toString(16).toUpperCase().padStart(2,"0")}</code></td>
                    <td>${a.request.subFunction!==void 0?`0x${a.request.subFunction.toString(16).toUpperCase().padStart(2,"0")}`:"-"}</td>
                    <td class="description">${this.escapeHtml(a.request.description)}</td>
                    <td><span class="status-badge ${l}">${c}</span></td>
                    <td><code>${f||"-"}</code></td>
                    <td><code>${h||"-"}</code></td>
                    <td>${a.duration}ms</td>
                </tr>`}).join("")}
                    </tbody>
                </table>
            </div>
        </section>`}getEmbeddedCSS(){return`
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            line-height: 1.6;
            padding: 2rem;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header { margin-bottom: 3rem; text-align: center; }
        h1 { font-size: 2.5rem; color: #00f3ff; margin-bottom: 0.5rem; }
        .subtitle { font-size: 1.1rem; color: #94a3b8; margin-bottom: 1rem; }
        .metadata { display: flex; gap: 2rem; justify-content: center; font-size: 0.9rem; color: #64748b; }
        
        h2 { font-size: 1.8rem; color: #00f3ff; margin-bottom: 1.5rem; }
        
        section { 
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(0, 243, 255, 0.2);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .stat-grid { 
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        .stat-card {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        .stat-card.success { border-color: rgba(16, 185, 129, 0.5); }
        .stat-card.error { border-color: rgba(239, 68, 68, 0.5); }
        .stat-value { 
            font-size: 2.5rem;
            font-weight: bold;
            color: #00f3ff;
            margin-bottom: 0.5rem;
        }
        .stat-card.success .stat-value { color: #10b981; }
        .stat-card.error .stat-value { color: #ef4444; }
        .stat-label { color: #94a3b8; font-size: 0.9rem; }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(15, 23, 42, 0.5);
        }
        .data-table th {
            background: rgba(0, 243, 255, 0.1);
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid rgba(0, 243, 255, 0.3);
            color: #00f3ff;
        }
        .data-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(100, 116, 139, 0.2);
        }
        .data-table tr:hover { background: rgba(0, 243, 255, 0.05); }
        .data-table tr.success { border-left: 3px solid #10b981; }
        .data-table tr.error { border-left: 3px solid #ef4444; }
        
        code { 
            background: rgba(0, 0, 0, 0.3);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #00f3ff;
        }
        
        .progress-bar {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            height: 8px;
            overflow: hidden;
            display: inline-block;
            width: 100px;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
        .progress-fill {
            background: linear-gradient(90deg, #ef4444, #f97316);
            height: 100%;
            transition: width 0.3s ease;
        }
        .percentage { font-size: 0.9rem; color: #94a3b8; }
        
        .severity {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        .severity.info { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .severity.warning { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
        .severity.error { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .severity.critical { background: rgba(220, 38, 38, 0.2); color: #dc2626; }
        
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        .status-badge.success { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .status-badge.error { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        
        .timeline-container {
            max-height: 600px;
            overflow-y: auto;
        }
        .timeline-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            margin-bottom: 0.5rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            border-left: 3px solid #64748b;
        }
        .timeline-item.success { border-left-color: #10b981; }
        .timeline-item.error { border-left-color: #ef4444; }
        .timeline-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #64748b;
            flex-shrink: 0;
        }
        .timeline-item.success .timeline-dot { background: #10b981; }
        .timeline-item.error .timeline-dot { background: #ef4444; }
        .timeline-content { flex: 1; }
        .timeline-description { color: #e2e8f0; margin-bottom: 0.25rem; }
        .timeline-time { font-size: 0.85rem; color: #64748b; }
        .timeline-status {
            font-size: 1.5rem;
            font-weight: bold;
            flex-shrink: 0;
        }
        .timeline-item.success .timeline-status { color: #10b981; }
        .timeline-item.error .timeline-status { color: #ef4444; }
        
        .table-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .table-controls input,
        .table-controls select {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(100, 116, 139, 0.3);
            border-radius: 6px;
            padding: 0.5rem 1rem;
            color: #e2e8f0;
            font-size: 0.95rem;
        }
        .table-controls input { flex: 1; }
        .table-controls input:focus,
        .table-controls select:focus {
            outline: 2px solid #00f3ff;
            border-color: #00f3ff;
        }
        
        .table-wrapper { overflow-x: auto; }
        .description { max-width: 400px; }
        .no-data { text-align: center; color: #64748b; padding: 2rem; }
        .note { color: #64748b; font-size: 0.9rem; margin-top: 1rem; text-align: center; }
        
        @media print {
            body { background: white; color: black; }
            section { border: 1px solid #ccc; background: white; }
        }
    `}getEmbeddedJS(){return`
        // Filter functionality
        const filterInput = document.getElementById('filterInput');
        const statusFilter = document.getElementById('statusFilter');
        const logTable = document.getElementById('logTable');
        
        function filterTable() {
            const filterText = filterInput.value.toLowerCase();
            const statusValue = statusFilter.value;
            const rows = logTable.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                const description = row.querySelector('.description').textContent.toLowerCase();
                const matchesText = description.includes(filterText);
                const matchesStatus = statusValue === 'all' || row.classList.contains(statusValue);
                
                row.style.display = (matchesText && matchesStatus) ? '' : 'none';
            });
        }
        
        if (filterInput && statusFilter) {
            filterInput.addEventListener('input', filterTable);
            statusFilter.addEventListener('change', filterTable);
        }
    `}escapeHtml(e){const s=document.createElement("div");return s.textContent=e,s.innerHTML}downloadHTML(e,s){const a=new Blob([e],{type:"text/html"}),r=URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r)}}const DS=new Bz,Fz=()=>{const t=$i(),[e,s]=w.useState(null),[a,r]=w.useState(null),[l,c]=w.useState(!1),[f,h]=w.useState(null),[m,g]=w.useState(!1);w.useEffect(()=>{const R=t.state?.reportData;if(R){try{s(R);const j=bn.analyzeReport(R);r(j),sessionStorage.removeItem("currentReport")}catch(j){h(j instanceof Error?j.message:"Failed to load report from navigation")}return}const D=sessionStorage.getItem("currentReport");if(D)try{const j=JSON.parse(D);s(j);const O=bn.analyzeReport(j);r(O),sessionStorage.removeItem("currentReport")}catch(j){h(j instanceof Error?j.message:"Failed to load report from sessionStorage")}},[t.state]);const x=w.useCallback(R=>{c(!0),h(null);const D=new FileReader;D.onload=j=>{try{const O=JSON.parse(j.target?.result);if(!O.requests||!O.responses||!O.metadata)throw new Error("Invalid report format. Missing required fields.");s(O);const k=bn.analyzeReport(O);r(k),c(!1)}catch(O){h(O instanceof Error?O.message:"Failed to parse JSON file"),c(!1)}},D.onerror=()=>{h("Failed to read file"),c(!1)},D.readAsText(R)},[]),b=w.useCallback(R=>{R.preventDefault(),g(!1);const D=R.dataTransfer.files;if(D.length>0){const j=D[0];j.type==="application/json"||j.name.endsWith(".json")?x(j):h("Please upload a JSON file")}},[x]),v=w.useCallback(R=>{const D=R.target.files;D&&D.length>0&&x(D[0])},[x]),C=w.useCallback(()=>{if(!e||!a)return;const R=DS.exportToHTML(e,a),D=`${e.id}_analysis_${Date.now()}.html`;DS.downloadHTML(R,D)},[e,a]),E=w.useCallback(()=>{!e||!a||gE.exportCompleteToCSV(e,a)},[e,a]),N=w.useCallback(()=>{s(null),r(null),h(null)},[]);return u.jsxs("div",{className:"min-h-screen relative overflow-hidden transition-colors duration-300",children:[u.jsx("div",{className:"cyber-grid"}),u.jsx(Gl,{}),u.jsx("div",{className:"scanline","aria-hidden":"true"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-cyber-blue focus:text-dark-900 focus:rounded-lg focus:font-bold",children:"Skip to main content"}),u.jsx(ld,{}),u.jsxs("main",{id:"main-content",className:"container mx-auto px-4 py-4 sm:py-6 lg:py-8",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Test Report Analysis"}),u.jsx("p",{className:"text-gray-400",children:"Upload and analyze UDS test session exports with detailed visualizations"})]}),!e&&u.jsx("div",{className:"max-w-3xl mx-auto",children:u.jsxs("div",{className:`glass-card p-12 text-center transition-all duration-300 ${m?"border-cyber-blue bg-cyber-blue/10 scale-105":""}`,onDragOver:R=>{R.preventDefault(),g(!0)},onDragLeave:()=>g(!1),onDrop:b,children:[u.jsx("div",{className:"text-6xl mb-6",children:""}),u.jsx("h2",{className:"text-2xl font-bold text-cyber-blue mb-4",children:"Upload Test Report"}),u.jsx("p",{className:"text-gray-400 mb-6",children:"Drag and drop a JSON test report file here, or click to browse"}),u.jsxs("label",{className:"inline-block",children:[u.jsx("input",{type:"file",accept:".json,application/json",onChange:v,className:"hidden",disabled:l}),u.jsx("span",{className:"cursor-pointer px-8 py-3 bg-gradient-to-r from-cyber-blue to-cyber-pink text-white rounded-lg font-bold hover:scale-105 transition-transform duration-200 inline-block",children:l?"Loading...":"Select File"})]}),f&&u.jsx("div",{className:"mt-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400",children:f}),u.jsxs("div",{className:"mt-8 pt-8 border-t border-dark-600",children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Supported formats:"}),u.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[u.jsx("li",{children:" UDS Session Export (JSON)"}),u.jsx("li",{children:" Test Case Reports (SID*_TestCases_report.json)"}),u.jsx("li",{children:" Custom UDS Test Logs"})]})]})]})}),e&&a&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsxs("button",{onClick:C,className:"px-6 py-3 bg-gradient-to-r from-cyber-blue to-purple-500 text-white rounded-lg font-bold hover:scale-105 transition-transform duration-200 flex items-center gap-2",children:[u.jsx("span",{children:""}),"Export as HTML"]}),u.jsxs("button",{onClick:E,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg font-bold hover:scale-105 transition-transform duration-200 flex items-center gap-2",children:[u.jsx("span",{children:""}),"Export as CSV"]}),u.jsx("button",{onClick:N,className:"px-6 py-3 bg-dark-800 border border-dark-600 text-gray-300 rounded-lg font-bold hover:bg-dark-700 hover:border-cyber-blue transition-all duration-200",children:"Load Different Report"})]}),u.jsx(Oz,{analysis:a,reportName:e.name}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(Lz,{analysis:a}),u.jsx(Pz,{analysis:a})]}),u.jsx(Iz,{analysis:a,report:e})]})]})]})]})};function Vz(){return u.jsx(JT,{basename:"/UDS-SIMULATION",children:u.jsx(uk,{children:u.jsx(Lk,{children:u.jsxs(jT,{children:[u.jsx(yl,{path:"/",element:u.jsx(bz,{})}),u.jsx(yl,{path:"/learn",element:u.jsx(Sz,{})}),u.jsx(yl,{path:"/cluster",element:u.jsx(jz,{})}),u.jsx(yl,{path:"/report",element:u.jsx(Fz,{})})]})})})})}zR.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(Vz,{})}));
